import{m as de,f as H,b as t,t as he,r as l,j as e,e as g,k as ne,l as pe,P as fe,n as ce}from"./index-75d7470b.js";import{u as ye}from"./usePagination-b946ac42.js";import{u as me}from"./useTableFilters-0b8dd77f.js";import{e as ge}from"./errorHandler-5ea9ae85.js";import{A as z}from"./AsciiPanel-9f053981.js";import{A as D}from"./AsciiButton-446d8430.js";import{C as je,a as be,L as ve,A as Ce,p as _e,b as Se,c as Ae}from"./chart-a081329f.js";import{S as Le}from"./SkeletonLoader-530eacc4.js";const Ne=de`
  from {
    opacity: 0;
    transform: translateY(-5px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
`,ue=H.div`
  font-family: Consolas;
  font-size: 12px;
  background: ${t.background};
  border: 1px solid ${t.border};
  border-radius: 2px;
  padding: 16px;
  max-height: 800px;
  overflow-y: auto;
  overflow-x: hidden;
  position: relative;
  
  &::-webkit-scrollbar {
    width: 8px;
  }
  
  &::-webkit-scrollbar-track {
    background: ${t.backgroundSoft};
    border-radius: 2px;
  }
  
  &::-webkit-scrollbar-thumb {
    background: ${t.border};
    border-radius: 2px;
    transition: background 0.2s ease;
    
    &:hover {
      background: ${t.accent};
    }
  }
`,Te=H.div`
  user-select: none;
  margin: 4px 0;
`,De=H.div`
  display: flex;
  align-items: center;
  padding: 8px;
  border-radius: 2px;
  transition: all 0.2s ease;
  cursor: pointer;
  font-family: Consolas;
  font-size: 12px;
  background: transparent;
  
  &:hover {
    background: ${t.backgroundSoft};
  }
`,Fe=H.div`
  width: 16px;
  height: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-right: 8px;
  border-radius: 2px;
  background: ${r=>r.$isExpanded?t.accent:t.backgroundSoft};
  color: ${r=>r.$isExpanded?"#ffffff":t.accent};
  font-size: 10px;
  font-weight: bold;
  font-family: Consolas;
  transition: all 0.2s ease;
  flex-shrink: 0;
  
  &:hover {
    transform: scale(1.1);
  }
`,we=H.span`
  font-weight: 500;
  font-family: Consolas;
  font-size: 13px;
  color: ${t.accent};
  flex: 1;
  display: flex;
  align-items: center;
  gap: 8px;
`,ze=H.span`
  background: ${t.backgroundSoft};
  color: ${t.foreground};
  padding: 2px 8px;
  border-radius: 2px;
  font-size: 11px;
  font-weight: 500;
  font-family: Consolas;
  border: 1px solid ${t.border};
  transition: all 0.2s ease;
  
  &:hover {
    background: ${t.accentLight};
    border-color: ${t.accent};
    color: ${t.accent};
    transform: translateY(-1px);
  }
`,ke=H.div`
  max-height: ${r=>r.$isExpanded?"10000px":"0"};
  overflow: hidden;
  transition: max-height 0.3s ease-out;
  margin-left: 28px;
`,Ee=H.div`
  padding: 8px;
  padding-left: ${r=>(r.$level||0)*24+36}px;
  margin: 2px 0;
  border-radius: 2px;
  background: transparent;
  border: 1px solid ${t.border};
  transition: all 0.2s ease;
  cursor: pointer;
  font-family: Consolas;
  font-size: 12px;
  
  &:hover {
    background: ${t.backgroundSoft};
    border-color: ${t.accent};
    transform: translateX(4px);
  }
`,J=r=>{if(!r)return t.muted;switch(r){case"HEALTHY":case"EXCELLENT":return t.success;case"WARNING":return t.warning;case"CRITICAL":case"EMERGENCY":return t.danger;default:return t.muted}},le=r=>r>=90?t.success:r>=70?t.accent:r>=50?t.warning:t.danger;H.div`
  font-size: 3em;
  margin-bottom: ${he.spacing.md};
  animation: ${Ne} 0.5s ease-out;
  font-family: "Consolas, 'Source Code Pro', monospace";
  opacity: 0.5;
`;H.div`
  font-size: 1.1em;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
  font-weight: 500;
  margin-bottom: ${he.spacing.sm};
`;H.div`
  font-size: 0.9em;
  opacity: 0.7;
`;const Re=({items:r,onItemClick:L})=>{const[I,k]=l.useState(new Set),f=l.useMemo(()=>{const o=new Map;return r.forEach(c=>{const h=c.schema_name||"default";o.has(h)||o.set(h,{name:h,tables:[]}),o.get(h).tables.push(c)}),Array.from(o.values()).sort((c,h)=>c.name.localeCompare(h.name))},[r]),_=o=>{k(c=>{const h=new Set(c);return h.has(o)?h.delete(o):h.add(o),h})},$=(o,c)=>{if(o===0)return null;const h=[];for(let S=0;S<o-1;S++)h.push("│  ");return h.push(c?"└─ ":"├─ "),e.jsx("span",{style:{color:t.muted,fontFamily:"Consolas",fontSize:12},children:h.join("")})},R=o=>{if(o==null)return"N/A";const c=Number(o);return isNaN(c)?"N/A":c.toLocaleString()},V=o=>{if(o==null)return"N/A";const c=Number(o);return isNaN(c)?"N/A":c<1?`${(c*1024).toFixed(2)} KB`:`${c.toFixed(2)} MB`},i=(o,c)=>{const h=I.has(o.name),S=!1;return e.jsxs(Te,{children:[e.jsxs(De,{onClick:()=>_(o.name),children:[$(c,S),e.jsx(Fe,{$isExpanded:h,children:h?g.arrowDown:g.arrowRight}),e.jsx("span",{style:{marginRight:"8px",color:t.accent,fontFamily:"Consolas"},children:g.blockFull}),e.jsxs(we,{children:[o.name,e.jsx(ze,{children:o.tables.length})]})]}),e.jsx(ke,{$isExpanded:h,children:h&&o.tables.map((N,O)=>M(N,o.name,c+1,O===o.tables.length-1))})]},o.name)},M=(o,c,h,S)=>e.jsxs(Ee,{$level:h,onClick:()=>L==null?void 0:L(o),children:[$(h,S),e.jsx("span",{style:{marginRight:"8px",color:t.muted,fontFamily:"Consolas"},children:g.blockFull}),e.jsx("span",{style:{marginRight:"8px",fontWeight:500,color:t.foreground,fontFamily:"Consolas"},children:o.table_name||"N/A"}),o.inferred_source_engine&&e.jsx("span",{style:{padding:"2px 8px",borderRadius:2,fontSize:11,fontFamily:"Consolas",backgroundColor:t.backgroundSoft,color:t.foreground,border:`1px solid ${t.border}`,marginRight:4},children:o.inferred_source_engine}),o.data_category&&e.jsx("span",{style:{padding:"2px 8px",borderRadius:2,fontSize:11,fontFamily:"Consolas",backgroundColor:t.backgroundSoft,color:t.foreground,border:`1px solid ${t.border}`,marginRight:4},children:o.data_category}),o.health_status&&e.jsx("span",{style:{padding:"2px 8px",borderRadius:2,fontSize:11,fontFamily:"Consolas",backgroundColor:J(o.health_status)+"20",color:J(o.health_status),border:`1px solid ${J(o.health_status)}`,marginRight:4},children:o.health_status}),o.sensitivity_level&&e.jsx("span",{style:{padding:"2px 8px",borderRadius:2,fontSize:11,fontFamily:"Consolas",backgroundColor:J(o.sensitivity_level)+"20",color:J(o.sensitivity_level),border:`1px solid ${J(o.sensitivity_level)}`,marginRight:4},children:o.sensitivity_level}),o.data_quality_score!==void 0&&e.jsxs("span",{style:{padding:"2px 8px",borderRadius:2,fontSize:11,fontFamily:"Consolas",backgroundColor:le(o.data_quality_score)+"20",color:le(o.data_quality_score),border:`1px solid ${le(o.data_quality_score)}`,marginRight:4},children:[o.data_quality_score,"%"]}),e.jsxs("span",{style:{marginLeft:"auto",color:t.muted,fontSize:11,fontFamily:"Consolas"},children:[R(o.total_rows)," rows ",g.bullet," ",V(o.table_size_mb)]})]},o.id);return f.length===0?e.jsx(ue,{children:e.jsxs("div",{style:{padding:"60px 40px",textAlign:"center",color:t.muted,fontFamily:"Consolas"},children:[e.jsx("div",{style:{fontSize:48,marginBottom:16,fontFamily:"Consolas",opacity:.5},children:g.blockFull}),e.jsx("div",{style:{fontSize:13,fontFamily:"Consolas",fontWeight:600,marginBottom:8,color:t.foreground},children:"No governance data available"}),e.jsx("div",{style:{fontSize:12,fontFamily:"Consolas",opacity:.7,color:t.muted},children:"Data will appear here once collected."})]})}):e.jsx(ue,{children:f.map(o=>i(o,0))})};je.register(be,ve,Ce,_e,Se,Ae);const Be=({data:r,color:L,height:I=4,width:k=30,labels:f})=>{const[_,$]=l.useState(null),[R,V]=l.useState(null),i=l.useRef(null);if(!r||r.length===0)return e.jsx("span",{style:{color:t.muted},children:g.dot.repeat(k)});const M=r.slice(-k),o=f?f.slice(-k):[],c=Math.min(...M),S=Math.max(...M)-c||1,N=["▁","▂","▃","▄","▅","▆","▇","█"],O=B=>{if(S===0)return N[0];const T=(B-c)/S,E=Math.floor(T*(N.length-1));return N[Math.max(0,Math.min(N.length-1,E))]},m=(B,T)=>{if(i.current){const E=i.current.getBoundingClientRect();V({x:B.clientX-E.left,y:B.clientY-E.top-30}),$(T)}},G=()=>{$(null),V(null)};return e.jsxs("div",{ref:i,style:{position:"relative",display:"inline-block"},onMouseLeave:G,children:[e.jsx("span",{style:{color:L,fontFamily:"Consolas",fontSize:11,letterSpacing:0,lineHeight:1,display:"inline-block"},children:M.map((B,T)=>e.jsx("span",{onMouseMove:E=>m(E,T),style:{cursor:"pointer",transition:"all 0.2s ease",transform:_===T?"scale(1.2)":"scale(1)",display:"inline-block",position:"relative"},children:O(B)},T))}),_!==null&&R&&e.jsxs("div",{style:{position:"absolute",left:`${R.x}px`,top:`${R.y}px`,transform:"translateX(-50%)",backgroundColor:t.background,border:`1px solid ${t.border}`,borderRadius:2,padding:"6px 10px",fontSize:10,fontFamily:"Consolas",color:t.foreground,whiteSpace:"nowrap",zIndex:1e3,boxShadow:"0 4px 12px rgba(0,0,0,0.2)",pointerEvents:"none",animation:"fadeInUp 0.15s ease-out",transition:"opacity 0.15s ease, transform 0.15s ease"},children:[e.jsx("div",{style:{color:t.accent,fontWeight:600,marginBottom:2},children:M[_].toFixed(2)}),o[_]&&e.jsx("div",{style:{color:t.muted,fontSize:9},children:new Date(o[_]).toLocaleTimeString()})]})]})},Ie=({selectedTable:r})=>{const[L,I]=l.useState(30),[k,f]=l.useState(!1),[_,$]=l.useState(null),[R,V]=l.useState([]),[i,M]=l.useState(null),o=l.useRef(null),c=l.useCallback(async()=>{var b,y,a,p;o.current&&o.current.abort(),o.current=new AbortController;const s=o.current;f(!0),$(null);try{const u={days:L,limit:1e4};r&&(u.schema=r.schema_name,u.table=r.table_name,u.engine=r.inferred_source_engine);const[A,v]=await Promise.all([ne.getGovernanceHistory(u,s.signal),ne.getGovernanceStats({days:L},s.signal)]);!s.signal.aborted&&o.current===s&&(V(((b=A.data)==null?void 0:b.data)||[]),M(v))}catch(u){const A=u.name==="CanceledError"||u.name==="AbortError"||((y=u.message)==null?void 0:y.includes("canceled"))||((a=u.message)==null?void 0:a.includes("aborted"))||((p=u.message)==null?void 0:p.includes("Request cancelled"));if(!A&&o.current===s){const v=ge(u);$(v),console.error("Error fetching governance charts data:",u)}else if(A)return}finally{o.current===s&&f(!1)}},[L,r]);l.useEffect(()=>(c(),()=>{o.current&&o.current.abort()}),[L,r]);const h=()=>{if(!R.length)return null;const s=[...R].sort((y,a)=>new Date(y.snapshot_date).getTime()-new Date(a.snapshot_date).getTime());let b;if(r)b=s;else{const y=new Map;s.forEach(a=>{const p=new Date(a.snapshot_date).toISOString();y.has(p)||y.set(p,{data_quality_score:0,table_size_mb:0,total_rows:0,fragmentation_percentage:0,count:0,timestamp:p});const u=y.get(p);u.data_quality_score+=Number(a.data_quality_score)||0,u.table_size_mb+=Number(a.table_size_mb)||0,u.total_rows+=Number(a.total_rows)||0,u.fragmentation_percentage+=Number(a.fragmentation_percentage)||0,u.count+=1}),b=Array.from(y.values()).map(a=>({snapshot_date:a.timestamp,data_quality_score:a.count>0?a.data_quality_score/a.count:0,table_size_mb:a.table_size_mb,total_rows:a.total_rows,fragmentation_percentage:a.count>0?a.fragmentation_percentage/a.count:0})).sort((a,p)=>new Date(a.snapshot_date).getTime()-new Date(p.snapshot_date).getTime())}return b},S=(s,b,y,a,p,u,A,v)=>{const U=a.length>0&&Number(a[a.length-1])||0,q=Number(b)||U||0,ee=a.length>1,ie=ee?Math.min(...a.map(d=>Number(d)||0)):0,te=ee?Math.max(...a.map(d=>Number(d)||0)):0,oe=A||(te>0?te:100),ae=oe>0?q/oe*100:0,n=Math.min(100,Math.max(0,ae));return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8,padding:"12px",backgroundColor:t.background,borderRadius:2,border:`1px solid ${t.border}`,transition:"all 0.2s ease"},onMouseEnter:d=>{d.currentTarget.style.borderColor=p,d.currentTarget.style.backgroundColor=t.backgroundSoft},onMouseLeave:d=>{d.currentTarget.style.borderColor=t.border,d.currentTarget.style.backgroundColor=t.background},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:4},children:[e.jsxs("div",{style:{fontSize:11,color:t.accent,fontWeight:500,display:"flex",alignItems:"center",gap:6,fontFamily:"Consolas"},children:[e.jsx("span",{children:u}),e.jsx("span",{children:s})]}),e.jsxs("div",{style:{fontSize:13,fontWeight:600,color:p,fontFamily:"Consolas"},children:[typeof q=="number"?q.toFixed(1):Number(q||0).toFixed(1),y]})]}),e.jsx("div",{style:{width:"100%",height:6,backgroundColor:t.backgroundSoft,borderRadius:1,overflow:"hidden",border:`1px solid ${t.border}`},children:e.jsx("div",{style:{width:`${n}%`,height:"100%",backgroundColor:p,transition:"width 0.3s ease",borderRadius:1}})}),e.jsx(Be,{data:a,color:p,width:40,labels:v}),ee&&e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:9,color:t.muted,marginTop:2,fontFamily:"Consolas"},children:[e.jsxs("span",{children:["Min: ",ie.toFixed(1),y]}),e.jsxs("span",{children:["Max: ",te.toFixed(1),y]})]})]})},N=()=>i!=null&&i.summary?{labels:["HEALTHY","WARNING","CRITICAL"],datasets:[{data:[parseInt(i.summary.healthy_count||0),parseInt(i.summary.warning_count||0),parseInt(i.summary.critical_count||0)],backgroundColor:[t.success+"80",t.warning+"80",t.danger+"80"],borderColor:[t.success,t.warning,t.danger],borderWidth:2}]}:null,O=()=>!(i!=null&&i.byEngine)||!i.byEngine.length?null:{labels:i.byEngine.map(s=>s.inferred_source_engine||"Unknown"),datasets:[{label:"Tables",data:i.byEngine.map(s=>parseInt(s.table_count||0)),backgroundColor:[t.accent+"80",t.success+"80",t.warning+"80",t.danger+"80","#9b59b680"],borderColor:[t.accent,t.success,t.warning,t.danger,"#9b59b6"],borderWidth:2}]},m=h(),G=N(),B=O(),T=m?m.map(s=>Number(s.data_quality_score)||0):[],E=m?m.map(s=>s.snapshot_date):[],Y=m?m.map(s=>Number(s.table_size_mb)||0):[],P=m?m.map(s=>Number(s.total_rows)||0):[],Q=m?m.map(s=>Number(s.fragmentation_percentage)||0):[],F=T.length>0&&Number(T[T.length-1])||0,Z=Y.length>0&&Number(Y[Y.length-1])||0,se=P.length>0&&Number(P[P.length-1])||0,x=Q.length>0&&Number(Q[Q.length-1])||0;return e.jsxs("div",{style:{fontFamily:"Consolas",fontSize:12},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16,flexWrap:"wrap",gap:12},children:[e.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[e.jsx("span",{style:{color:t.muted,fontSize:11},children:"Time Range:"}),e.jsxs("select",{value:L,onChange:s=>I(Number(s.target.value)),style:{padding:"4px 8px",border:`1px solid ${t.border}`,borderRadius:2,fontFamily:"Consolas",fontSize:11,backgroundColor:t.background,color:t.foreground},children:[e.jsx("option",{value:1,children:"Last 24 hours"}),e.jsx("option",{value:7,children:"Last 7 days"}),e.jsx("option",{value:30,children:"Last 30 days"}),e.jsx("option",{value:90,children:"Last 90 days"}),e.jsx("option",{value:180,children:"Last 6 months"}),e.jsx("option",{value:240,children:"Last 8 months"})]})]}),e.jsx(D,{label:"Refresh",onClick:c,variant:"ghost",disabled:k})]}),_&&e.jsx(z,{title:"ERROR",children:e.jsx("div",{style:{padding:"12px",color:t.danger,fontSize:11,fontFamily:"Consolas"},children:_})}),k&&e.jsx("div",{style:{padding:20,textAlign:"center",color:t.muted},children:"Loading charts..."}),!k&&!_&&m&&e.jsxs("div",{style:{border:`1px solid ${t.border}`,borderRadius:2,padding:16,backgroundColor:t.backgroundSoft,marginBottom:16},children:[e.jsxs("h2",{style:{fontSize:14,fontFamily:"Consolas",fontWeight:600,color:t.accent,margin:0,marginBottom:16,paddingBottom:8,borderBottom:`1px solid ${t.border}`},children:[g.blockFull," GOVERNANCE METRICS"]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[S("Quality Score",F,"%",T,F>=90?t.success:F>=70?t.warning:t.danger,g.blockFull,100,E),S("Table Size",Z," MB",Y,t.accent,g.blockSemi,void 0,E),S("Total Rows",se,"",P,t.success,g.blockLight,void 0,E),S("Fragmentation",x,"%",Q,x>30?t.danger:x>10?t.warning:t.success,g.dot,100,E)]})]}),!k&&!_&&e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16,marginBottom:16},children:[G&&(()=>{const s=G.datasets[0].data.reduce((U,q)=>U+q,0),b=G.datasets[0].data[0]||0,y=G.datasets[0].data[1]||0,a=G.datasets[0].data[2]||0,p=s>0?b/s*100:0,u=s>0?y/s*100:0,A=s>0?a/s*100:0,v=40;return e.jsx(z,{title:"HEALTH DISTRIBUTION",children:e.jsxs("div",{style:{fontFamily:"Consolas",fontSize:11,padding:"12px",lineHeight:1.8},children:[e.jsxs("div",{style:{marginBottom:12},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:4},children:[e.jsx("span",{style:{color:t.muted},children:"├─ HEALTHY:"}),e.jsxs("span",{style:{color:t.success,fontWeight:600},children:[b," (",p.toFixed(1),"%)"]})]}),e.jsx("div",{style:{display:"flex",alignItems:"center",gap:8,marginLeft:12},children:e.jsxs("span",{style:{color:t.success},children:[g.blockFull.repeat(Math.round(p/100*v)),g.blockLight.repeat(v-Math.round(p/100*v))]})})]}),e.jsxs("div",{style:{marginBottom:12},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:4},children:[e.jsx("span",{style:{color:t.muted},children:"├─ WARNING:"}),e.jsxs("span",{style:{color:t.warning,fontWeight:600},children:[y," (",u.toFixed(1),"%)"]})]}),e.jsx("div",{style:{display:"flex",alignItems:"center",gap:8,marginLeft:12},children:e.jsxs("span",{style:{color:t.warning},children:[g.blockFull.repeat(Math.round(u/100*v)),g.blockLight.repeat(v-Math.round(u/100*v))]})})]}),e.jsxs("div",{style:{marginBottom:4},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:4},children:[e.jsx("span",{style:{color:t.muted},children:"└─ CRITICAL:"}),e.jsxs("span",{style:{color:t.danger,fontWeight:600},children:[a," (",A.toFixed(1),"%)"]})]}),e.jsx("div",{style:{display:"flex",alignItems:"center",gap:8,marginLeft:12},children:e.jsxs("span",{style:{color:t.danger},children:[g.blockFull.repeat(Math.round(A/100*v)),g.blockLight.repeat(v-Math.round(A/100*v))]})})]}),e.jsxs("div",{style:{marginTop:16,paddingTop:12,borderTop:`1px solid ${t.border}`,display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{color:t.muted,fontSize:10},children:"Total:"}),e.jsxs("span",{style:{color:t.foreground,fontWeight:600,fontSize:10},children:[s," tables"]})]})]})})})(),B&&(i==null?void 0:i.byEngine)&&(()=>{const s=i.byEngine,b=s.reduce((a,p)=>a+parseInt(p.table_count||0),0),y=40;return e.jsx(z,{title:"ENGINE DISTRIBUTION",children:e.jsxs("div",{style:{fontFamily:"Consolas",fontSize:11,padding:"12px",lineHeight:1.8},children:[s.map((a,p)=>{const u=parseInt(a.table_count||0),A=b>0?u/b*100:0,v=p===s.length-1,U=v?"└─":"├─",q=a.inferred_source_engine||"Unknown";return e.jsxs("div",{style:{marginBottom:v?4:12},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:4},children:[e.jsxs("span",{style:{color:t.muted},children:[U," ",q,":"]}),e.jsxs("span",{style:{color:t.accent,fontWeight:600},children:[u," (",A.toFixed(1),"%)"]})]}),e.jsx("div",{style:{display:"flex",alignItems:"center",gap:8,marginLeft:12},children:e.jsxs("span",{style:{color:t.accent},children:[g.blockFull.repeat(Math.round(A/100*y)),g.blockLight.repeat(y-Math.round(A/100*y))]})})]},p)}),e.jsxs("div",{style:{marginTop:16,paddingTop:12,borderTop:`1px solid ${t.border}`,display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{color:t.muted,fontSize:10},children:"Total:"}),e.jsxs("span",{style:{color:t.foreground,fontWeight:600,fontSize:10},children:[b," tables"]})]})]})})})()]}),!k&&!_&&(i==null?void 0:i.summary)&&e.jsxs("div",{style:{border:`1px solid ${t.border}`,borderRadius:2,padding:16,backgroundColor:t.backgroundSoft,marginBottom:16},children:[e.jsxs("h2",{style:{fontSize:14,fontFamily:"Consolas",fontWeight:600,color:t.accent,margin:0,marginBottom:16,paddingBottom:8,borderBottom:`1px solid ${t.border}`},children:[g.blockFull," GOVERNANCE SUMMARY"]}),e.jsxs("div",{style:{fontFamily:"Consolas",fontSize:11,lineHeight:1.8,color:t.foreground},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"},children:[e.jsx("span",{style:{color:t.muted},children:"├─ Total Tables:"}),e.jsx("span",{style:{fontWeight:500,marginLeft:"20px"},children:i.summary.total_tables||0})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"},children:[e.jsx("span",{style:{color:t.muted},children:"├─ Healthy:"}),e.jsx("span",{style:{fontWeight:500,marginLeft:"20px",color:t.success},children:i.summary.healthy_count||0})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"},children:[e.jsx("span",{style:{color:t.muted},children:"├─ Warning:"}),e.jsx("span",{style:{fontWeight:500,marginLeft:"20px",color:t.warning},children:i.summary.warning_count||0})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"},children:[e.jsx("span",{style:{color:t.muted},children:"├─ Critical:"}),e.jsx("span",{style:{fontWeight:500,marginLeft:"20px",color:t.danger},children:i.summary.critical_count||0})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"},children:[e.jsx("span",{style:{color:t.muted},children:"├─ Avg Quality Score:"}),e.jsxs("span",{style:{fontWeight:500,marginLeft:"20px",color:parseFloat(i.summary.avg_quality_score||0)>=90?t.success:parseFloat(i.summary.avg_quality_score||0)>=70?t.warning:t.danger},children:[parseFloat(i.summary.avg_quality_score||0).toFixed(2),"%"]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"},children:[e.jsx("span",{style:{color:t.muted},children:"├─ Total Size:"}),e.jsxs("span",{style:{fontWeight:500,marginLeft:"20px"},children:[(parseFloat(i.summary.total_size_mb||0)/1024).toFixed(2)," GB"]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"},children:[e.jsx("span",{style:{color:t.muted},children:"├─ Engines:"}),e.jsx("span",{style:{fontWeight:500,marginLeft:"20px"},children:i.summary.engine_count||0})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{color:t.muted},children:"└─ Schemas:"}),e.jsx("span",{style:{fontWeight:500,marginLeft:"20px"},children:i.summary.schema_count||0})]})]})]})]})};de`
  from {
    opacity: 0;
    transform: translateY(-5px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
`;de`
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
`;const j=r=>{if(!r)return t.muted;switch(r){case"HEALTHY":case"EXCELLENT":return t.success;case"WARNING":return t.warning;case"CRITICAL":case"EMERGENCY":return t.danger;default:return t.muted}},re=r=>r>=90?t.success:r>=70?t.accent:r>=50?t.warning:t.danger,Ye=()=>{const{page:r,limit:L,setPage:I,setLimit:k}=ye(1,20,1e3),{filters:f,setFilter:_,clearFilters:$}=me({engine:"",category:"",health:"",domain:"",sensitivity:""}),[R,V]=l.useState(null),[i,M]=l.useState(null),[o,c]=l.useState("overview"),[h,S]=l.useState([]),[N,O]=l.useState({total:0,totalPages:0,currentPage:1,limit:20}),[m,G]=l.useState({}),[B,T]=l.useState(!0),[E,Y]=l.useState(!1),[P,Q]=l.useState("list"),F=l.useRef(!0),Z=l.useCallback(async()=>{if(!F.current)return;const n=Date.now(),d=300;try{T(!0),V(null);const C=await ne.getGovernanceData({page:r,limit:L,engine:f.engine,category:f.category,health:f.health,domain:f.domain,sensitivity:f.sensitivity}),X=Date.now()-n,W=Math.max(0,d-X);await new Promise(K=>setTimeout(K,W)),F.current&&(S(C.data||[]),O(C.pagination||{total:0,totalPages:0,currentPage:1,limit:20}))}catch(C){F.current&&V(ge(C))}finally{F.current&&T(!1)}},[r,L,f.engine,f.category,f.health,f.domain,f.sensitivity]);l.useEffect(()=>{F.current=!0,(async()=>{await Z();try{const C=await ne.getGovernanceMetrics();F.current&&G(C||{})}catch(C){F.current&&console.error("Error loading metrics:",C)}})();const d=setInterval(()=>{F.current&&(Z(),ne.getGovernanceMetrics().then(C=>{F.current&&G(C||{})}).catch(C=>{console.error("Error loading metrics:",C)}))},3e4);return()=>{F.current=!1,clearInterval(d)}},[Z]);const se=l.useCallback(n=>{M(d=>(d==null?void 0:d.id)===n.id?null:n),c("overview")},[]),x=l.useCallback(n=>n?new Date(n).toLocaleString():"N/A",[]),s=l.useCallback(n=>n==null?"N/A":n?"Yes":"No",[]),b=l.useCallback(n=>n==null?"N/A":`${Number(n).toFixed(2)}%`,[]),y=l.useCallback(n=>{if(n==null)return"N/A";const d=Number(n);return isNaN(d)?"N/A":d>=1024?`${(d/1024).toFixed(2)} GB`:`${d.toFixed(2)} MB`},[]),a=l.useCallback(n=>{if(n==null)return"N/A";const d=Number(n);return isNaN(d)?"N/A":d.toLocaleString()},[]),p=l.useCallback(()=>{const n=["Schema","Table","Engine","Category","Domain","Health","Sensitivity","Quality Score","Size (MB)","Total Rows","Access Frequency","Last Analyzed"],d=h.map(w=>[w.schema_name,w.table_name,w.inferred_source_engine||"",w.data_category||"",w.business_domain||"",w.health_status||"",w.sensitivity_level||"",w.data_quality_score||0,w.table_size_mb||0,w.total_rows||0,w.access_frequency||"",x(w.last_analyzed)]),C=[n.join(","),...d.map(w=>w.map(xe=>`"${String(xe).replace(/"/g,'""')}"`).join(","))].join(`
`),X=new Blob([C],{type:"text/csv;charset=utf-8;"}),W=document.createElement("a"),K=URL.createObjectURL(X);W.setAttribute("href",K),W.setAttribute("download",`governance_export_${new Date().toISOString().split("T")[0]}.csv`),W.style.visibility="hidden",document.body.appendChild(W),W.click(),document.body.removeChild(W)},[h,x]);l.useCallback(n=>({TRANSACTIONAL:"Data that represents business transactions and events that occur in real-time",ANALYTICAL:"Data used for analysis, reporting, and business intelligence purposes",REFERENCE:"Lookup tables and master data used across multiple systems",MASTER_DATA:"Core business entities like customers, products, and suppliers",OPERATIONAL:"Data used for day-to-day operational processes and workflows",TEMPORAL:"Time-series data that tracks changes over time",GEOSPATIAL:"Location-based data including coordinates and geographic information",FINANCIAL:"Financial transactions, accounts, and monetary data",COMPLIANCE:"Data required for regulatory compliance and auditing",TECHNICAL:"System-generated data for technical monitoring and maintenance",SPORTS:"Sports-related data including scores, statistics, and player information"})[n]||"Data category classification",[]),l.useCallback(n=>({EXCELLENT:"Optimal data quality with no issues detected",HEALTHY:"Good data quality with minor or no issues",WARNING:"Some data quality issues detected that need attention",CRITICAL:"Significant data quality issues requiring immediate attention",EMERGENCY:"Severe data quality issues that may impact system functionality"})[n]||"Health status of the data",[]),l.useCallback(n=>({PUBLIC:"Data that can be freely shared and accessed by anyone",LOW:"Data with minimal sensitivity requirements",MEDIUM:"Data with moderate sensitivity requiring controlled access",HIGH:"Data with high sensitivity requiring strict access controls",CRITICAL:"Data with critical sensitivity requiring maximum security measures"})[n]||"Data sensitivity level",[]);const u=l.useCallback((n,d)=>{_(n,d),I(1)},[_,I]),A=l.useCallback(n=>{var d,C,X,W,K;return e.jsxs("div",{children:[e.jsxs("div",{style:{marginBottom:16,paddingBottom:12,borderBottom:`1px solid ${t.border}`},children:[e.jsx("h3",{style:{fontSize:13,fontFamily:"Consolas",fontWeight:600,color:t.foreground,margin:"0 0 12px 0",paddingBottom:4,borderBottom:`2px solid ${t.accent}`},children:"Basic Information"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:12},children:[e.jsxs("div",{children:[e.jsx("div",{style:{color:t.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Schema:"}),e.jsx("div",{style:{color:t.foreground,fontSize:12,fontFamily:"Consolas"},children:n.schema_name||"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:t.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Table:"}),e.jsx("div",{style:{color:t.foreground,fontSize:12,fontFamily:"Consolas"},children:n.table_name||"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:t.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Source Engine:"}),e.jsx("div",{style:{color:t.foreground,fontSize:12,fontFamily:"Consolas"},children:n.inferred_source_engine||"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:t.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Data Category:"}),e.jsx("div",{style:{color:t.foreground,fontSize:12,fontFamily:"Consolas"},children:n.data_category?e.jsx("span",{style:{padding:"2px 8px",borderRadius:2,fontSize:11,fontFamily:"Consolas",backgroundColor:t.backgroundSoft,color:t.foreground,border:`1px solid ${t.border}`},children:n.data_category}):"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:t.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Business Domain:"}),e.jsx("div",{style:{color:t.foreground,fontSize:12,fontFamily:"Consolas"},children:n.business_domain||"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:t.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Sensitivity Level:"}),e.jsx("div",{style:{color:t.foreground,fontSize:12,fontFamily:"Consolas"},children:n.sensitivity_level?e.jsx("span",{style:{padding:"2px 8px",borderRadius:2,fontSize:11,fontFamily:"Consolas",backgroundColor:j(n.sensitivity_level)+"20",color:j(n.sensitivity_level),border:`1px solid ${j(n.sensitivity_level)}`},children:n.sensitivity_level}):"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:t.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Health Status:"}),e.jsx("div",{style:{color:t.foreground,fontSize:12,fontFamily:"Consolas"},children:n.health_status?e.jsx("span",{style:{padding:"2px 8px",borderRadius:2,fontSize:11,fontFamily:"Consolas",backgroundColor:j(n.health_status)+"20",color:j(n.health_status),border:`1px solid ${j(n.health_status)}`},children:n.health_status}):"N/A"})]})]})]}),e.jsxs("div",{style:{marginBottom:16,paddingBottom:12,borderBottom:`1px solid ${t.border}`},children:[e.jsx("h3",{style:{fontSize:13,fontFamily:"Consolas",fontWeight:600,color:t.foreground,margin:"0 0 12px 0",paddingBottom:4,borderBottom:`2px solid ${t.accent}`},children:"Metrics"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:12},children:[e.jsxs("div",{children:[e.jsx("div",{style:{color:t.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Total Columns:"}),e.jsx("div",{style:{color:t.foreground,fontSize:12,fontFamily:"Consolas"},children:((d=n.total_columns)==null?void 0:d.toLocaleString())||"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:t.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Total Rows:"}),e.jsx("div",{style:{color:t.foreground,fontSize:12,fontFamily:"Consolas"},children:((C=n.total_rows)==null?void 0:C.toLocaleString())||"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:t.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Table Size:"}),e.jsx("div",{style:{color:t.foreground,fontSize:12,fontFamily:"Consolas"},children:y(n.table_size_mb)})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:t.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Primary Key Columns:"}),e.jsx("div",{style:{color:t.foreground,fontSize:12,fontFamily:"Consolas"},children:n.primary_key_columns||"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:t.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Index Count:"}),e.jsx("div",{style:{color:t.foreground,fontSize:12,fontFamily:"Consolas"},children:((X=n.index_count)==null?void 0:X.toLocaleString())||"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:t.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Constraint Count:"}),e.jsx("div",{style:{color:t.foreground,fontSize:12,fontFamily:"Consolas"},children:((W=n.constraint_count)==null?void 0:W.toLocaleString())||"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:t.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Data Quality Score:"}),e.jsx("div",{style:{color:t.foreground,fontSize:12,fontFamily:"Consolas"},children:n.data_quality_score!==null&&n.data_quality_score!==void 0?e.jsxs("span",{style:{padding:"2px 8px",borderRadius:2,fontSize:11,fontFamily:"Consolas",backgroundColor:re(Number(n.data_quality_score))+"20",color:re(Number(n.data_quality_score)),border:`1px solid ${re(Number(n.data_quality_score))}`},children:[Number(n.data_quality_score).toFixed(2),"%"]}):"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:t.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Null Percentage:"}),e.jsx("div",{style:{color:t.foreground,fontSize:12,fontFamily:"Consolas"},children:b(n.null_percentage)})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:t.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Duplicate Percentage:"}),e.jsx("div",{style:{color:t.foreground,fontSize:12,fontFamily:"Consolas"},children:b(n.duplicate_percentage)})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:t.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Fragmentation:"}),e.jsx("div",{style:{color:t.foreground,fontSize:12,fontFamily:"Consolas"},children:b(n.fragmentation_percentage)})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:t.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Access Frequency:"}),e.jsx("div",{style:{color:t.foreground,fontSize:12,fontFamily:"Consolas"},children:n.access_frequency||"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:t.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Query Count (Daily):"}),e.jsx("div",{style:{color:t.foreground,fontSize:12,fontFamily:"Consolas"},children:((K=n.query_count_daily)==null?void 0:K.toLocaleString())||"N/A"})]})]})]}),e.jsxs("div",{style:{marginBottom:0},children:[e.jsx("h3",{style:{fontSize:13,fontFamily:"Consolas",fontWeight:600,color:t.foreground,margin:"0 0 12px 0",paddingBottom:4,borderBottom:`2px solid ${t.accent}`},children:"Timestamps"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:12},children:[e.jsxs("div",{children:[e.jsx("div",{style:{color:t.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"First Discovered:"}),e.jsx("div",{style:{color:t.foreground,fontSize:12,fontFamily:"Consolas"},children:x(n.first_discovered)})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:t.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Last Analyzed:"}),e.jsx("div",{style:{color:t.foreground,fontSize:12,fontFamily:"Consolas"},children:x(n.last_analyzed)})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:t.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Last Accessed:"}),e.jsx("div",{style:{color:t.foreground,fontSize:12,fontFamily:"Consolas"},children:x(n.last_accessed)})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:t.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Last Vacuum:"}),e.jsx("div",{style:{color:t.foreground,fontSize:12,fontFamily:"Consolas"},children:x(n.last_vacuum)})]})]})]})]})},[x,y,b]),v=l.useCallback(n=>e.jsx("div",{children:e.jsxs("div",{style:{marginBottom:0},children:[e.jsx("h3",{style:{fontSize:13,fontFamily:"Consolas",fontWeight:600,color:t.foreground,margin:"0 0 12px 0",paddingBottom:4,borderBottom:`2px solid ${t.accent}`},children:"Ownership"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:12},children:[e.jsxs("div",{children:[e.jsx("div",{style:{color:t.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Data Owner:"}),e.jsx("div",{style:{color:t.foreground,fontSize:12,fontFamily:"Consolas"},children:n.data_owner||"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:t.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Owner Email:"}),e.jsx("div",{style:{color:t.foreground,fontSize:12,fontFamily:"Consolas"},children:n.owner_email?e.jsx("a",{href:`mailto:${n.owner_email}`,style:{color:t.accent,fontFamily:"Consolas"},children:n.owner_email}):"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:t.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Data Steward:"}),e.jsx("div",{style:{color:t.foreground,fontSize:12,fontFamily:"Consolas"},children:n.data_steward||"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:t.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Steward Email:"}),e.jsx("div",{style:{color:t.foreground,fontSize:12,fontFamily:"Consolas"},children:n.steward_email?e.jsx("a",{href:`mailto:${n.steward_email}`,style:{color:t.accent,fontFamily:"Consolas"},children:n.steward_email}):"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:t.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Data Custodian:"}),e.jsx("div",{style:{color:t.foreground,fontSize:12,fontFamily:"Consolas"},children:n.data_custodian||"N/A"})]})]})]})}),[]),U=l.useCallback(n=>e.jsxs("div",{children:[e.jsxs("div",{style:{marginBottom:16,paddingBottom:12,borderBottom:`1px solid ${t.border}`},children:[e.jsx("h3",{style:{fontSize:13,fontFamily:"Consolas",fontWeight:600,color:t.foreground,margin:"0 0 12px 0",paddingBottom:4,borderBottom:`2px solid ${t.accent}`},children:"Encryption"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:12},children:[e.jsxs("div",{children:[e.jsx("div",{style:{color:t.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Encryption at Rest:"}),e.jsx("div",{style:{color:t.foreground,fontSize:12,fontFamily:"Consolas"},children:e.jsx("span",{style:{padding:"2px 8px",borderRadius:2,fontSize:11,fontFamily:"Consolas",backgroundColor:j(n.encryption_at_rest?"HEALTHY":"WARNING")+"20",color:j(n.encryption_at_rest?"HEALTHY":"WARNING"),border:`1px solid ${j(n.encryption_at_rest?"HEALTHY":"WARNING")}`},children:s(n.encryption_at_rest)})})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:t.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Encryption in Transit:"}),e.jsx("div",{style:{color:t.foreground,fontSize:12,fontFamily:"Consolas"},children:e.jsx("span",{style:{padding:"2px 8px",borderRadius:2,fontSize:11,fontFamily:"Consolas",backgroundColor:j(n.encryption_in_transit?"HEALTHY":"WARNING")+"20",color:j(n.encryption_in_transit?"HEALTHY":"WARNING"),border:`1px solid ${j(n.encryption_in_transit?"HEALTHY":"WARNING")}`},children:s(n.encryption_in_transit)})})]})]})]}),e.jsxs("div",{style:{marginBottom:16,paddingBottom:12,borderBottom:`1px solid ${t.border}`},children:[e.jsx("h3",{style:{fontSize:13,fontFamily:"Consolas",fontWeight:600,color:t.foreground,margin:"0 0 12px 0",paddingBottom:4,borderBottom:`2px solid ${t.accent}`},children:"Data Masking"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:12},children:[e.jsxs("div",{children:[e.jsx("div",{style:{color:t.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Masking Policy Applied:"}),e.jsx("div",{style:{color:t.foreground,fontSize:12,fontFamily:"Consolas"},children:e.jsx("span",{style:{padding:"2px 8px",borderRadius:2,fontSize:11,fontFamily:"Consolas",backgroundColor:j(n.masking_policy_applied?"HEALTHY":"WARNING")+"20",color:j(n.masking_policy_applied?"HEALTHY":"WARNING"),border:`1px solid ${j(n.masking_policy_applied?"HEALTHY":"WARNING")}`},children:s(n.masking_policy_applied)})})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:t.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Masking Policy Name:"}),e.jsx("div",{style:{color:t.foreground,fontSize:12,fontFamily:"Consolas"},children:n.masking_policy_name||"N/A"})]})]})]}),e.jsxs("div",{style:{marginBottom:0},children:[e.jsx("h3",{style:{fontSize:13,fontFamily:"Consolas",fontWeight:600,color:t.foreground,margin:"0 0 12px 0",paddingBottom:4,borderBottom:`2px solid ${t.accent}`},children:"Access Control"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:12},children:[e.jsxs("div",{children:[e.jsx("div",{style:{color:t.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Row Level Security:"}),e.jsx("div",{style:{color:t.foreground,fontSize:12,fontFamily:"Consolas"},children:e.jsx("span",{style:{padding:"2px 8px",borderRadius:2,fontSize:11,fontFamily:"Consolas",backgroundColor:j(n.row_level_security_enabled?"HEALTHY":"WARNING")+"20",color:j(n.row_level_security_enabled?"HEALTHY":"WARNING"),border:`1px solid ${j(n.row_level_security_enabled?"HEALTHY":"WARNING")}`},children:s(n.row_level_security_enabled)})})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:t.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Column Level Security:"}),e.jsx("div",{style:{color:t.foreground,fontSize:12,fontFamily:"Consolas"},children:e.jsx("span",{style:{padding:"2px 8px",borderRadius:2,fontSize:11,fontFamily:"Consolas",backgroundColor:j(n.column_level_security_enabled?"HEALTHY":"WARNING")+"20",color:j(n.column_level_security_enabled?"HEALTHY":"WARNING"),border:`1px solid ${j(n.column_level_security_enabled?"HEALTHY":"WARNING")}`},children:s(n.column_level_security_enabled)})})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:t.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Access Control Policy:"}),e.jsx("div",{style:{color:t.foreground,fontSize:12,fontFamily:"Consolas"},children:n.access_control_policy||"N/A"})]})]})]})]}),[s]),q=l.useCallback(n=>{var d;return e.jsxs(TabContent,{children:[e.jsxs(DetailsSection,{children:[e.jsx(SectionTitle,{children:"Consent & Legal Basis"}),e.jsxs(DetailsGrid,{children:[e.jsx(DetailLabel,{children:"Consent Required:"}),e.jsx(DetailValue,{children:e.jsx(Badge,{$status:n.consent_required?"WARNING":"HEALTHY",children:s(n.consent_required)})}),e.jsx(DetailLabel,{children:"Consent Type:"}),e.jsx(DetailValue,{children:n.consent_type||"N/A"}),e.jsx(DetailLabel,{children:"Legal Basis:"}),e.jsx(DetailValue,{children:n.legal_basis||"N/A"}),e.jsx(DetailLabel,{children:"Data Subject Rights:"}),e.jsx(DetailValue,{style:{whiteSpace:"pre-wrap"},children:n.data_subject_rights||"N/A"})]})]}),e.jsxs(DetailsSection,{children:[e.jsx(SectionTitle,{children:"PII/PHI Detection"}),e.jsxs(DetailsGrid,{children:[e.jsx(DetailLabel,{children:"PII Detection Method:"}),e.jsx(DetailValue,{children:n.pii_detection_method||"N/A"}),e.jsx(DetailLabel,{children:"PII Confidence Score:"}),e.jsx(DetailValue,{children:n.pii_confidence_score!==null&&n.pii_confidence_score!==void 0?`${Number(n.pii_confidence_score).toFixed(2)}%`:"N/A"}),e.jsx(DetailLabel,{children:"PII Categories:"}),e.jsx(DetailValue,{style:{whiteSpace:"pre-wrap"},children:n.pii_categories||"N/A"}),e.jsx(DetailLabel,{children:"PHI Detection Method:"}),e.jsx(DetailValue,{children:n.phi_detection_method||"N/A"}),e.jsx(DetailLabel,{children:"PHI Confidence Score:"}),e.jsx(DetailValue,{children:n.phi_confidence_score!==null&&n.phi_confidence_score!==void 0?`${Number(n.phi_confidence_score).toFixed(2)}%`:"N/A"}),e.jsx(DetailLabel,{children:"Sensitive Data Count:"}),e.jsx(DetailValue,{children:((d=n.sensitive_data_count)==null?void 0:d.toLocaleString())||"0"}),e.jsx(DetailLabel,{children:"Last PII Scan:"}),e.jsx(DetailValue,{children:x(n.last_pii_scan)})]})]}),e.jsxs(DetailsSection,{children:[e.jsx(SectionTitle,{children:"Cross-Border Transfer"}),e.jsxs(DetailsGrid,{children:[e.jsx(DetailLabel,{children:"Cross-Border Transfer:"}),e.jsx(DetailValue,{children:e.jsx(Badge,{$status:n.cross_border_transfer?"WARNING":"HEALTHY",children:s(n.cross_border_transfer)})}),e.jsx(DetailLabel,{children:"Cross-Border Countries:"}),e.jsx(DetailValue,{style:{whiteSpace:"pre-wrap"},children:n.cross_border_countries||"N/A"}),e.jsx(DetailLabel,{children:"Data Processing Agreement:"}),e.jsx(DetailValue,{style:{whiteSpace:"pre-wrap"},children:n.data_processing_agreement||"N/A"}),e.jsx(DetailLabel,{children:"Privacy Impact Assessment:"}),e.jsx(DetailValue,{style:{whiteSpace:"pre-wrap"},children:n.privacy_impact_assessment||"N/A"})]})]}),e.jsxs(DetailsSection,{children:[e.jsx(SectionTitle,{children:"Breach Management"}),e.jsxs(DetailsGrid,{children:[e.jsx(DetailLabel,{children:"Breach Notification Required:"}),e.jsx(DetailValue,{children:e.jsx(Badge,{$status:n.breach_notification_required?"WARNING":"HEALTHY",children:s(n.breach_notification_required)})}),e.jsx(DetailLabel,{children:"Last Breach Check:"}),e.jsx(DetailValue,{children:x(n.last_breach_check)})]})]})]})},[s,x]),ee=l.useCallback(n=>e.jsxs(TabContent,{children:[e.jsxs(DetailsSection,{children:[e.jsx(SectionTitle,{children:"Retention Policy"}),e.jsxs(DetailsGrid,{children:[e.jsx(DetailLabel,{children:"Retention Enforced:"}),e.jsx(DetailValue,{children:e.jsx(Badge,{$status:n.retention_enforced?"HEALTHY":"WARNING",children:s(n.retention_enforced)})}),e.jsx(DetailLabel,{children:"Data Expiration Date:"}),e.jsx(DetailValue,{children:x(n.data_expiration_date)}),e.jsx(DetailLabel,{children:"Auto Delete Enabled:"}),e.jsx(DetailValue,{children:e.jsx(Badge,{$status:n.auto_delete_enabled?"WARNING":"HEALTHY",children:s(n.auto_delete_enabled)})})]})]}),e.jsxs(DetailsSection,{children:[e.jsx(SectionTitle,{children:"Archival"}),e.jsxs(DetailsGrid,{children:[e.jsx(DetailLabel,{children:"Archival Policy:"}),e.jsx(DetailValue,{children:n.archival_policy||"N/A"}),e.jsx(DetailLabel,{children:"Archival Location:"}),e.jsx(DetailValue,{children:n.archival_location||"N/A"}),e.jsx(DetailLabel,{children:"Last Archived At:"}),e.jsx(DetailValue,{children:x(n.last_archived_at)})]})]})]}),[s,x]),ie=l.useCallback(n=>e.jsx(TabContent,{children:e.jsxs(DetailsSection,{children:[e.jsx(SectionTitle,{children:"Legal Hold"}),e.jsxs(DetailsGrid,{children:[e.jsx(DetailLabel,{children:"Legal Hold:"}),e.jsx(DetailValue,{children:e.jsx(Badge,{$status:n.legal_hold?"CRITICAL":"HEALTHY",children:s(n.legal_hold)})}),e.jsx(DetailLabel,{children:"Legal Hold Reason:"}),e.jsx(DetailValue,{style:{whiteSpace:"pre-wrap"},children:n.legal_hold_reason||"N/A"}),e.jsx(DetailLabel,{children:"Legal Hold Until:"}),e.jsx(DetailValue,{children:x(n.legal_hold_until)})]})]})}),[s,x]),te=l.useCallback(n=>{var d;return e.jsxs(TabContent,{children:[e.jsxs(DetailsSection,{children:[e.jsx(SectionTitle,{children:"Quality Metrics"}),e.jsxs(DetailsGrid,{children:[e.jsx(DetailLabel,{children:"Quality SLA Score:"}),e.jsx(DetailValue,{children:n.quality_sla_score!==null&&n.quality_sla_score!==void 0?e.jsxs(QualityScore,{$score:Number(n.quality_sla_score),children:[Number(n.quality_sla_score).toFixed(2),"%"]}):"N/A"}),e.jsx(DetailLabel,{children:"Quality Checks Automated:"}),e.jsx(DetailValue,{children:e.jsx(Badge,{$status:n.quality_checks_automated?"HEALTHY":"WARNING",children:s(n.quality_checks_automated)})}),e.jsx(DetailLabel,{children:"Anomaly Detection Enabled:"}),e.jsx(DetailValue,{children:e.jsx(Badge,{$status:n.anomaly_detection_enabled?"HEALTHY":"WARNING",children:s(n.anomaly_detection_enabled)})}),e.jsx(DetailLabel,{children:"Last Anomaly Detected:"}),e.jsx(DetailValue,{children:x(n.last_anomaly_detected)})]})]}),e.jsxs(DetailsSection,{children:[e.jsx(SectionTitle,{children:"Data Freshness"}),e.jsxs(DetailsGrid,{children:[e.jsx(DetailLabel,{children:"Freshness Threshold (Hours):"}),e.jsx(DetailValue,{children:((d=n.data_freshness_threshold_hours)==null?void 0:d.toLocaleString())||"N/A"}),e.jsx(DetailLabel,{children:"Last Freshness Check:"}),e.jsx(DetailValue,{children:x(n.last_freshness_check)})]})]}),e.jsxs(DetailsSection,{children:[e.jsx(SectionTitle,{children:"Schema Evolution"}),e.jsxs(DetailsGrid,{children:[e.jsx(DetailLabel,{children:"Schema Evolution Tracking:"}),e.jsx(DetailValue,{children:e.jsx(Badge,{$status:n.schema_evolution_tracking?"HEALTHY":"WARNING",children:s(n.schema_evolution_tracking)})}),e.jsx(DetailLabel,{children:"Last Schema Change:"}),e.jsx(DetailValue,{children:x(n.last_schema_change)})]})]})]})},[s,x]),oe=l.useCallback(n=>e.jsxs(TabContent,{children:[e.jsxs(DetailsSection,{children:[e.jsx(SectionTitle,{children:"ETL Pipeline"}),e.jsxs(DetailsGrid,{children:[e.jsx(DetailLabel,{children:"ETL Pipeline Name:"}),e.jsx(DetailValue,{children:n.etl_pipeline_name||"N/A"}),e.jsx(DetailLabel,{children:"ETL Pipeline ID:"}),e.jsx(DetailValue,{children:n.etl_pipeline_id||"N/A"}),e.jsx(DetailLabel,{children:"Transformation Rules:"}),e.jsx(DetailValue,{style:{whiteSpace:"pre-wrap"},children:n.transformation_rules||"N/A"})]})]}),e.jsxs(DetailsSection,{children:[e.jsx(SectionTitle,{children:"Systems"}),e.jsxs(DetailsGrid,{children:[e.jsx(DetailLabel,{children:"Source Systems:"}),e.jsx(DetailValue,{style:{whiteSpace:"pre-wrap"},children:n.source_systems||"N/A"}),e.jsx(DetailLabel,{children:"Downstream Systems:"}),e.jsx(DetailValue,{style:{whiteSpace:"pre-wrap"},children:n.downstream_systems||"N/A"}),e.jsx(DetailLabel,{children:"BI Tools Used:"}),e.jsx(DetailValue,{style:{whiteSpace:"pre-wrap"},children:n.bi_tools_used||"N/A"}),e.jsx(DetailLabel,{children:"API Endpoints:"}),e.jsx(DetailValue,{style:{whiteSpace:"pre-wrap"},children:n.api_endpoints||"N/A"})]})]})]}),[]),ae=l.useCallback(n=>e.jsxs(TabContent,{children:[e.jsxs(DetailsSection,{children:[e.jsx(SectionTitle,{children:"Documentation"}),e.jsxs(DetailsGrid,{children:[e.jsx(DetailLabel,{children:"Business Glossary Term:"}),e.jsx(DetailValue,{style:{whiteSpace:"pre-wrap"},children:n.business_glossary_term||"N/A"}),e.jsx(DetailLabel,{children:"Data Dictionary Description:"}),e.jsx(DetailValue,{style:{whiteSpace:"pre-wrap"},children:n.data_dictionary_description||"N/A"})]})]}),e.jsxs(DetailsSection,{children:[e.jsx(SectionTitle,{children:"Approval"}),e.jsxs(DetailsGrid,{children:[e.jsx(DetailLabel,{children:"Approval Required:"}),e.jsx(DetailValue,{children:e.jsx(Badge,{$status:n.approval_required?"WARNING":"HEALTHY",children:s(n.approval_required)})}),e.jsx(DetailLabel,{children:"Last Approved By:"}),e.jsx(DetailValue,{children:n.last_approved_by||"N/A"}),e.jsx(DetailLabel,{children:"Last Approved At:"}),e.jsx(DetailValue,{children:x(n.last_approved_at)})]})]})]}),[s,x]);return B&&h.length===0?e.jsx(Le,{variant:"table"}):e.jsxs("div",{style:{padding:"20px",fontFamily:"Consolas",fontSize:12},children:[e.jsxs("h1",{style:{fontSize:14,fontWeight:600,margin:"0 0 20px 0",color:t.foreground,textTransform:"uppercase",fontFamily:"Consolas"},children:[e.jsx("span",{style:{color:t.accent,marginRight:8},children:g.blockFull}),"DATA GOVERNANCE CATALOG"]}),R&&e.jsx("div",{style:{marginBottom:20},children:e.jsx(z,{title:"ERROR",children:e.jsx("div",{style:{padding:"12px",color:t.danger,fontSize:12,fontFamily:"Consolas"},children:R})})}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:12,marginBottom:24},children:[e.jsx(z,{title:"Total Tables",children:e.jsx("div",{style:{fontFamily:"Consolas",fontSize:14,fontWeight:600,color:t.foreground},children:a(m.total_tables)})}),e.jsx(z,{title:"Total Size",children:e.jsx("div",{style:{fontFamily:"Consolas",fontSize:14,fontWeight:600,color:t.foreground},children:y(m.total_size_mb)})}),e.jsx(z,{title:"Total Rows",children:e.jsx("div",{style:{fontFamily:"Consolas",fontSize:14,fontWeight:600,color:t.foreground},children:a(m.total_rows)})}),e.jsx(z,{title:"Healthy",children:e.jsx("div",{style:{fontFamily:"Consolas",fontSize:14,fontWeight:600,color:t.foreground},children:a(m.healthy_count)})}),e.jsx(z,{title:"Warning",children:e.jsx("div",{style:{fontFamily:"Consolas",fontSize:14,fontWeight:600,color:t.foreground},children:a(m.warning_count)})}),e.jsx(z,{title:"Critical",children:e.jsx("div",{style:{fontFamily:"Consolas",fontSize:14,fontWeight:600,color:t.foreground},children:a(m.critical_count)})}),e.jsx(z,{title:"Unique Engines",children:e.jsx("div",{style:{fontFamily:"Consolas",fontSize:14,fontWeight:600,color:t.foreground},children:a(m.unique_engines)})})]}),e.jsx(z,{title:"FILTERS",children:e.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap",alignItems:"center"},children:[e.jsxs("select",{value:f.engine,onChange:n=>u("engine",n.target.value),style:{padding:"4px 8px",border:`1px solid ${t.border}`,borderRadius:2,fontFamily:"Consolas",fontSize:12,backgroundColor:t.background,color:t.foreground},children:[e.jsx("option",{value:"",children:"All Engines"}),e.jsx("option",{value:"PostgreSQL",children:"PostgreSQL"}),e.jsx("option",{value:"MongoDB",children:"MongoDB"}),e.jsx("option",{value:"MSSQL",children:"MSSQL"}),e.jsx("option",{value:"MariaDB",children:"MariaDB"})]}),e.jsxs("select",{value:f.category,onChange:n=>u("category",n.target.value),style:{padding:"4px 8px",border:`1px solid ${t.border}`,borderRadius:2,fontFamily:"Consolas",fontSize:12,backgroundColor:t.background,color:t.foreground},children:[e.jsx("option",{value:"",children:"All Categories"}),e.jsx("option",{value:"TRANSACTIONAL",children:"Transactional"}),e.jsx("option",{value:"ANALYTICAL",children:"Analytical"}),e.jsx("option",{value:"REFERENCE",children:"Reference"}),e.jsx("option",{value:"MASTER_DATA",children:"Master Data"}),e.jsx("option",{value:"OPERATIONAL",children:"Operational"}),e.jsx("option",{value:"TEMPORAL",children:"Temporal"}),e.jsx("option",{value:"GEOSPATIAL",children:"Geospatial"}),e.jsx("option",{value:"FINANCIAL",children:"Financial"}),e.jsx("option",{value:"COMPLIANCE",children:"Compliance"}),e.jsx("option",{value:"TECHNICAL",children:"Technical"}),e.jsx("option",{value:"SPORTS",children:"Sports"})]}),e.jsxs("select",{value:f.health,onChange:n=>u("health",n.target.value),style:{padding:"4px 8px",border:`1px solid ${t.border}`,borderRadius:2,fontFamily:"Consolas",fontSize:12,backgroundColor:t.background,color:t.foreground},children:[e.jsx("option",{value:"",children:"All Health Status"}),e.jsx("option",{value:"EXCELLENT",children:"Excellent"}),e.jsx("option",{value:"HEALTHY",children:"Healthy"}),e.jsx("option",{value:"WARNING",children:"Warning"}),e.jsx("option",{value:"CRITICAL",children:"Critical"}),e.jsx("option",{value:"EMERGENCY",children:"Emergency"})]}),e.jsxs("select",{value:f.sensitivity,onChange:n=>u("sensitivity",n.target.value),style:{padding:"4px 8px",border:`1px solid ${t.border}`,borderRadius:2,fontFamily:"Consolas",fontSize:12,backgroundColor:t.background,color:t.foreground},children:[e.jsx("option",{value:"",children:"All Sensitivity"}),e.jsx("option",{value:"PUBLIC",children:"Public"}),e.jsx("option",{value:"LOW",children:"Low"}),e.jsx("option",{value:"MEDIUM",children:"Medium"}),e.jsx("option",{value:"HIGH",children:"High"}),e.jsx("option",{value:"CRITICAL",children:"Critical"})]}),e.jsxs("select",{value:f.domain,onChange:n=>u("domain",n.target.value),style:{padding:"4px 8px",border:`1px solid ${t.border}`,borderRadius:2,fontFamily:"Consolas",fontSize:12,backgroundColor:t.background,color:t.foreground},children:[e.jsx("option",{value:"",children:"All Domains"}),e.jsx("option",{value:"CUSTOMER",children:"Customer"}),e.jsx("option",{value:"SALES",children:"Sales"}),e.jsx("option",{value:"MARKETING",children:"Marketing"}),e.jsx("option",{value:"HR",children:"HR"}),e.jsx("option",{value:"FINANCE",children:"Finance"}),e.jsx("option",{value:"INVENTORY",children:"Inventory"}),e.jsx("option",{value:"OPERATIONS",children:"Operations"}),e.jsx("option",{value:"SUPPORT",children:"Support"}),e.jsx("option",{value:"SECURITY",children:"Security"}),e.jsx("option",{value:"ANALYTICS",children:"Analytics"}),e.jsx("option",{value:"COMMUNICATION",children:"Communication"}),e.jsx("option",{value:"LEGAL",children:"Legal"}),e.jsx("option",{value:"RESEARCH",children:"Research"}),e.jsx("option",{value:"MANUFACTURING",children:"Manufacturing"}),e.jsx("option",{value:"LOGISTICS",children:"Logistics"}),e.jsx("option",{value:"HEALTHCARE",children:"Healthcare"}),e.jsx("option",{value:"EDUCATION",children:"Education"}),e.jsx("option",{value:"REAL_ESTATE",children:"Real Estate"}),e.jsx("option",{value:"INSURANCE",children:"Insurance"}),e.jsx("option",{value:"SPORTS",children:"Sports"}),e.jsx("option",{value:"GENERAL",children:"General"})]}),e.jsx(D,{label:"Reset All",onClick:()=>{$(),I(1)},variant:"ghost"})]})}),!B&&!R&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24,marginTop:8,fontFamily:"Consolas",fontSize:12,gap:32},children:[e.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[e.jsx("label",{style:{color:t.muted,fontSize:11,fontFamily:"Consolas"},children:"Items per page:"}),e.jsxs("select",{value:L,onChange:n=>{k(Number(n.target.value)),I(1)},style:{padding:"4px 8px",border:`1px solid ${t.border}`,borderRadius:2,fontFamily:"Consolas",fontSize:12,backgroundColor:t.background,color:t.foreground,cursor:"pointer"},children:[e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:20,children:"20"}),e.jsx("option",{value:50,children:"50"}),e.jsx("option",{value:100,children:"100"}),e.jsx("option",{value:200,children:"200"})]})]}),e.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[e.jsx(D,{label:P==="list"?"Show Charts":"Show List",onClick:()=>Q(P==="list"?"charts":"list"),variant:P==="charts"?"primary":"ghost"}),e.jsx(D,{label:"Metrics Info",onClick:()=>Y(!0),variant:"ghost"}),e.jsx(D,{label:"Export CSV",onClick:p,variant:"ghost"})]})]}),E&&e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>Y(!1),children:e.jsx("div",{style:{width:"90%",maxWidth:900,maxHeight:"90vh",overflowY:"auto"},onClick:n=>n.stopPropagation(),children:e.jsx(z,{title:"METRICS PLAYBOOK - DATA GOVERNANCE",children:e.jsxs("div",{style:{padding:16,fontFamily:"Consolas",fontSize:12,lineHeight:1.6},children:[e.jsxs("div",{style:{marginBottom:16},children:[e.jsxs("div",{style:{fontSize:13,fontWeight:600,color:t.accent,marginBottom:8},children:[g.blockFull," Total Tables"]}),e.jsx("div",{style:{color:t.foreground,marginLeft:16},children:"Total number of tables cataloged across all database engines in the unified governance system."})]}),e.jsxs("div",{style:{marginBottom:16},children:[e.jsxs("div",{style:{fontSize:13,fontWeight:600,color:t.accent,marginBottom:8},children:[g.blockFull," Total Size"]}),e.jsx("div",{style:{color:t.foreground,marginLeft:16},children:"Combined storage size of all tables across all databases. Includes data and index sizes."})]}),e.jsxs("div",{style:{marginBottom:16},children:[e.jsxs("div",{style:{fontSize:13,fontWeight:600,color:t.accent,marginBottom:8},children:[g.blockFull," Total Rows"]}),e.jsx("div",{style:{color:t.foreground,marginLeft:16},children:"Total number of rows across all tables in the governance catalog."})]}),e.jsxs("div",{style:{marginBottom:16},children:[e.jsxs("div",{style:{fontSize:13,fontWeight:600,color:t.success,marginBottom:8},children:[g.blockFull," Healthy"]}),e.jsx("div",{style:{color:t.foreground,marginLeft:16},children:"Tables with HEALTHY status, indicating optimal performance, good data quality, proper governance controls, and compliance."})]}),e.jsxs("div",{style:{marginBottom:16},children:[e.jsxs("div",{style:{fontSize:13,fontWeight:600,color:t.warning,marginBottom:8},children:[g.blockFull," Warning"]}),e.jsx("div",{style:{color:t.foreground,marginLeft:16},children:"Tables with WARNING status, indicating potential governance issues such as missing metadata, incomplete documentation, or compliance concerns that should be addressed."})]}),e.jsxs("div",{style:{marginBottom:16},children:[e.jsxs("div",{style:{fontSize:13,fontWeight:600,color:t.danger,marginBottom:8},children:[g.blockFull," Critical"]}),e.jsx("div",{style:{color:t.foreground,marginLeft:16},children:"Tables with CRITICAL status, indicating serious governance issues requiring immediate attention such as missing data owners, unclassified sensitive data, or compliance violations."})]}),e.jsxs("div",{style:{marginBottom:16},children:[e.jsxs("div",{style:{fontSize:13,fontWeight:600,color:t.accent,marginBottom:8},children:[g.blockFull," Unique Engines"]}),e.jsx("div",{style:{color:t.foreground,marginLeft:16},children:"Number of distinct database engines (PostgreSQL, MariaDB, MSSQL, MongoDB, Oracle) being monitored in the unified governance catalog."})]}),e.jsxs("div",{style:{marginTop:16,padding:12,background:t.backgroundSoft,borderRadius:2,border:`1px solid ${t.border}`},children:[e.jsxs("div",{style:{fontSize:11,fontWeight:600,color:t.muted,marginBottom:4},children:[g.blockSemi," Note"]}),e.jsx("div",{style:{fontSize:11,color:t.foreground},children:"These metrics are calculated in real-time from the data_governance_catalog table and reflect the current state of your unified data governance catalog across all database engines."})]}),e.jsx("div",{style:{marginTop:16,textAlign:"right"},children:e.jsx(D,{label:"Close",onClick:()=>Y(!1),variant:"ghost"})})]})})})}),P==="charts"&&e.jsx(Ie,{selectedTable:i?{schema_name:i.schema_name,table_name:i.table_name,inferred_source_engine:i.inferred_source_engine}:null}),P==="list"&&e.jsx(e.Fragment,{children:B?e.jsx(pe,{children:"Loading tree view..."}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:i?"1fr 500px":"1fr",gap:16,marginTop:16},children:[e.jsx(Re,{items:h,onItemClick:se}),i&&e.jsxs(z,{title:"DETAILS",style:{position:"sticky",top:16,maxHeight:"calc(100vh - 200px)",overflowY:"auto"},children:[e.jsxs("div",{style:{display:"flex",gap:4,marginBottom:16,borderBottom:`1px solid ${t.border}`,paddingBottom:8,flexWrap:"wrap"},children:[e.jsx(D,{label:"Overview",onClick:()=>c("overview"),variant:o==="overview"?"primary":"ghost"}),e.jsx(D,{label:"Ownership",onClick:()=>c("ownership"),variant:o==="ownership"?"primary":"ghost"}),e.jsx(D,{label:"Security",onClick:()=>c("security"),variant:o==="security"?"primary":"ghost"}),e.jsx(D,{label:"Privacy/GDPR",onClick:()=>c("privacy"),variant:o==="privacy"?"primary":"ghost"}),e.jsx(D,{label:"Retention",onClick:()=>c("retention"),variant:o==="retention"?"primary":"ghost"}),e.jsx(D,{label:"Legal Hold",onClick:()=>c("legal"),variant:o==="legal"?"primary":"ghost"}),e.jsx(D,{label:"Data Quality",onClick:()=>c("quality"),variant:o==="quality"?"primary":"ghost"}),e.jsx(D,{label:"Integration",onClick:()=>c("integration"),variant:o==="integration"?"primary":"ghost"}),e.jsx(D,{label:"Documentation",onClick:()=>c("documentation"),variant:o==="documentation"?"primary":"ghost"})]}),o==="overview"&&A(i),o==="ownership"&&v(i),o==="security"&&U(i),o==="privacy"&&q(i),o==="retention"&&ee(i),o==="legal"&&ie(i),o==="quality"&&te(i),o==="integration"&&oe(i),o==="documentation"&&ae(i)]})]}),N.totalPages>1&&e.jsx("div",{style:{marginTop:24},children:e.jsxs(fe,{children:[e.jsx(ce,{onClick:()=>I(Math.max(1,r-1)),disabled:r===1,children:"Previous"}),e.jsxs("span",{style:{fontFamily:"Consolas",fontSize:12,color:t.foreground},children:["Page ",N.currentPage," of ",N.totalPages," (",N.total," total)"]}),e.jsx(ce,{onClick:()=>I(Math.min(N.totalPages,r+1)),disabled:r===N.totalPages,children:"Next"})]})})]})})]})]})};export{Ye as default};
