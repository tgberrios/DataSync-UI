import{m as xe,f as A,b as o,t as s,r as u,j as e,e as m,n as ae,C as be,o as ve,P as Ce,p as fe}from"./index-b1fa964d.js";import{u as _e}from"./usePagination-05d2e222.js";import{u as Se}from"./useTableFilters-34614e65.js";import{e as je}from"./errorHandler-5ea9ae85.js";import{A as Z}from"./AsciiPanel-3399d5be.js";import{A as $}from"./AsciiButton-3fcfdd9b.js";import{C as Ae,a as Ne,L as Fe,A as we,p as Te,b as Le,c as ze}from"./chart-29c351ca.js";import{S as ke}from"./SkeletonLoader-09c12074.js";import{L as Ee}from"./LineageSummaryCards-33059ad5.js";const Re=xe`
  from {
    opacity: 0;
    transform: translateY(-5px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
`,ye=A.div`
  font-family: Consolas;
  font-size: 12px;
  background: ${o.background};
  border: 1px solid ${o.border};
  border-radius: 2px;
  padding: 16px;
  max-height: 800px;
  overflow-y: auto;
  overflow-x: hidden;
  position: relative;
  
  &::-webkit-scrollbar {
    width: 8px;
  }
  
  &::-webkit-scrollbar-track {
    background: ${o.backgroundSoft};
    border-radius: 2px;
  }
  
  &::-webkit-scrollbar-thumb {
    background: ${o.border};
    border-radius: 2px;
    transition: background 0.2s ease;
    
    &:hover {
      background: ${o.accent};
    }
  }
`,Be=A.div`
  user-select: none;
  margin: 4px 0;
`,Ie=A.div`
  display: flex;
  align-items: center;
  padding: 8px;
  border-radius: 2px;
  transition: all 0.2s ease;
  cursor: pointer;
  font-family: Consolas;
  font-size: 12px;
  background: transparent;
  
  &:hover {
    background: ${o.backgroundSoft};
  }
`,$e=A.div`
  width: 16px;
  height: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-right: 8px;
  border-radius: 2px;
  background: ${i=>i.$isExpanded?o.accent:o.backgroundSoft};
  color: ${i=>i.$isExpanded?"#ffffff":o.accent};
  font-size: 10px;
  font-weight: bold;
  font-family: Consolas;
  transition: all 0.2s ease;
  flex-shrink: 0;
  
  &:hover {
    transform: scale(1.1);
  }
`,We=A.span`
  font-weight: 500;
  font-family: Consolas;
  font-size: 13px;
  color: ${o.accent};
  flex: 1;
  display: flex;
  align-items: center;
  gap: 8px;
`,He=A.span`
  background: ${o.backgroundSoft};
  color: ${o.foreground};
  padding: 2px 8px;
  border-radius: 2px;
  font-size: 11px;
  font-weight: 500;
  font-family: Consolas;
  border: 1px solid ${o.border};
  transition: all 0.2s ease;
  
  &:hover {
    background: ${o.accentLight};
    border-color: ${o.accent};
    color: ${o.accent};
    transform: translateY(-1px);
  }
`,De=A.div`
  max-height: ${i=>i.$isExpanded?"10000px":"0"};
  overflow: hidden;
  transition: max-height 0.3s ease-out;
  margin-left: 28px;
`,Me=A.div`
  padding: 8px;
  padding-left: ${i=>(i.$level||0)*24+36}px;
  margin: 2px 0;
  border-radius: 2px;
  background: transparent;
  border: 1px solid ${o.border};
  transition: all 0.2s ease;
  cursor: pointer;
  font-family: Consolas;
  font-size: 12px;
  
  &:hover {
    background: ${o.backgroundSoft};
    border-color: ${o.accent};
    transform: translateX(4px);
  }
`,oe=i=>{if(!i)return o.muted;switch(i){case"HEALTHY":case"EXCELLENT":return o.success;case"WARNING":return o.warning;case"CRITICAL":case"EMERGENCY":return o.danger;default:return o.muted}},me=i=>i>=90?o.success:i>=70?o.accent:i>=50?o.warning:o.danger;A.div`
  font-size: 3em;
  margin-bottom: ${s.spacing.md};
  animation: ${Re} 0.5s ease-out;
  font-family: "Consolas, 'Source Code Pro', monospace";
  opacity: 0.5;
`;A.div`
  font-size: 1.1em;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
  font-weight: 500;
  margin-bottom: ${s.spacing.sm};
`;A.div`
  font-size: 0.9em;
  opacity: 0.7;
`;const Pe=({items:i,onItemClick:T})=>{const[P,W]=u.useState(new Set),j=u.useMemo(()=>{const t=new Map;return i.forEach(h=>{const x=h.schema_name||"default";t.has(x)||t.set(x,{name:x,tables:[]}),t.get(x).tables.push(h)}),Array.from(t.values()).sort((h,x)=>h.name.localeCompare(x.name))},[i]),N=t=>{W(h=>{const x=new Set(h);return x.has(t)?x.delete(t):x.add(t),x})},G=(t,h)=>{if(t===0)return null;const x=[];for(let F=0;F<t-1;F++)x.push("│  ");return x.push(h?"└─ ":"├─ "),e.jsx("span",{style:{color:o.muted,fontFamily:"Consolas",fontSize:12},children:x.join("")})},D=t=>{if(t==null)return"N/A";const h=Number(t);return isNaN(h)?"N/A":h.toLocaleString()},V=t=>{if(t==null)return"N/A";const h=Number(t);return isNaN(h)?"N/A":h<1?`${(h*1024).toFixed(2)} KB`:`${h.toFixed(2)} MB`},a=(t,h)=>{const x=P.has(t.name),F=!1;return e.jsxs(Be,{children:[e.jsxs(Ie,{onClick:()=>N(t.name),children:[G(h,F),e.jsx($e,{$isExpanded:x,children:x?m.arrowDown:m.arrowRight}),e.jsx("span",{style:{marginRight:"8px",color:o.accent,fontFamily:"Consolas"},children:m.blockFull}),e.jsxs(We,{children:[t.name,e.jsx(He,{children:t.tables.length})]})]}),e.jsx(De,{$isExpanded:x,children:x&&t.tables.map((L,K)=>q(L,t.name,h+1,K===t.tables.length-1))})]},t.name)},q=(t,h,x,F)=>e.jsxs(Me,{$level:x,onClick:()=>T==null?void 0:T(t),children:[G(x,F),e.jsx("span",{style:{marginRight:"8px",color:o.muted,fontFamily:"Consolas"},children:m.blockFull}),e.jsx("span",{style:{marginRight:"8px",fontWeight:500,color:o.foreground,fontFamily:"Consolas"},children:t.table_name||"N/A"}),t.inferred_source_engine&&e.jsx("span",{style:{padding:"2px 8px",borderRadius:2,fontSize:11,fontFamily:"Consolas",backgroundColor:o.backgroundSoft,color:o.foreground,border:`1px solid ${o.border}`,marginRight:4},children:t.inferred_source_engine}),t.data_category&&e.jsx("span",{style:{padding:"2px 8px",borderRadius:2,fontSize:11,fontFamily:"Consolas",backgroundColor:o.backgroundSoft,color:o.foreground,border:`1px solid ${o.border}`,marginRight:4},children:t.data_category}),t.health_status&&e.jsx("span",{style:{padding:"2px 8px",borderRadius:2,fontSize:11,fontFamily:"Consolas",backgroundColor:oe(t.health_status)+"20",color:oe(t.health_status),border:`1px solid ${oe(t.health_status)}`,marginRight:4},children:t.health_status}),t.sensitivity_level&&e.jsx("span",{style:{padding:"2px 8px",borderRadius:2,fontSize:11,fontFamily:"Consolas",backgroundColor:oe(t.sensitivity_level)+"20",color:oe(t.sensitivity_level),border:`1px solid ${oe(t.sensitivity_level)}`,marginRight:4},children:t.sensitivity_level}),t.data_quality_score!==void 0&&e.jsxs("span",{style:{padding:"2px 8px",borderRadius:2,fontSize:11,fontFamily:"Consolas",backgroundColor:me(t.data_quality_score)+"20",color:me(t.data_quality_score),border:`1px solid ${me(t.data_quality_score)}`,marginRight:4},children:[t.data_quality_score,"%"]}),e.jsxs("span",{style:{marginLeft:"auto",color:o.muted,fontSize:11,fontFamily:"Consolas"},children:[D(t.total_rows)," rows ",m.bullet," ",V(t.table_size_mb)]})]},t.id);return j.length===0?e.jsx(ye,{children:e.jsxs("div",{style:{padding:"60px 40px",textAlign:"center",color:o.muted,fontFamily:"Consolas"},children:[e.jsx("div",{style:{fontSize:48,marginBottom:16,fontFamily:"Consolas",opacity:.5},children:m.blockFull}),e.jsx("div",{style:{fontSize:13,fontFamily:"Consolas",fontWeight:600,marginBottom:8,color:o.foreground},children:"No governance data available"}),e.jsx("div",{style:{fontSize:12,fontFamily:"Consolas",opacity:.7,color:o.muted},children:"Data will appear here once collected."})]})}):e.jsx(ye,{children:j.map(t=>a(t,0))})};Ae.register(Ne,Fe,we,Te,Le,ze);const Ge=({data:i,color:T,height:P=4,width:W=30,labels:j})=>{const[N,G]=u.useState(null),[D,V]=u.useState(null),a=u.useRef(null);if(!i||i.length===0)return e.jsx("span",{style:{color:o.muted},children:m.dot.repeat(W)});const q=i.slice(-W),t=j?j.slice(-W):[],h=Math.min(...q),F=Math.max(...q)-h||1,L=["▁","▂","▃","▄","▅","▆","▇","█"],K=M=>{if(F===0)return L[0];const z=(M-h)/F,H=Math.floor(z*(L.length-1));return L[Math.max(0,Math.min(L.length-1,H))]},C=(M,z)=>{if(a.current){const H=a.current.getBoundingClientRect();V({x:M.clientX-H.left,y:M.clientY-H.top-30}),G(z)}},O=()=>{G(null),V(null)};return e.jsxs("div",{ref:a,style:{position:"relative",display:"inline-block"},onMouseLeave:O,children:[e.jsx("span",{style:{color:T,fontFamily:"Consolas",fontSize:11,letterSpacing:0,lineHeight:1,display:"inline-block"},children:q.map((M,z)=>e.jsx("span",{onMouseMove:H=>C(H,z),style:{cursor:"pointer",transition:"all 0.2s ease",transform:N===z?"scale(1.2)":"scale(1)",display:"inline-block",position:"relative"},children:K(M)},z))}),N!==null&&D&&e.jsxs("div",{style:{position:"absolute",left:`${D.x}px`,top:`${D.y}px`,transform:"translateX(-50%)",backgroundColor:o.background,border:`1px solid ${o.border}`,borderRadius:2,padding:"6px 10px",fontSize:10,fontFamily:"Consolas",color:o.foreground,whiteSpace:"nowrap",zIndex:1e3,boxShadow:"0 4px 12px rgba(0,0,0,0.2)",pointerEvents:"none",animation:"fadeInUp 0.15s ease-out",transition:"opacity 0.15s ease, transform 0.15s ease"},children:[e.jsx("div",{style:{color:o.accent,fontWeight:600,marginBottom:2},children:q[N].toFixed(2)}),t[N]&&e.jsx("div",{style:{color:o.muted,fontSize:9},children:new Date(t[N]).toLocaleTimeString()})]})]})},qe=({selectedTable:i})=>{const[T,P]=u.useState(30),[W,j]=u.useState(!1),[N,G]=u.useState(null),[D,V]=u.useState([]),[a,q]=u.useState(null),t=u.useRef(null),h=u.useCallback(async()=>{var _,f,l,y;t.current&&t.current.abort(),t.current=new AbortController;const r=t.current;j(!0),G(null);try{const p={days:T,limit:1e4};i&&(p.schema=i.schema_name,p.table=i.table_name,p.engine=i.inferred_source_engine);const[w,S]=await Promise.all([ae.getGovernanceHistory(p,r.signal),ae.getGovernanceStats({days:T},r.signal)]);!r.signal.aborted&&t.current===r&&(V(((_=w.data)==null?void 0:_.data)||[]),q(S))}catch(p){const w=p.name==="CanceledError"||p.name==="AbortError"||((f=p.message)==null?void 0:f.includes("canceled"))||((l=p.message)==null?void 0:l.includes("aborted"))||((y=p.message)==null?void 0:y.includes("Request cancelled"));if(!w&&t.current===r){const S=je(p);G(S),console.error("Error fetching governance charts data:",p)}else if(w)return}finally{t.current===r&&j(!1)}},[T,i]);u.useEffect(()=>(h(),()=>{t.current&&t.current.abort()}),[T,i]);const x=()=>{if(!D.length)return null;const r=[...D].sort((f,l)=>new Date(f.snapshot_date).getTime()-new Date(l.snapshot_date).getTime());let _;if(i)_=r;else{const f=new Map;r.forEach(l=>{const y=new Date(l.snapshot_date).toISOString();f.has(y)||f.set(y,{data_quality_score:0,table_size_mb:0,total_rows:0,fragmentation_percentage:0,count:0,timestamp:y});const p=f.get(y);p.data_quality_score+=Number(l.data_quality_score)||0,p.table_size_mb+=Number(l.table_size_mb)||0,p.total_rows+=Number(l.total_rows)||0,p.fragmentation_percentage+=Number(l.fragmentation_percentage)||0,p.count+=1}),_=Array.from(f.values()).map(l=>({snapshot_date:l.timestamp,data_quality_score:l.count>0?l.data_quality_score/l.count:0,table_size_mb:l.table_size_mb,total_rows:l.total_rows,fragmentation_percentage:l.count>0?l.fragmentation_percentage/l.count:0})).sort((l,y)=>new Date(l.snapshot_date).getTime()-new Date(y.snapshot_date).getTime())}return _},F=(r,_,f,l,y,p,w,S)=>{const J=l.length>0&&Number(l[l.length-1])||0,U=Number(_)||J||0,re=l.length>1,he=re?Math.min(...l.map(g=>Number(g)||0)):0,ie=re?Math.max(...l.map(g=>Number(g)||0)):0,le=w||(ie>0?ie:100),pe=le>0?U/le*100:0,n=Math.min(100,Math.max(0,pe));return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8,padding:"12px",backgroundColor:o.background,borderRadius:2,border:`1px solid ${o.border}`,transition:"all 0.2s ease"},onMouseEnter:g=>{g.currentTarget.style.borderColor=y,g.currentTarget.style.backgroundColor=o.backgroundSoft},onMouseLeave:g=>{g.currentTarget.style.borderColor=o.border,g.currentTarget.style.backgroundColor=o.background},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:4},children:[e.jsxs("div",{style:{fontSize:11,color:o.accent,fontWeight:500,display:"flex",alignItems:"center",gap:6,fontFamily:"Consolas"},children:[e.jsx("span",{children:p}),e.jsx("span",{children:r})]}),e.jsxs("div",{style:{fontSize:13,fontWeight:600,color:y,fontFamily:"Consolas"},children:[typeof U=="number"?U.toFixed(1):Number(U||0).toFixed(1),f]})]}),e.jsx("div",{style:{width:"100%",height:6,backgroundColor:o.backgroundSoft,borderRadius:1,overflow:"hidden",border:`1px solid ${o.border}`},children:e.jsx("div",{style:{width:`${n}%`,height:"100%",backgroundColor:y,transition:"width 0.3s ease",borderRadius:1}})}),e.jsx(Ge,{data:l,color:y,width:40,labels:S}),re&&e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:9,color:o.muted,marginTop:2,fontFamily:"Consolas"},children:[e.jsxs("span",{children:["Min: ",he.toFixed(1),f]}),e.jsxs("span",{children:["Max: ",ie.toFixed(1),f]})]})]})},L=()=>a!=null&&a.summary?{labels:["HEALTHY","WARNING","CRITICAL"],datasets:[{data:[parseInt(a.summary.healthy_count||0),parseInt(a.summary.warning_count||0),parseInt(a.summary.critical_count||0)],backgroundColor:[o.success+"80",o.warning+"80",o.danger+"80"],borderColor:[o.success,o.warning,o.danger],borderWidth:2}]}:null,K=()=>!(a!=null&&a.byEngine)||!a.byEngine.length?null:{labels:a.byEngine.map(r=>r.inferred_source_engine||"Unknown"),datasets:[{label:"Tables",data:a.byEngine.map(r=>parseInt(r.table_count||0)),backgroundColor:[o.accent+"80",o.success+"80",o.warning+"80",o.danger+"80","#9b59b680"],borderColor:[o.accent,o.success,o.warning,o.danger,"#9b59b6"],borderWidth:2}]},C=x(),O=L(),M=K(),z=C?C.map(r=>Number(r.data_quality_score)||0):[],H=C?C.map(r=>r.snapshot_date):[],X=C?C.map(r=>Number(r.table_size_mb)||0):[],Y=C?C.map(r=>Number(r.total_rows)||0):[],ee=C?C.map(r=>Number(r.fragmentation_percentage)||0):[],E=z.length>0&&Number(z[z.length-1])||0,se=X.length>0&&Number(X[X.length-1])||0,ge=Y.length>0&&Number(Y[Y.length-1])||0,v=ee.length>0&&Number(ee[ee.length-1])||0;return e.jsxs("div",{style:{fontFamily:"Consolas",fontSize:12},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16,flexWrap:"wrap",gap:12},children:[e.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[e.jsx("span",{style:{color:o.muted,fontSize:11},children:"Time Range:"}),e.jsxs("select",{value:T,onChange:r=>P(Number(r.target.value)),style:{padding:"4px 8px",border:`1px solid ${o.border}`,borderRadius:2,fontFamily:"Consolas",fontSize:11,backgroundColor:o.background,color:o.foreground},children:[e.jsx("option",{value:1,children:"Last 24 hours"}),e.jsx("option",{value:7,children:"Last 7 days"}),e.jsx("option",{value:30,children:"Last 30 days"}),e.jsx("option",{value:90,children:"Last 90 days"}),e.jsx("option",{value:180,children:"Last 6 months"}),e.jsx("option",{value:240,children:"Last 8 months"})]})]}),e.jsx($,{label:"Refresh",onClick:h,variant:"ghost",disabled:W})]}),N&&e.jsx(Z,{title:"ERROR",children:e.jsx("div",{style:{padding:"12px",color:o.danger,fontSize:11,fontFamily:"Consolas"},children:N})}),W&&e.jsx("div",{style:{padding:20,textAlign:"center",color:o.muted},children:"Loading charts..."}),!W&&!N&&C&&e.jsxs("div",{style:{border:`1px solid ${o.border}`,borderRadius:2,padding:16,backgroundColor:o.backgroundSoft,marginBottom:16},children:[e.jsxs("h2",{style:{fontSize:14,fontFamily:"Consolas",fontWeight:600,color:o.accent,margin:0,marginBottom:16,paddingBottom:8,borderBottom:`1px solid ${o.border}`},children:[m.blockFull," GOVERNANCE METRICS"]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[F("Quality Score",E,"%",z,E>=90?o.success:E>=70?o.warning:o.danger,m.blockFull,100,H),F("Table Size",se," MB",X,o.accent,m.blockSemi,void 0,H),F("Total Rows",ge,"",Y,o.success,m.blockLight,void 0,H),F("Fragmentation",v,"%",ee,v>30?o.danger:v>10?o.warning:o.success,m.dot,100,H)]})]}),!W&&!N&&e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16,marginBottom:16},children:[O&&(()=>{const r=O.datasets[0].data.reduce((J,U)=>J+U,0),_=O.datasets[0].data[0]||0,f=O.datasets[0].data[1]||0,l=O.datasets[0].data[2]||0,y=r>0?_/r*100:0,p=r>0?f/r*100:0,w=r>0?l/r*100:0,S=40;return e.jsx(Z,{title:"HEALTH DISTRIBUTION",children:e.jsxs("div",{style:{fontFamily:"Consolas",fontSize:11,padding:"12px",lineHeight:1.8},children:[e.jsxs("div",{style:{marginBottom:12},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:4},children:[e.jsx("span",{style:{color:o.muted},children:"├─ HEALTHY:"}),e.jsxs("span",{style:{color:o.success,fontWeight:600},children:[_," (",y.toFixed(1),"%)"]})]}),e.jsx("div",{style:{display:"flex",alignItems:"center",gap:8,marginLeft:12},children:e.jsxs("span",{style:{color:o.success},children:[m.blockFull.repeat(Math.round(y/100*S)),m.blockLight.repeat(S-Math.round(y/100*S))]})})]}),e.jsxs("div",{style:{marginBottom:12},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:4},children:[e.jsx("span",{style:{color:o.muted},children:"├─ WARNING:"}),e.jsxs("span",{style:{color:o.warning,fontWeight:600},children:[f," (",p.toFixed(1),"%)"]})]}),e.jsx("div",{style:{display:"flex",alignItems:"center",gap:8,marginLeft:12},children:e.jsxs("span",{style:{color:o.warning},children:[m.blockFull.repeat(Math.round(p/100*S)),m.blockLight.repeat(S-Math.round(p/100*S))]})})]}),e.jsxs("div",{style:{marginBottom:4},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:4},children:[e.jsx("span",{style:{color:o.muted},children:"└─ CRITICAL:"}),e.jsxs("span",{style:{color:o.danger,fontWeight:600},children:[l," (",w.toFixed(1),"%)"]})]}),e.jsx("div",{style:{display:"flex",alignItems:"center",gap:8,marginLeft:12},children:e.jsxs("span",{style:{color:o.danger},children:[m.blockFull.repeat(Math.round(w/100*S)),m.blockLight.repeat(S-Math.round(w/100*S))]})})]}),e.jsxs("div",{style:{marginTop:16,paddingTop:12,borderTop:`1px solid ${o.border}`,display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{color:o.muted,fontSize:10},children:"Total:"}),e.jsxs("span",{style:{color:o.foreground,fontWeight:600,fontSize:10},children:[r," tables"]})]})]})})})(),M&&(a==null?void 0:a.byEngine)&&(()=>{const r=a.byEngine,_=r.reduce((l,y)=>l+parseInt(y.table_count||0),0),f=40;return e.jsx(Z,{title:"ENGINE DISTRIBUTION",children:e.jsxs("div",{style:{fontFamily:"Consolas",fontSize:11,padding:"12px",lineHeight:1.8},children:[r.map((l,y)=>{const p=parseInt(l.table_count||0),w=_>0?p/_*100:0,S=y===r.length-1,J=S?"└─":"├─",U=l.inferred_source_engine||"Unknown";return e.jsxs("div",{style:{marginBottom:S?4:12},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:4},children:[e.jsxs("span",{style:{color:o.muted},children:[J," ",U,":"]}),e.jsxs("span",{style:{color:o.accent,fontWeight:600},children:[p," (",w.toFixed(1),"%)"]})]}),e.jsx("div",{style:{display:"flex",alignItems:"center",gap:8,marginLeft:12},children:e.jsxs("span",{style:{color:o.accent},children:[m.blockFull.repeat(Math.round(w/100*f)),m.blockLight.repeat(f-Math.round(w/100*f))]})})]},y)}),e.jsxs("div",{style:{marginTop:16,paddingTop:12,borderTop:`1px solid ${o.border}`,display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{color:o.muted,fontSize:10},children:"Total:"}),e.jsxs("span",{style:{color:o.foreground,fontWeight:600,fontSize:10},children:[_," tables"]})]})]})})})()]}),!W&&!N&&(a==null?void 0:a.summary)&&e.jsxs("div",{style:{border:`1px solid ${o.border}`,borderRadius:2,padding:16,backgroundColor:o.backgroundSoft,marginBottom:16},children:[e.jsxs("h2",{style:{fontSize:14,fontFamily:"Consolas",fontWeight:600,color:o.accent,margin:0,marginBottom:16,paddingBottom:8,borderBottom:`1px solid ${o.border}`},children:[m.blockFull," GOVERNANCE SUMMARY"]}),e.jsxs("div",{style:{fontFamily:"Consolas",fontSize:11,lineHeight:1.8,color:o.foreground},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"},children:[e.jsx("span",{style:{color:o.muted},children:"├─ Total Tables:"}),e.jsx("span",{style:{fontWeight:500,marginLeft:"20px"},children:a.summary.total_tables||0})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"},children:[e.jsx("span",{style:{color:o.muted},children:"├─ Healthy:"}),e.jsx("span",{style:{fontWeight:500,marginLeft:"20px",color:o.success},children:a.summary.healthy_count||0})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"},children:[e.jsx("span",{style:{color:o.muted},children:"├─ Warning:"}),e.jsx("span",{style:{fontWeight:500,marginLeft:"20px",color:o.warning},children:a.summary.warning_count||0})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"},children:[e.jsx("span",{style:{color:o.muted},children:"├─ Critical:"}),e.jsx("span",{style:{fontWeight:500,marginLeft:"20px",color:o.danger},children:a.summary.critical_count||0})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"},children:[e.jsx("span",{style:{color:o.muted},children:"├─ Avg Quality Score:"}),e.jsxs("span",{style:{fontWeight:500,marginLeft:"20px",color:parseFloat(a.summary.avg_quality_score||0)>=90?o.success:parseFloat(a.summary.avg_quality_score||0)>=70?o.warning:o.danger},children:[parseFloat(a.summary.avg_quality_score||0).toFixed(2),"%"]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"},children:[e.jsx("span",{style:{color:o.muted},children:"├─ Total Size:"}),e.jsxs("span",{style:{fontWeight:500,marginLeft:"20px"},children:[(parseFloat(a.summary.total_size_mb||0)/1024).toFixed(2)," GB"]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"},children:[e.jsx("span",{style:{color:o.muted},children:"├─ Engines:"}),e.jsx("span",{style:{fontWeight:500,marginLeft:"20px"},children:a.summary.engine_count||0})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{color:o.muted},children:"└─ Schemas:"}),e.jsx("span",{style:{fontWeight:500,marginLeft:"20px"},children:a.summary.schema_count||0})]})]})]})]})};xe`
  from {
    opacity: 0;
    transform: translateY(-5px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
`;xe`
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
`;const ne=A.div`
  font-family: 'Consolas';
  font-size: 12px;
`,R=A.div`
  margin-bottom: ${s.spacing.md};
  padding-bottom: ${s.spacing.sm};
  border-bottom: 1px solid ${o.border};
  
  &:last-child {
    margin-bottom: 0;
    border-bottom: none;
  }
`,B=A.h3`
  font-size: 13px;
  font-family: 'Consolas';
  font-weight: 600;
  color: ${o.foreground};
  margin: 0 0 ${s.spacing.sm} 0;
  padding-bottom: ${s.spacing.xs};
  border-bottom: 2px solid ${o.accent};
`,I=A.div`
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: ${s.spacing.sm};
`,c=A.div`
  color: ${o.muted};
  font-weight: 500;
  font-size: 11px;
  font-family: 'Consolas';
`,d=A.div`
  color: ${o.foreground};
  font-size: 12px;
  font-family: 'Consolas';
`,Q=A.span`
  padding: ${s.spacing.xs} ${s.spacing.sm};
  border-radius: 2;
  font-size: 11px;
  font-family: 'Consolas';
  background-color: ${i=>b(i.$status)+"20"};
  color: ${i=>b(i.$status)};
  border: 1px solid ${i=>b(i.$status)};
`,Oe=A.span`
  padding: ${s.spacing.xs} ${s.spacing.sm};
  border-radius: 2;
  font-size: 11px;
  font-family: 'Consolas';
  background-color: ${i=>te(i.$score)+"20"};
  color: ${i=>te(i.$score)};
  border: 1px solid ${i=>te(i.$score)};
`,b=i=>{if(!i)return o.muted;switch(i){case"HEALTHY":case"EXCELLENT":return o.accent;case"WARNING":return o.muted;case"CRITICAL":case"EMERGENCY":return o.foreground;default:return o.muted}},te=i=>i>=90?o.accent:i>=70?o.accent:i>=50?o.muted:o.foreground,oo=()=>{const{page:i,limit:T,setPage:P,setLimit:W}=_e(1,20,1e3),{filters:j,setFilter:N,clearFilters:G}=Se({engine:"",category:"",health:"",domain:"",sensitivity:""}),[D,V]=u.useState(null),[a,q]=u.useState(null),[t,h]=u.useState("overview"),[x,F]=u.useState([]),[L,K]=u.useState({total:0,totalPages:0,currentPage:1,limit:20}),[C,O]=u.useState({}),[M,z]=u.useState(!0),[H,X]=u.useState(!1),[Y,ee]=u.useState("list"),E=u.useRef(!0),se=u.useCallback(async()=>{if(!E.current)return;const n=Date.now(),g=300;try{z(!0),V(null);const k=await ae.getGovernanceData({page:i,limit:T,engine:j.engine,category:j.category,health:j.health,domain:j.domain,sensitivity:j.sensitivity}),ce=Date.now()-n,de=Math.max(0,g-ce);await new Promise(ue=>setTimeout(ue,de)),E.current&&(F(k.data||[]),K(k.pagination||{total:0,totalPages:0,currentPage:1,limit:20}))}catch(k){E.current&&V(je(k))}finally{E.current&&z(!1)}},[i,T,j.engine,j.category,j.health,j.domain,j.sensitivity]);u.useEffect(()=>{E.current=!0,(async()=>{await se();try{const k=await ae.getGovernanceMetrics();E.current&&O(k||{})}catch(k){E.current&&console.error("Error loading metrics:",k)}})();const g=setInterval(()=>{E.current&&(se(),ae.getGovernanceMetrics().then(k=>{E.current&&O(k||{})}).catch(k=>{console.error("Error loading metrics:",k)}))},3e4);return()=>{E.current=!1,clearInterval(g)}},[se]);const ge=u.useCallback(n=>{n&&(q(g=>g&&n.id&&g.id===n.id||g&&n.schema_name&&n.table_name&&g.schema_name===n.schema_name&&g.table_name===n.table_name?null:n),h("overview"))},[]),v=u.useCallback(n=>n?new Date(n).toLocaleString():"N/A",[]),r=u.useCallback(n=>n==null?"N/A":n?"Yes":"No",[]),_=u.useCallback(n=>n==null?"N/A":`${Number(n).toFixed(2)}%`,[]),f=u.useCallback(n=>{if(n==null)return"N/A";const g=Number(n);return isNaN(g)?"N/A":g>=1024?`${(g/1024).toFixed(2)} GB`:`${g.toFixed(2)} MB`},[]),l=u.useCallback(n=>{if(n==null)return"N/A";const g=Number(n);return isNaN(g)?"N/A":g.toLocaleString()},[]),y=u.useMemo(()=>[{title:"Overview",rows:[{label:"Total Tables",value:l(C.total_tables)},{label:"Total Size",value:f(C.total_size_mb)},{label:"Total Rows",value:l(C.total_rows)},{label:"Unique Engines",value:l(C.unique_engines)}]},{title:"Health",rows:[{label:"Healthy",value:l(C.healthy_count)},{label:"Warning",value:l(C.warning_count)},{label:"Critical",value:l(C.critical_count)}]}],[C,l,f]);u.useCallback(n=>({TRANSACTIONAL:"Data that represents business transactions and events that occur in real-time",ANALYTICAL:"Data used for analysis, reporting, and business intelligence purposes",REFERENCE:"Lookup tables and master data used across multiple systems",MASTER_DATA:"Core business entities like customers, products, and suppliers",OPERATIONAL:"Data used for day-to-day operational processes and workflows",TEMPORAL:"Time-series data that tracks changes over time",GEOSPATIAL:"Location-based data including coordinates and geographic information",FINANCIAL:"Financial transactions, accounts, and monetary data",COMPLIANCE:"Data required for regulatory compliance and auditing",TECHNICAL:"System-generated data for technical monitoring and maintenance",SPORTS:"Sports-related data including scores, statistics, and player information"})[n]||"Data category classification",[]),u.useCallback(n=>({EXCELLENT:"Optimal data quality with no issues detected",HEALTHY:"Good data quality with minor or no issues",WARNING:"Some data quality issues detected that need attention",CRITICAL:"Significant data quality issues requiring immediate attention",EMERGENCY:"Severe data quality issues that may impact system functionality"})[n]||"Health status of the data",[]),u.useCallback(n=>({PUBLIC:"Data that can be freely shared and accessed by anyone",LOW:"Data with minimal sensitivity requirements",MEDIUM:"Data with moderate sensitivity requiring controlled access",HIGH:"Data with high sensitivity requiring strict access controls",CRITICAL:"Data with critical sensitivity requiring maximum security measures"})[n]||"Data sensitivity level",[]);const p=u.useCallback((n,g)=>{N(n,g),P(1)},[N,P]),w=u.useCallback(n=>{var g,k,ce,de,ue;return e.jsxs("div",{children:[e.jsxs("div",{style:{marginBottom:s.spacing.md,paddingBottom:s.spacing.sm,borderBottom:`1px solid ${o.border}`},children:[e.jsx("h3",{style:{fontSize:13,fontFamily:"Consolas",fontWeight:600,color:o.foreground,margin:`0 0 ${s.spacing.sm} 0`,paddingBottom:s.spacing.xs,borderBottom:`2px solid ${o.accent}`},children:"Basic Information"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:s.spacing.sm},children:[e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:s.spacing.xs,fontFamily:"Consolas"},children:"Schema:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:n.schema_name||"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Table:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:n.table_name||"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Source Engine:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:n.inferred_source_engine||"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Data Category:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:n.data_category?e.jsx("span",{style:{padding:`${s.spacing.xs} ${s.spacing.sm}`,borderRadius:2,fontSize:11,fontFamily:"Consolas",backgroundColor:o.backgroundSoft,color:o.foreground,border:`1px solid ${o.border}`},children:n.data_category}):"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:s.spacing.xs,fontFamily:"Consolas"},children:"Business Domain:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:n.business_domain||"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:s.spacing.xs,fontFamily:"Consolas"},children:"Sensitivity Level:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:n.sensitivity_level?e.jsx("span",{style:{padding:`${s.spacing.xs} ${s.spacing.sm}`,borderRadius:2,fontSize:11,fontFamily:"Consolas",backgroundColor:b(n.sensitivity_level)+"20",color:b(n.sensitivity_level),border:`1px solid ${b(n.sensitivity_level)}`},children:n.sensitivity_level}):"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:s.spacing.xs,fontFamily:"Consolas"},children:"Health Status:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:n.health_status?e.jsx("span",{style:{padding:`${s.spacing.xs} ${s.spacing.sm}`,borderRadius:2,fontSize:11,fontFamily:"Consolas",backgroundColor:b(n.health_status)+"20",color:b(n.health_status),border:`1px solid ${b(n.health_status)}`},children:n.health_status}):"N/A"})]})]})]}),e.jsxs("div",{style:{marginBottom:s.spacing.md,paddingBottom:s.spacing.sm,borderBottom:`1px solid ${o.border}`},children:[e.jsx("h3",{style:{fontSize:13,fontFamily:"Consolas",fontWeight:600,color:o.foreground,margin:`0 0 ${s.spacing.sm} 0`,paddingBottom:s.spacing.xs,borderBottom:`2px solid ${o.accent}`},children:"Metrics"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:s.spacing.sm},children:[e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Total Columns:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:((g=n.total_columns)==null?void 0:g.toLocaleString())||"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Total Rows:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:((k=n.total_rows)==null?void 0:k.toLocaleString())||"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Table Size:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:f(n.table_size_mb)})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Primary Key Columns:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:n.primary_key_columns||"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Index Count:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:((ce=n.index_count)==null?void 0:ce.toLocaleString())||"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Constraint Count:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:((de=n.constraint_count)==null?void 0:de.toLocaleString())||"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Data Quality Score:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:n.data_quality_score!==null&&n.data_quality_score!==void 0?e.jsxs("span",{style:{padding:"2px 8px",borderRadius:2,fontSize:11,fontFamily:"Consolas",backgroundColor:te(Number(n.data_quality_score))+"20",color:te(Number(n.data_quality_score)),border:`1px solid ${te(Number(n.data_quality_score))}`},children:[Number(n.data_quality_score).toFixed(2),"%"]}):"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Null Percentage:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:_(n.null_percentage)})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Duplicate Percentage:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:_(n.duplicate_percentage)})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Fragmentation:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:_(n.fragmentation_percentage)})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Access Frequency:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:n.access_frequency||"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Query Count (Daily):"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:((ue=n.query_count_daily)==null?void 0:ue.toLocaleString())||"N/A"})]})]})]}),e.jsxs("div",{style:{marginBottom:0},children:[e.jsx("h3",{style:{fontSize:13,fontFamily:"Consolas",fontWeight:600,color:o.foreground,margin:"0 0 12px 0",paddingBottom:4,borderBottom:`2px solid ${o.accent}`},children:"Timestamps"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:12},children:[e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"First Discovered:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:v(n.first_discovered)})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Last Analyzed:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:v(n.last_analyzed)})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Last Accessed:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:v(n.last_accessed)})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Last Vacuum:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:v(n.last_vacuum)})]})]})]})]})},[v,f,_]),S=u.useCallback(n=>e.jsx("div",{children:e.jsxs("div",{style:{marginBottom:0},children:[e.jsx("h3",{style:{fontSize:13,fontFamily:"Consolas",fontWeight:600,color:o.foreground,margin:"0 0 12px 0",paddingBottom:4,borderBottom:`2px solid ${o.accent}`},children:"Ownership"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:12},children:[e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Data Owner:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:n.data_owner||"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Owner Email:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:n.owner_email?e.jsx("a",{href:`mailto:${n.owner_email}`,style:{color:o.accent,fontFamily:"Consolas"},children:n.owner_email}):"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Data Steward:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:n.data_steward||"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Steward Email:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:n.steward_email?e.jsx("a",{href:`mailto:${n.steward_email}`,style:{color:o.accent,fontFamily:"Consolas"},children:n.steward_email}):"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Data Custodian:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:n.data_custodian||"N/A"})]})]})]})}),[]),J=u.useCallback(n=>e.jsxs("div",{children:[e.jsxs("div",{style:{marginBottom:16,paddingBottom:12,borderBottom:`1px solid ${o.border}`},children:[e.jsx("h3",{style:{fontSize:13,fontFamily:"Consolas",fontWeight:600,color:o.foreground,margin:"0 0 12px 0",paddingBottom:4,borderBottom:`2px solid ${o.accent}`},children:"Encryption"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:12},children:[e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Encryption at Rest:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:e.jsx("span",{style:{padding:"2px 8px",borderRadius:2,fontSize:11,fontFamily:"Consolas",backgroundColor:b(n.encryption_at_rest?"HEALTHY":"WARNING")+"20",color:b(n.encryption_at_rest?"HEALTHY":"WARNING"),border:`1px solid ${b(n.encryption_at_rest?"HEALTHY":"WARNING")}`},children:r(n.encryption_at_rest)})})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Encryption in Transit:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:e.jsx("span",{style:{padding:"2px 8px",borderRadius:2,fontSize:11,fontFamily:"Consolas",backgroundColor:b(n.encryption_in_transit?"HEALTHY":"WARNING")+"20",color:b(n.encryption_in_transit?"HEALTHY":"WARNING"),border:`1px solid ${b(n.encryption_in_transit?"HEALTHY":"WARNING")}`},children:r(n.encryption_in_transit)})})]})]})]}),e.jsxs("div",{style:{marginBottom:16,paddingBottom:12,borderBottom:`1px solid ${o.border}`},children:[e.jsx("h3",{style:{fontSize:13,fontFamily:"Consolas",fontWeight:600,color:o.foreground,margin:"0 0 12px 0",paddingBottom:4,borderBottom:`2px solid ${o.accent}`},children:"Data Masking"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:12},children:[e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Masking Policy Applied:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:e.jsx("span",{style:{padding:"2px 8px",borderRadius:2,fontSize:11,fontFamily:"Consolas",backgroundColor:b(n.masking_policy_applied?"HEALTHY":"WARNING")+"20",color:b(n.masking_policy_applied?"HEALTHY":"WARNING"),border:`1px solid ${b(n.masking_policy_applied?"HEALTHY":"WARNING")}`},children:r(n.masking_policy_applied)})})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Masking Policy Name:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:n.masking_policy_name||"N/A"})]})]})]}),e.jsxs("div",{style:{marginBottom:0},children:[e.jsx("h3",{style:{fontSize:13,fontFamily:"Consolas",fontWeight:600,color:o.foreground,margin:"0 0 12px 0",paddingBottom:4,borderBottom:`2px solid ${o.accent}`},children:"Access Control"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:12},children:[e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Row Level Security:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:e.jsx("span",{style:{padding:"2px 8px",borderRadius:2,fontSize:11,fontFamily:"Consolas",backgroundColor:b(n.row_level_security_enabled?"HEALTHY":"WARNING")+"20",color:b(n.row_level_security_enabled?"HEALTHY":"WARNING"),border:`1px solid ${b(n.row_level_security_enabled?"HEALTHY":"WARNING")}`},children:r(n.row_level_security_enabled)})})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Column Level Security:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:e.jsx("span",{style:{padding:"2px 8px",borderRadius:2,fontSize:11,fontFamily:"Consolas",backgroundColor:b(n.column_level_security_enabled?"HEALTHY":"WARNING")+"20",color:b(n.column_level_security_enabled?"HEALTHY":"WARNING"),border:`1px solid ${b(n.column_level_security_enabled?"HEALTHY":"WARNING")}`},children:r(n.column_level_security_enabled)})})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Access Control Policy:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:n.access_control_policy||"N/A"})]})]})]})]}),[r]),U=u.useCallback(n=>{var g;return e.jsxs(ne,{children:[e.jsxs(R,{children:[e.jsx(B,{children:"Consent & Legal Basis"}),e.jsxs(I,{children:[e.jsx(c,{children:"Consent Required:"}),e.jsx(d,{children:e.jsx(Q,{$status:n.consent_required?"WARNING":"HEALTHY",children:r(n.consent_required)})}),e.jsx(c,{children:"Consent Type:"}),e.jsx(d,{children:n.consent_type||"N/A"}),e.jsx(c,{children:"Legal Basis:"}),e.jsx(d,{children:n.legal_basis||"N/A"}),e.jsx(c,{children:"Data Subject Rights:"}),e.jsx(d,{style:{whiteSpace:"pre-wrap"},children:n.data_subject_rights||"N/A"})]})]}),e.jsxs(R,{children:[e.jsx(B,{children:"PII/PHI Detection"}),e.jsxs(I,{children:[e.jsx(c,{children:"PII Detection Method:"}),e.jsx(d,{children:n.pii_detection_method||"N/A"}),e.jsx(c,{children:"PII Confidence Score:"}),e.jsx(d,{children:n.pii_confidence_score!==null&&n.pii_confidence_score!==void 0?`${Number(n.pii_confidence_score).toFixed(2)}%`:"N/A"}),e.jsx(c,{children:"PII Categories:"}),e.jsx(d,{style:{whiteSpace:"pre-wrap"},children:n.pii_categories||"N/A"}),e.jsx(c,{children:"PHI Detection Method:"}),e.jsx(d,{children:n.phi_detection_method||"N/A"}),e.jsx(c,{children:"PHI Confidence Score:"}),e.jsx(d,{children:n.phi_confidence_score!==null&&n.phi_confidence_score!==void 0?`${Number(n.phi_confidence_score).toFixed(2)}%`:"N/A"}),e.jsx(c,{children:"Sensitive Data Count:"}),e.jsx(d,{children:((g=n.sensitive_data_count)==null?void 0:g.toLocaleString())||"0"}),e.jsx(c,{children:"Last PII Scan:"}),e.jsx(d,{children:v(n.last_pii_scan)})]})]}),e.jsxs(R,{children:[e.jsx(B,{children:"Cross-Border Transfer"}),e.jsxs(I,{children:[e.jsx(c,{children:"Cross-Border Transfer:"}),e.jsx(d,{children:e.jsx(Q,{$status:n.cross_border_transfer?"WARNING":"HEALTHY",children:r(n.cross_border_transfer)})}),e.jsx(c,{children:"Cross-Border Countries:"}),e.jsx(d,{style:{whiteSpace:"pre-wrap"},children:n.cross_border_countries||"N/A"}),e.jsx(c,{children:"Data Processing Agreement:"}),e.jsx(d,{style:{whiteSpace:"pre-wrap"},children:n.data_processing_agreement||"N/A"}),e.jsx(c,{children:"Privacy Impact Assessment:"}),e.jsx(d,{style:{whiteSpace:"pre-wrap"},children:n.privacy_impact_assessment||"N/A"})]})]}),e.jsxs(R,{children:[e.jsx(B,{children:"Breach Management"}),e.jsxs(I,{children:[e.jsx(c,{children:"Breach Notification Required:"}),e.jsx(d,{children:e.jsx(Q,{$status:n.breach_notification_required?"WARNING":"HEALTHY",children:r(n.breach_notification_required)})}),e.jsx(c,{children:"Last Breach Check:"}),e.jsx(d,{children:v(n.last_breach_check)})]})]})]})},[r,v]),re=u.useCallback(n=>e.jsxs(ne,{children:[e.jsxs(R,{children:[e.jsx(B,{children:"Retention Policy"}),e.jsxs(I,{children:[e.jsx(c,{children:"Retention Enforced:"}),e.jsx(d,{children:e.jsx(Q,{$status:n.retention_enforced?"HEALTHY":"WARNING",children:r(n.retention_enforced)})}),e.jsx(c,{children:"Data Expiration Date:"}),e.jsx(d,{children:v(n.data_expiration_date)}),e.jsx(c,{children:"Auto Delete Enabled:"}),e.jsx(d,{children:e.jsx(Q,{$status:n.auto_delete_enabled?"WARNING":"HEALTHY",children:r(n.auto_delete_enabled)})})]})]}),e.jsxs(R,{children:[e.jsx(B,{children:"Archival"}),e.jsxs(I,{children:[e.jsx(c,{children:"Archival Policy:"}),e.jsx(d,{children:n.archival_policy||"N/A"}),e.jsx(c,{children:"Archival Location:"}),e.jsx(d,{children:n.archival_location||"N/A"}),e.jsx(c,{children:"Last Archived At:"}),e.jsx(d,{children:v(n.last_archived_at)})]})]})]}),[r,v]),he=u.useCallback(n=>e.jsx(ne,{children:e.jsxs(R,{children:[e.jsx(B,{children:"Legal Hold"}),e.jsxs(I,{children:[e.jsx(c,{children:"Legal Hold:"}),e.jsx(d,{children:e.jsx(Q,{$status:n.legal_hold?"CRITICAL":"HEALTHY",children:r(n.legal_hold)})}),e.jsx(c,{children:"Legal Hold Reason:"}),e.jsx(d,{style:{whiteSpace:"pre-wrap"},children:n.legal_hold_reason||"N/A"}),e.jsx(c,{children:"Legal Hold Until:"}),e.jsx(d,{children:v(n.legal_hold_until)})]})]})}),[r,v]),ie=u.useCallback(n=>{var g;return e.jsxs(ne,{children:[e.jsxs(R,{children:[e.jsx(B,{children:"Quality Metrics"}),e.jsxs(I,{children:[e.jsx(c,{children:"Quality SLA Score:"}),e.jsx(d,{children:n.quality_sla_score!==null&&n.quality_sla_score!==void 0?e.jsxs(Oe,{$score:Number(n.quality_sla_score),children:[Number(n.quality_sla_score).toFixed(2),"%"]}):"N/A"}),e.jsx(c,{children:"Quality Checks Automated:"}),e.jsx(d,{children:e.jsx(Q,{$status:n.quality_checks_automated?"HEALTHY":"WARNING",children:r(n.quality_checks_automated)})}),e.jsx(c,{children:"Anomaly Detection Enabled:"}),e.jsx(d,{children:e.jsx(Q,{$status:n.anomaly_detection_enabled?"HEALTHY":"WARNING",children:r(n.anomaly_detection_enabled)})}),e.jsx(c,{children:"Last Anomaly Detected:"}),e.jsx(d,{children:v(n.last_anomaly_detected)})]})]}),e.jsxs(R,{children:[e.jsx(B,{children:"Data Freshness"}),e.jsxs(I,{children:[e.jsx(c,{children:"Freshness Threshold (Hours):"}),e.jsx(d,{children:((g=n.data_freshness_threshold_hours)==null?void 0:g.toLocaleString())||"N/A"}),e.jsx(c,{children:"Last Freshness Check:"}),e.jsx(d,{children:v(n.last_freshness_check)})]})]}),e.jsxs(R,{children:[e.jsx(B,{children:"Schema Evolution"}),e.jsxs(I,{children:[e.jsx(c,{children:"Schema Evolution Tracking:"}),e.jsx(d,{children:e.jsx(Q,{$status:n.schema_evolution_tracking?"HEALTHY":"WARNING",children:r(n.schema_evolution_tracking)})}),e.jsx(c,{children:"Last Schema Change:"}),e.jsx(d,{children:v(n.last_schema_change)})]})]})]})},[r,v]),le=u.useCallback(n=>e.jsxs(ne,{children:[e.jsxs(R,{children:[e.jsx(B,{children:"ETL Pipeline"}),e.jsxs(I,{children:[e.jsx(c,{children:"ETL Pipeline Name:"}),e.jsx(d,{children:n.etl_pipeline_name||"N/A"}),e.jsx(c,{children:"ETL Pipeline ID:"}),e.jsx(d,{children:n.etl_pipeline_id||"N/A"}),e.jsx(c,{children:"Transformation Rules:"}),e.jsx(d,{style:{whiteSpace:"pre-wrap"},children:n.transformation_rules||"N/A"})]})]}),e.jsxs(R,{children:[e.jsx(B,{children:"Systems"}),e.jsxs(I,{children:[e.jsx(c,{children:"Source Systems:"}),e.jsx(d,{style:{whiteSpace:"pre-wrap"},children:n.source_systems||"N/A"}),e.jsx(c,{children:"Downstream Systems:"}),e.jsx(d,{style:{whiteSpace:"pre-wrap"},children:n.downstream_systems||"N/A"}),e.jsx(c,{children:"BI Tools Used:"}),e.jsx(d,{style:{whiteSpace:"pre-wrap"},children:n.bi_tools_used||"N/A"}),e.jsx(c,{children:"API Endpoints:"}),e.jsx(d,{style:{whiteSpace:"pre-wrap"},children:n.api_endpoints||"N/A"})]})]})]}),[]),pe=u.useCallback(n=>e.jsxs(ne,{children:[e.jsxs(R,{children:[e.jsx(B,{children:"Documentation"}),e.jsxs(I,{children:[e.jsx(c,{children:"Business Glossary Term:"}),e.jsx(d,{style:{whiteSpace:"pre-wrap"},children:n.business_glossary_term||"N/A"}),e.jsx(c,{children:"Data Dictionary Description:"}),e.jsx(d,{style:{whiteSpace:"pre-wrap"},children:n.data_dictionary_description||"N/A"})]})]}),e.jsxs(R,{children:[e.jsx(B,{children:"Approval"}),e.jsxs(I,{children:[e.jsx(c,{children:"Approval Required:"}),e.jsx(d,{children:e.jsx(Q,{$status:n.approval_required?"WARNING":"HEALTHY",children:r(n.approval_required)})}),e.jsx(c,{children:"Last Approved By:"}),e.jsx(d,{children:n.last_approved_by||"N/A"}),e.jsx(c,{children:"Last Approved At:"}),e.jsx(d,{children:v(n.last_approved_at)})]})]})]}),[r,v]);return M&&x.length===0?e.jsx(ke,{variant:"table"}):e.jsxs(be,{children:[e.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:s.spacing.lg,paddingBottom:s.spacing.md,borderBottom:`2px solid ${o.accent}`},children:e.jsxs("h1",{style:{fontSize:14,fontWeight:600,margin:0,color:o.foreground,textTransform:"uppercase",fontFamily:"Consolas"},children:[e.jsx("span",{style:{color:o.accent,marginRight:s.spacing.sm},children:m.blockFull}),"DATA GOVERNANCE CATALOG"]})}),D&&e.jsx("div",{style:{marginBottom:s.spacing.md},children:e.jsx(Z,{title:"ERROR",children:e.jsx("div",{style:{padding:s.spacing.sm,color:o.foreground,fontSize:12,fontFamily:"Consolas",backgroundColor:o.backgroundSoft,borderRadius:2},children:D})})}),e.jsx(Ee,{cards:y}),e.jsx(Z,{title:"FILTERS",children:e.jsxs("div",{style:{display:"flex",gap:s.spacing.sm,flexWrap:"wrap",alignItems:"center"},children:[e.jsxs("select",{value:j.engine,onChange:n=>p("engine",n.target.value),style:{padding:`${s.spacing.xs} ${s.spacing.sm}`,border:`1px solid ${o.border}`,borderRadius:2,fontFamily:"Consolas",fontSize:12,backgroundColor:o.background,color:o.foreground,cursor:"pointer",outline:"none",transition:"border-color 0.15s ease"},onFocus:n=>{n.target.style.borderColor=o.accent,n.target.style.outline=`2px solid ${o.accent}`,n.target.style.outlineOffset="2px"},onBlur:n=>{n.target.style.borderColor=o.border,n.target.style.outline="none"},children:[e.jsx("option",{value:"",children:"All Engines"}),e.jsx("option",{value:"PostgreSQL",children:"PostgreSQL"}),e.jsx("option",{value:"MongoDB",children:"MongoDB"}),e.jsx("option",{value:"MSSQL",children:"MSSQL"}),e.jsx("option",{value:"MariaDB",children:"MariaDB"})]}),e.jsxs("select",{value:j.category,onChange:n=>p("category",n.target.value),style:{padding:`${s.spacing.xs} ${s.spacing.sm}`,border:`1px solid ${o.border}`,borderRadius:2,fontFamily:"Consolas",fontSize:12,backgroundColor:o.background,color:o.foreground,cursor:"pointer",outline:"none",transition:"border-color 0.15s ease"},onFocus:n=>{n.target.style.borderColor=o.accent,n.target.style.outline=`2px solid ${o.accent}`,n.target.style.outlineOffset="2px"},onBlur:n=>{n.target.style.borderColor=o.border,n.target.style.outline="none"},children:[e.jsx("option",{value:"",children:"All Categories"}),e.jsx("option",{value:"TRANSACTIONAL",children:"Transactional"}),e.jsx("option",{value:"ANALYTICAL",children:"Analytical"}),e.jsx("option",{value:"REFERENCE",children:"Reference"}),e.jsx("option",{value:"MASTER_DATA",children:"Master Data"}),e.jsx("option",{value:"OPERATIONAL",children:"Operational"}),e.jsx("option",{value:"TEMPORAL",children:"Temporal"}),e.jsx("option",{value:"GEOSPATIAL",children:"Geospatial"}),e.jsx("option",{value:"FINANCIAL",children:"Financial"}),e.jsx("option",{value:"COMPLIANCE",children:"Compliance"}),e.jsx("option",{value:"TECHNICAL",children:"Technical"}),e.jsx("option",{value:"SPORTS",children:"Sports"})]}),e.jsxs("select",{value:j.health,onChange:n=>p("health",n.target.value),style:{padding:`${s.spacing.xs} ${s.spacing.sm}`,border:`1px solid ${o.border}`,borderRadius:2,fontFamily:"Consolas",fontSize:12,backgroundColor:o.background,color:o.foreground,cursor:"pointer",outline:"none",transition:"border-color 0.15s ease"},onFocus:n=>{n.target.style.borderColor=o.accent,n.target.style.outline=`2px solid ${o.accent}`,n.target.style.outlineOffset="2px"},onBlur:n=>{n.target.style.borderColor=o.border,n.target.style.outline="none"},children:[e.jsx("option",{value:"",children:"All Health Status"}),e.jsx("option",{value:"EXCELLENT",children:"Excellent"}),e.jsx("option",{value:"HEALTHY",children:"Healthy"}),e.jsx("option",{value:"WARNING",children:"Warning"}),e.jsx("option",{value:"CRITICAL",children:"Critical"}),e.jsx("option",{value:"EMERGENCY",children:"Emergency"})]}),e.jsxs("select",{value:j.sensitivity,onChange:n=>p("sensitivity",n.target.value),style:{padding:`${s.spacing.xs} ${s.spacing.sm}`,border:`1px solid ${o.border}`,borderRadius:2,fontFamily:"Consolas",fontSize:12,backgroundColor:o.background,color:o.foreground,cursor:"pointer",outline:"none",transition:"border-color 0.15s ease"},onFocus:n=>{n.target.style.borderColor=o.accent,n.target.style.outline=`2px solid ${o.accent}`,n.target.style.outlineOffset="2px"},onBlur:n=>{n.target.style.borderColor=o.border,n.target.style.outline="none"},children:[e.jsx("option",{value:"",children:"All Sensitivity"}),e.jsx("option",{value:"PUBLIC",children:"Public"}),e.jsx("option",{value:"LOW",children:"Low"}),e.jsx("option",{value:"MEDIUM",children:"Medium"}),e.jsx("option",{value:"HIGH",children:"High"}),e.jsx("option",{value:"CRITICAL",children:"Critical"})]}),e.jsxs("select",{value:j.domain,onChange:n=>p("domain",n.target.value),style:{padding:`${s.spacing.xs} ${s.spacing.sm}`,border:`1px solid ${o.border}`,borderRadius:2,fontFamily:"Consolas",fontSize:12,backgroundColor:o.background,color:o.foreground,cursor:"pointer",outline:"none",transition:"border-color 0.15s ease"},onFocus:n=>{n.target.style.borderColor=o.accent,n.target.style.outline=`2px solid ${o.accent}`,n.target.style.outlineOffset="2px"},onBlur:n=>{n.target.style.borderColor=o.border,n.target.style.outline="none"},children:[e.jsx("option",{value:"",children:"All Domains"}),e.jsx("option",{value:"CUSTOMER",children:"Customer"}),e.jsx("option",{value:"SALES",children:"Sales"}),e.jsx("option",{value:"MARKETING",children:"Marketing"}),e.jsx("option",{value:"HR",children:"HR"}),e.jsx("option",{value:"FINANCE",children:"Finance"}),e.jsx("option",{value:"INVENTORY",children:"Inventory"}),e.jsx("option",{value:"OPERATIONS",children:"Operations"}),e.jsx("option",{value:"SUPPORT",children:"Support"}),e.jsx("option",{value:"SECURITY",children:"Security"}),e.jsx("option",{value:"ANALYTICS",children:"Analytics"}),e.jsx("option",{value:"COMMUNICATION",children:"Communication"}),e.jsx("option",{value:"LEGAL",children:"Legal"}),e.jsx("option",{value:"RESEARCH",children:"Research"}),e.jsx("option",{value:"MANUFACTURING",children:"Manufacturing"}),e.jsx("option",{value:"LOGISTICS",children:"Logistics"}),e.jsx("option",{value:"HEALTHCARE",children:"Healthcare"}),e.jsx("option",{value:"EDUCATION",children:"Education"}),e.jsx("option",{value:"REAL_ESTATE",children:"Real Estate"}),e.jsx("option",{value:"INSURANCE",children:"Insurance"}),e.jsx("option",{value:"SPORTS",children:"Sports"}),e.jsx("option",{value:"GENERAL",children:"General"})]}),e.jsx($,{label:"Reset All",onClick:()=>{G(),P(1)},variant:"ghost"})]})}),!M&&!D&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:s.spacing.lg,marginTop:s.spacing.sm,fontFamily:"Consolas",fontSize:12,gap:s.spacing.lg},children:[e.jsxs("div",{style:{display:"flex",gap:s.spacing.sm,alignItems:"center"},children:[e.jsx("label",{style:{color:o.muted,fontSize:11,fontFamily:"Consolas"},children:"Items per page:"}),e.jsxs("select",{value:T,onChange:n=>{W(Number(n.target.value)),P(1)},style:{padding:`${s.spacing.xs} ${s.spacing.sm}`,border:`1px solid ${o.border}`,borderRadius:2,fontFamily:"Consolas",fontSize:12,backgroundColor:o.background,color:o.foreground,cursor:"pointer",outline:"none",transition:"border-color 0.15s ease"},onFocus:n=>{n.target.style.borderColor=o.accent,n.target.style.outline=`2px solid ${o.accent}`,n.target.style.outlineOffset="2px"},onBlur:n=>{n.target.style.borderColor=o.border,n.target.style.outline="none"},children:[e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:20,children:"20"}),e.jsx("option",{value:50,children:"50"}),e.jsx("option",{value:100,children:"100"}),e.jsx("option",{value:200,children:"200"})]})]}),e.jsxs("div",{style:{display:"flex",gap:s.spacing.sm,alignItems:"center"},children:[e.jsx($,{label:Y==="list"?"Show Charts":"Show List",onClick:()=>ee(Y==="list"?"charts":"list"),variant:Y==="charts"?"primary":"ghost"}),e.jsx($,{label:"Metrics Info",onClick:()=>X(!0),variant:"ghost"})]})]}),H&&e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>X(!1),children:e.jsxs("div",{style:{width:"90%",maxWidth:900,maxHeight:"90vh",overflowY:"auto"},onClick:n=>n.stopPropagation(),children:[e.jsx("style",{children:`
                  div[style*="overflowY"]::-webkit-scrollbar {
                    width: 0px;
                    display: none;
                  }
                  div[style*="overflowY"] {
                    -ms-overflow-style: none;
                    scrollbar-width: none;
                  }
                `}),e.jsx(Z,{title:"METRICS PLAYBOOK - DATA GOVERNANCE",children:e.jsxs("div",{style:{padding:s.spacing.md,fontFamily:"Consolas",fontSize:12,lineHeight:1.6},children:[e.jsxs("div",{style:{marginBottom:s.spacing.md},children:[e.jsxs("div",{style:{fontSize:13,fontWeight:600,color:o.accent,marginBottom:s.spacing.sm,fontFamily:"Consolas"},children:[m.blockFull," Total Tables"]}),e.jsx("div",{style:{color:o.foreground,marginLeft:s.spacing.md,fontSize:11,fontFamily:"Consolas"},children:"Total number of tables cataloged across all database engines in the unified governance system."})]}),e.jsxs("div",{style:{marginBottom:s.spacing.md},children:[e.jsxs("div",{style:{fontSize:13,fontWeight:600,color:o.accent,marginBottom:s.spacing.sm,fontFamily:"Consolas"},children:[m.blockFull," Total Size"]}),e.jsx("div",{style:{color:o.foreground,marginLeft:s.spacing.md,fontSize:11,fontFamily:"Consolas"},children:"Combined storage size of all tables across all databases. Includes data and index sizes."})]}),e.jsxs("div",{style:{marginBottom:s.spacing.md},children:[e.jsxs("div",{style:{fontSize:13,fontWeight:600,color:o.accent,marginBottom:s.spacing.sm,fontFamily:"Consolas"},children:[m.blockFull," Total Rows"]}),e.jsx("div",{style:{color:o.foreground,marginLeft:s.spacing.md,fontSize:11,fontFamily:"Consolas"},children:"Total number of rows across all tables in the governance catalog."})]}),e.jsxs("div",{style:{marginBottom:s.spacing.md},children:[e.jsxs("div",{style:{fontSize:13,fontWeight:600,color:o.accent,marginBottom:s.spacing.sm,fontFamily:"Consolas"},children:[m.blockFull," Healthy"]}),e.jsx("div",{style:{color:o.foreground,marginLeft:s.spacing.md,fontSize:11,fontFamily:"Consolas"},children:"Tables with HEALTHY status, indicating optimal performance, good data quality, proper governance controls, and compliance."})]}),e.jsxs("div",{style:{marginBottom:s.spacing.md},children:[e.jsxs("div",{style:{fontSize:13,fontWeight:600,color:o.muted,marginBottom:s.spacing.sm,fontFamily:"Consolas"},children:[m.blockFull," Warning"]}),e.jsx("div",{style:{color:o.foreground,marginLeft:s.spacing.md,fontSize:11,fontFamily:"Consolas"},children:"Tables with WARNING status, indicating potential governance issues such as missing metadata, incomplete documentation, or compliance concerns that should be addressed."})]}),e.jsxs("div",{style:{marginBottom:s.spacing.md},children:[e.jsxs("div",{style:{fontSize:13,fontWeight:600,color:o.foreground,marginBottom:s.spacing.sm,fontFamily:"Consolas"},children:[m.blockFull," Critical"]}),e.jsx("div",{style:{color:o.foreground,marginLeft:s.spacing.md,fontSize:11,fontFamily:"Consolas"},children:"Tables with CRITICAL status, indicating serious governance issues requiring immediate attention such as missing data owners, unclassified sensitive data, or compliance violations."})]}),e.jsxs("div",{style:{marginBottom:s.spacing.md},children:[e.jsxs("div",{style:{fontSize:13,fontWeight:600,color:o.accent,marginBottom:s.spacing.sm,fontFamily:"Consolas"},children:[m.blockFull," Unique Engines"]}),e.jsx("div",{style:{color:o.foreground,marginLeft:s.spacing.md,fontSize:11,fontFamily:"Consolas"},children:"Number of distinct database engines (PostgreSQL, MariaDB, MSSQL, MongoDB, Oracle) being monitored in the unified governance catalog."})]}),e.jsxs("div",{style:{marginTop:s.spacing.md,padding:s.spacing.sm,background:o.backgroundSoft,borderRadius:2,border:`1px solid ${o.border}`},children:[e.jsxs("div",{style:{fontSize:11,fontWeight:600,color:o.muted,marginBottom:s.spacing.xs,fontFamily:"Consolas"},children:[m.blockSemi," Note"]}),e.jsx("div",{style:{fontSize:11,color:o.foreground,fontFamily:"Consolas"},children:"These metrics are calculated in real-time from the data_governance_catalog table and reflect the current state of your unified data governance catalog across all database engines."})]}),e.jsx("div",{style:{marginTop:s.spacing.md,textAlign:"right"},children:e.jsx($,{label:"Close",onClick:()=>X(!1),variant:"ghost"})})]})})]})}),Y==="charts"&&e.jsx(qe,{selectedTable:a?{schema_name:a.schema_name,table_name:a.table_name,inferred_source_engine:a.inferred_source_engine}:null}),Y==="list"&&e.jsx(e.Fragment,{children:M?e.jsx(ve,{children:"Loading tree view..."}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:a?"1fr 500px":"1fr",gap:s.spacing.md,marginTop:s.spacing.md},children:[e.jsx(Pe,{items:x,onItemClick:ge}),a&&e.jsxs(Z,{title:"DETAILS",style:{position:"sticky",top:s.spacing.md,maxHeight:"calc(100vh - 200px)",overflowY:"auto"},children:[e.jsx("style",{children:`
                          div[style*="overflowY"]::-webkit-scrollbar {
                            width: 0px;
                            display: none;
                          }
                          div[style*="overflowY"] {
                            -ms-overflow-style: none;
                            scrollbar-width: none;
                          }
                        `}),e.jsxs("div",{style:{display:"flex",gap:s.spacing.xs,marginBottom:s.spacing.md,borderBottom:`1px solid ${o.border}`,paddingBottom:s.spacing.sm,flexWrap:"wrap"},children:[e.jsx($,{label:"Overview",onClick:()=>h("overview"),variant:t==="overview"?"primary":"ghost"}),e.jsx($,{label:"Ownership",onClick:()=>h("ownership"),variant:t==="ownership"?"primary":"ghost"}),e.jsx($,{label:"Security",onClick:()=>h("security"),variant:t==="security"?"primary":"ghost"}),e.jsx($,{label:"Privacy/GDPR",onClick:()=>h("privacy"),variant:t==="privacy"?"primary":"ghost"}),e.jsx($,{label:"Retention",onClick:()=>h("retention"),variant:t==="retention"?"primary":"ghost"}),e.jsx($,{label:"Legal Hold",onClick:()=>h("legal"),variant:t==="legal"?"primary":"ghost"}),e.jsx($,{label:"Data Quality",onClick:()=>h("quality"),variant:t==="quality"?"primary":"ghost"}),e.jsx($,{label:"Integration",onClick:()=>h("integration"),variant:t==="integration"?"primary":"ghost"}),e.jsx($,{label:"Documentation",onClick:()=>h("documentation"),variant:t==="documentation"?"primary":"ghost"})]}),t==="overview"&&w(a),t==="ownership"&&S(a),t==="security"&&J(a),t==="privacy"&&U(a),t==="retention"&&re(a),t==="legal"&&he(a),t==="quality"&&ie(a),t==="integration"&&le(a),t==="documentation"&&pe(a)]})]}),L.totalPages>1&&e.jsx("div",{style:{marginTop:s.spacing.lg},children:e.jsxs(Ce,{children:[e.jsx(fe,{onClick:()=>P(Math.max(1,i-1)),disabled:i===1,children:"Previous"}),e.jsxs("span",{style:{fontFamily:"Consolas",fontSize:12,color:o.foreground},children:["Page ",L.currentPage," of ",L.totalPages," (",L.total," total)"]}),e.jsx(fe,{onClick:()=>P(Math.min(L.totalPages,i+1)),disabled:i===L.totalPages,children:"Next"})]})})]})})]})]})};export{oo as default};
