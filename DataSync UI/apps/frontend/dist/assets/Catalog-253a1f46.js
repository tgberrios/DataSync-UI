import{m as ge,f as Q,t as f,r as i,j as e,F as N,L as W,S as se,I as ae,B as ce,b as t,e as h,g as H}from"./index-75d7470b.js";import{C as ue}from"./ConnectionStringSelector-c1083be0.js";import{A as G}from"./AsciiPanel-9f053981.js";import{A as U}from"./AsciiButton-446d8430.js";import{u as pe}from"./useTableFilters-0b8dd77f.js";import{e as oe}from"./errorHandler-5ea9ae85.js";import{s as me}from"./validation-24839588.js";import{S as he}from"./SkeletonLoader-530eacc4.js";const xe=ge`
  from {
    opacity: 0;
    transform: translateY(-5px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
`,fe=Q.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  backdrop-filter: blur(5px);
  background: rgba(0, 0, 0, 0.3);
  z-index: 999;
  animation: fadeIn 0.15s ease-in;
`,ye=Q.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
  animation: fadeIn 0.15s ease-in;
`,be=Q.div`
  background: ${f.colors.background.main};
  padding: ${f.spacing.xxl};
  border-radius: ${f.borderRadius.lg};
  min-width: 500px;
  max-width: 700px;
  max-height: 90vh;
  overflow-y: auto;
  font-family: ${f.fonts.primary};
  box-shadow: ${f.shadows.lg};
  animation: slideUp 0.2s ease-out;
  border: 1px solid ${f.colors.border.light};
`,je=Q.div`
  border-bottom: 2px solid ${f.colors.border.dark};
  padding-bottom: ${f.spacing.sm};
  margin-bottom: ${f.spacing.lg};
  font-size: 1.2em;
  font-weight: bold;
  position: relative;
  
  &::after {
    content: '';
    position: absolute;
    bottom: -2px;
    left: 0;
    width: 60px;
    height: 2px;
    background: linear-gradient(90deg, ${f.colors.primary.main}, ${f.colors.primary.dark});
  }
`,ve=Q.div`
  display: flex;
  justify-content: flex-end;
  gap: ${f.spacing.sm};
  margin-top: ${f.spacing.lg};
`;Q.textarea`
  padding: 8px 12px;
  border: 1px solid ${f.colors.border.medium};
  border-radius: ${f.borderRadius.md};
  font-family: ${f.fonts.primary};
  background: ${f.colors.background.main};
  color: ${f.colors.text.primary};
  font-size: 14px;
  width: 100%;
  min-height: 100px;
  resize: vertical;
  
  &:focus {
    outline: none;
    border-color: ${f.colors.primary.main};
    box-shadow: 0 0 0 2px ${f.colors.primary.light}33;
  }
`;const Ce=Q.div`
  margin-top: ${f.spacing.xs};
  padding: ${f.spacing.sm};
  background: ${f.colors.background.secondary};
  border-radius: ${f.borderRadius.sm};
  border-left: 3px solid ${f.colors.primary.main};
  font-family: "Consolas, 'Source Code Pro', monospace";
  font-size: 0.85em;
  color: ${f.colors.text.secondary};
  white-space: pre-wrap;
  word-break: break-all;
`,Se=Q.div`
  color: ${f.colors.status.error.text};
  background: ${f.colors.status.error.bg};
  padding: ${f.spacing.sm};
  border-radius: ${f.borderRadius.sm};
  margin-top: ${f.spacing.sm};
  font-size: 0.9em;
`;Q.div`
  margin-top: 8px;
  padding: 8px 12px;
  border-radius: ${f.borderRadius.sm};
  font-size: 0.9em;
  background-color: ${d=>d.$success?f.colors.status.success.bg:f.colors.status.error.bg};
  color: ${d=>d.$success?f.colors.status.success.text:f.colors.status.error.text};
  animation: ${xe} 0.3s ease-out;
`;const de={MariaDB:"host=localhost;user=myuser;password=mypassword;db=mydatabase;port=3306",MSSQL:"DRIVER={ODBC Driver 17 for SQL Server};SERVER=localhost,1433;DATABASE=mydatabase;UID=myuser;PWD=mypassword",Oracle:"host=localhost;user=myuser;password=mypassword;db=mydatabase;port=1521",PostgreSQL:"host=localhost;user=myuser;password=mypassword;db=mydatabase;port=5432",MongoDB:"mongodb://myuser:mypassword@localhost:27017/mydatabase",DB2:"DRIVER={IBM DB2 ODBC Driver};DATABASE=MYDB;HOSTNAME=localhost;PORT=50000;UID=myuser;PWD=mypassword"},ke={MariaDB:`Format: host=server;user=username;password=password;db=database;port=3306

Example:
host=localhost;user=admin;password=secret123;db=production;port=3306`,MSSQL:`Format: DRIVER={ODBC Driver 17 for SQL Server};SERVER=server,port;DATABASE=database;UID=username;PWD=password

Example:
DRIVER={ODBC Driver 17 for SQL Server};SERVER=sqlserver.example.com,1433;DATABASE=MyDB;UID=sa;PWD=MyPassword123`,Oracle:`Format: host=server;user=username;password=password;db=database;port=1521

Example:
host=oracle.example.com;user=system;password=oracle123;db=ORCL;port=1521`,PostgreSQL:`Format: host=server;user=username;password=password;db=database;port=5432

Example:
host=postgres.example.com;user=postgres;password=postgres123;db=mydb;port=5432`,MongoDB:`Format: mongodb://username:password@host:port/database

For MongoDB Atlas (cloud): mongodb+srv://username:password@cluster.mongodb.net/database

Example:
mongodb://admin:secret123@localhost:27017/mydb
mongodb+srv://admin:secret123@cluster0.xxxxx.mongodb.net/mydb`,DB2:`Format: DRIVER={IBM DB2 ODBC Driver};DATABASE=database;HOSTNAME=hostname;PORT=port;UID=username;PWD=password

Example:
DRIVER={IBM DB2 ODBC Driver};DATABASE=MYDB;HOSTNAME=db2.example.com;PORT=50000;UID=db2admin;PWD=MyPassword123`},Te=(d,r)=>{if(r==="MongoDB"){const o=d.match(/mongodb\+srv:\/\/[^@]+@([^.]+)/);if(o)return o[1];const j=d.match(/mongodb:\/\/[^@]+@([^:]+)/);if(j)return j[1];const A=d.match(/mongodb:\/\/([^:/]+)/);if(A)return A[1]}else{const o=d.split(";");for(const j of o){const[A,b]=j.split("=").map(E=>E.trim());if(A&&b){const E=A.toLowerCase();if(E==="host"||E==="hostname"||E==="server")return r==="MSSQL"&&b.includes(",")?b.split(",")[0].trim():b}}if(r==="PostgreSQL"&&(d.includes("postgresql://")||d.includes("postgres://"))){const j=d.match(/:\/\/(?:[^@]+@)?([^:]+)/);if(j)return j[1]}}return""},we=({onClose:d,onSave:r})=>{const[o,j]=i.useState({schema_name:"",table_name:"",db_engine:"",connection_string:"",active:!0,status:"FULL_LOAD",cluster_name:"",pk_strategy:"CDC",cron_schedule:""}),[A,b]=i.useState(null),[E,v]=i.useState(!1),[B,m]=i.useState(!1),[g,c]=i.useState(null),[w,k]=i.useState([]),[D,F]=i.useState([]),[l,z]=i.useState(!1),[I,X]=i.useState(!1),Y=i.useMemo(()=>o.db_engine&&de[o.db_engine]||"",[o.db_engine]),Z=i.useMemo(()=>o.db_engine&&ke[o.db_engine]||"",[o.db_engine]),M=i.useCallback(()=>{v(!0),setTimeout(()=>{d()},150)},[d]),K=i.useCallback(()=>{if(b(null),!o.schema_name.trim()){b("Schema name is required");return}if(!o.table_name.trim()){b("Table name is required");return}if(!o.db_engine){b("Database engine is required");return}if(!o.connection_string.trim()){b("Connection string is required");return}if(o.db_engine==="MongoDB"){if(!o.connection_string.startsWith("mongodb://")&&!o.connection_string.startsWith("mongodb+srv://")){b("MongoDB connection string must start with mongodb:// or mongodb+srv://");return}}else if(o.db_engine==="MSSQL"){const a=["server","uid","pwd","database"],u=o.connection_string.toLowerCase(),T=a.filter(L=>!u.includes(`${L}=`));if(T.length>0){b(`Connection string must include: ${T.join(", ")}`);return}}else if(o.db_engine==="DB2"){const a=["database","uid","pwd"],u=o.connection_string.toLowerCase(),T=a.filter(L=>!u.includes(`${L}=`));if(T.length>0){b(`Connection string must include: ${T.join(", ")}`);return}}else{const a=["host","user","db"],u=o.connection_string.toLowerCase(),T=a.filter(L=>!u.includes(`${L}=`));if(T.length>0){b(`Connection string must include: ${T.join(", ")}`);return}}r({schema_name:o.schema_name.trim().toLowerCase(),table_name:o.table_name.trim().toLowerCase(),db_engine:o.db_engine,connection_string:o.connection_string.trim(),active:o.active,status:o.status,cluster_name:o.cluster_name.trim()||"",pk_strategy:o.pk_strategy,cron_schedule:o.cron_schedule.trim()||null}),M()},[o,r,M]),ee=i.useCallback(a=>{j(u=>({...u,db_engine:a,connection_string:a&&de[a]||""})),c(null)},[]),J=i.useCallback(async()=>{if(!o.db_engine){c({success:!1,message:"Please select a database engine first"});return}if(!o.connection_string.trim()){c({success:!1,message:"Please enter a connection string"});return}m(!0),c(null);try{const a=localStorage.getItem("authToken"),u=await fetch("/api/test-connection",{method:"POST",headers:{"Content-Type":"application/json",...a&&{Authorization:`Bearer ${a}`}},body:JSON.stringify({db_engine:o.db_engine,connection_string:o.connection_string.trim()})});if(!u.ok){if(u.status===401){c({success:!1,message:"Authentication required. Please log in again."});return}if(u.status===0||u.status>=500){c({success:!1,message:"Server error. Please check if the server is running."});return}}let T;try{T=await u.json()}catch{c({success:!1,message:"Invalid response from server"});return}if(u.ok&&T.success){const L=T.cluster_name||Te(o.connection_string.trim(),o.db_engine);L&&j(V=>({...V,cluster_name:L})),c({success:!0,message:T.message||"Connection successful!",cluster_name:L}),await $()}else c({success:!1,message:T.error||T.message||"Connection failed"})}catch(a){a.name==="TypeError"&&a.message.includes("fetch")?c({success:!1,message:"Network error. Please check if the server is running and try again."}):c({success:!1,message:a.message||"Error testing connection"})}finally{m(!1)}},[o.db_engine,o.connection_string]),$=i.useCallback(async()=>{if(!(!o.db_engine||!o.connection_string.trim())){z(!0),k([]),F([]),j(a=>({...a,schema_name:"",table_name:""}));try{const a=localStorage.getItem("authToken"),u=await fetch("/api/discover-schemas",{method:"POST",headers:{"Content-Type":"application/json",...a&&{Authorization:`Bearer ${a}`}},body:JSON.stringify({db_engine:o.db_engine,connection_string:o.connection_string.trim()})});if(u.ok){const T=await u.json();T.success&&T.schemas&&k(T.schemas)}}catch(a){console.error("Error discovering schemas:",a)}finally{z(!1)}}},[o.db_engine,o.connection_string]),te=i.useCallback(async a=>{if(j(u=>({...u,schema_name:a,table_name:""})),F([]),!(!a||!o.db_engine||!o.connection_string.trim())){X(!0);try{const u=localStorage.getItem("authToken"),T=await fetch("/api/discover-tables",{method:"POST",headers:{"Content-Type":"application/json",...u&&{Authorization:`Bearer ${u}`}},body:JSON.stringify({db_engine:o.db_engine,connection_string:o.connection_string.trim(),schema_name:a})});if(T.ok){const L=await T.json();L.success&&L.tables&&F(L.tables)}}catch(u){console.error("Error discovering tables:",u)}finally{X(!1)}}},[o.db_engine,o.connection_string]);return e.jsxs(e.Fragment,{children:[e.jsx(fe,{style:{animation:E?"fadeOut 0.15s ease-out":"fadeIn 0.15s ease-in"},onClick:M}),e.jsx(ye,{style:{animation:E?"fadeOut 0.15s ease-out":"fadeIn 0.15s ease-in"},children:e.jsxs(be,{onClick:a=>a.stopPropagation(),children:[e.jsx(je,{children:"Add New Table to Catalog"}),e.jsxs(N,{children:[e.jsx(W,{children:"Database Engine *"}),e.jsxs(se,{value:o.db_engine,onChange:a=>ee(a.target.value),children:[e.jsx("option",{value:"",children:"Select Engine"}),e.jsx("option",{value:"MariaDB",children:"MariaDB"}),e.jsx("option",{value:"MSSQL",children:"MSSQL"}),e.jsx("option",{value:"MongoDB",children:"MongoDB"}),e.jsx("option",{value:"Oracle",children:"Oracle"}),e.jsx("option",{value:"PostgreSQL",children:"PostgreSQL"}),e.jsx("option",{value:"DB2",children:"DB2"})]})]}),o.db_engine&&e.jsx(e.Fragment,{children:e.jsxs(N,{children:[e.jsx(W,{children:"Connection String Format"}),e.jsx(Ce,{children:Z})]})}),e.jsx(ue,{value:o.connection_string,onChange:a=>{j(u=>({...u,connection_string:a,schema_name:"",table_name:""})),c(null),k([]),F([])},dbEngine:o.db_engine,label:"Connection String",required:!0,onTestConnection:J,isTesting:B,testResult:g?{success:g.success,message:g.success&&g.cluster_name?`${g.message} Cluster name detected: ${g.cluster_name}`:g.message}:null,placeholder:Y||"Enter connection string..."}),(g==null?void 0:g.success)&&e.jsxs(e.Fragment,{children:[e.jsxs(N,{children:[e.jsx(W,{children:"Schema Name *"}),e.jsxs(se,{value:o.schema_name,onChange:a=>te(a.target.value),disabled:l,children:[e.jsx("option",{value:"",children:l?"Loading schemas...":"Select Schema"}),w.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),o.schema_name&&e.jsxs(N,{children:[e.jsx(W,{children:"Table Name *"}),e.jsxs(se,{value:o.table_name,onChange:a=>j(u=>({...u,table_name:a.target.value})),disabled:I,children:[e.jsx("option",{value:"",children:I?"Loading tables...":"Select Table"}),D.map(a=>e.jsx("option",{value:a,children:a},a))]})]})]}),!(g!=null&&g.success)&&e.jsxs(e.Fragment,{children:[e.jsxs(N,{children:[e.jsx(W,{children:"Schema Name *"}),e.jsx(ae,{type:"text",value:o.schema_name,onChange:a=>j(u=>({...u,schema_name:a.target.value})),placeholder:"e.g., public, dbo, my_schema"})]}),e.jsxs(N,{children:[e.jsx(W,{children:"Table Name *"}),e.jsx(ae,{type:"text",value:o.table_name,onChange:a=>j(u=>({...u,table_name:a.target.value})),placeholder:"e.g., users, products, orders"})]})]}),e.jsxs(N,{children:[e.jsx(W,{children:"Cluster Name"}),e.jsx(ae,{type:"text",value:o.cluster_name,onChange:a=>j(u=>({...u,cluster_name:a.target.value})),placeholder:"Optional: cluster identifier"})]}),e.jsxs(N,{children:[e.jsx(W,{children:"PK Strategy"}),e.jsx(se,{value:o.pk_strategy,disabled:!0,style:{opacity:.6,cursor:"not-allowed"},children:e.jsx("option",{value:"CDC",children:"CDC (Change Data Capture)"})})]}),e.jsxs(N,{children:[e.jsx(W,{children:"Cron Schedule (Optional)"}),e.jsx(ae,{type:"text",value:o.cron_schedule,onChange:a=>j(u=>({...u,cron_schedule:a.target.value})),placeholder:"e.g., 0 */6 * * * (every 6 hours)"}),e.jsxs("div",{style:{marginTop:4,fontSize:11,color:f.colors.text.secondary,fontFamily:"Consolas",lineHeight:1.4},children:["Format: minute hour day month day-of-week",e.jsx("br",{}),'Examples: "0 */6 * * *" (every 6 hours), "0 0 * * *" (daily at midnight), "*/15 * * * *" (every 15 minutes)']})]}),e.jsxs(N,{children:[e.jsx(W,{children:"Status"}),e.jsxs(se,{value:o.status,onChange:a=>j(u=>({...u,status:a.target.value})),children:[e.jsx("option",{value:"FULL_LOAD",children:"FULL_LOAD"}),e.jsx("option",{value:"IN_PROGRESS",children:"IN_PROGRESS"}),e.jsx("option",{value:"LISTENING_CHANGES",children:"LISTENING_CHANGES"}),e.jsx("option",{value:"NO_DATA",children:"NO_DATA"})]})]}),e.jsxs(N,{children:[e.jsx(W,{children:"Active"}),e.jsxs(se,{value:o.active.toString(),onChange:a=>j(u=>({...u,active:a.target.value==="true"})),children:[e.jsx("option",{value:"true",children:"Yes"}),e.jsx("option",{value:"false",children:"No"})]})]}),A&&e.jsx(Se,{children:A}),e.jsxs(ve,{children:[e.jsx(ce,{$variant:"secondary",onClick:M,children:"Cancel"}),e.jsx(ce,{$variant:"primary",onClick:K,children:"Add Table"})]})]})})]})},_e=({entries:d,onEntryClick:r})=>{const[o,j]=i.useState(new Set),A=i.useMemo(()=>{const m=new Map;return d.forEach(g=>{const c=g.schema_name;m.has(c)||m.set(c,{name:c,tables:new Map});const w=m.get(c),k=g.table_name;w.tables.has(k)||w.tables.set(k,[]),w.tables.get(k).push(g)}),Array.from(m.values()).sort((g,c)=>g.name.localeCompare(c.name))},[d]),b=m=>{j(g=>{const c=new Set(g);return c.has(m)?c.delete(m):c.add(m),c})},E=(m,g)=>{if(m===0)return null;const c=[];for(let w=0;w<m-1;w++)c.push(`${h.v}  `);return g?c.push(`${h.bl}${h.h}${h.h} `):c.push(`${h.tRight}${h.h}${h.h} `),e.jsx("span",{style:{color:t.border,marginRight:6,fontFamily:"Consolas",fontSize:11},children:c.join("")})},v=(m,g,c,w)=>{var l;const k=g[0],D=Array.from(((l=A.find(z=>z.name===c))==null?void 0:l.tables.keys())||[]).pop()===m,F=z=>z==="LISTENING_CHANGES"?t.success:z==="IN_PROGRESS"?t.warning:z==="ERROR"?t.danger:t.muted;return e.jsx("div",{style:{padding:"8px 0",paddingLeft:`${w*24+8}px`,cursor:"pointer",borderLeft:`2px solid ${t.border}`,backgroundColor:t.background,margin:"2px 0",transition:"all 0.2s ease",fontFamily:"Consolas",fontSize:12},onClick:()=>r==null?void 0:r(k),onMouseEnter:z=>{z.currentTarget.style.backgroundColor=t.backgroundSoft,z.currentTarget.style.transform="translateX(2px)"},onMouseLeave:z=>{z.currentTarget.style.backgroundColor=t.background,z.currentTarget.style.transform="translateX(0)"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[E(w,D),e.jsx("span",{style:{color:t.accent},children:h.blockSemi}),e.jsx("h3",{style:{fontSize:13,fontWeight:600,margin:0,color:t.foreground,fontFamily:"Consolas"},children:m}),e.jsxs("div",{style:{display:"flex",gap:6,alignItems:"center",marginLeft:"auto",flexWrap:"wrap",fontSize:11},children:[e.jsx("span",{style:{padding:"2px 8px",border:`1px solid ${F(k.status)}`,borderRadius:2,color:F(k.status),fontFamily:"Consolas",fontSize:11},children:k.status}),e.jsx("span",{style:{padding:"2px 8px",border:`1px solid ${k.active?t.success:t.danger}`,borderRadius:2,color:k.active?t.success:t.danger,fontFamily:"Consolas",fontSize:11},children:k.active?"Active":"Inactive"}),e.jsx("span",{style:{padding:"2px 8px",border:`1px solid ${t.border}`,borderRadius:2,color:t.muted,fontFamily:"Consolas",fontSize:11},children:k.db_engine})]})]})},`${c}.${m}`)},B=(m,g)=>{const c=o.has(m.name),k=A.findIndex(D=>D.name===m.name)===A.length-1;return e.jsxs("div",{style:{marginBottom:2},children:[e.jsx("div",{style:{padding:"12px 8px",paddingLeft:`${g*24+8}px`,cursor:"pointer",borderLeft:`3px solid ${t.accent}`,backgroundColor:c?t.accentLight:t.background,margin:"2px 0",transition:"all 0.2s ease",fontFamily:"Consolas",fontSize:13,fontWeight:600},onClick:()=>b(m.name),onMouseEnter:D=>{D.currentTarget.style.backgroundColor=t.accentLight,D.currentTarget.style.transform="translateX(2px)"},onMouseLeave:D=>{D.currentTarget.style.backgroundColor=c?t.accentLight:t.background,D.currentTarget.style.transform="translateX(0)"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[E(g,k),e.jsx("span",{style:{color:t.accent,fontSize:12,fontFamily:"Consolas",display:"inline-block",width:16,textAlign:"center"},children:c?h.arrowDown:h.arrowRight}),e.jsx("span",{style:{color:t.accent},children:h.blockFull}),e.jsx("h2",{style:{fontSize:14,fontWeight:600,margin:0,color:t.accent,fontFamily:"Consolas"},children:m.name}),e.jsx("div",{style:{marginLeft:"auto"},children:e.jsxs("span",{style:{padding:"2px 8px",border:`1px solid ${t.border}`,borderRadius:2,color:t.muted,fontFamily:"Consolas",fontSize:11},children:[m.tables.size," ",m.tables.size===1?"table":"tables"]})})]})}),c&&e.jsx("div",{style:{paddingLeft:`${(g+1)*24+36}px`,animation:"fadeIn 0.3s ease-out"},children:Array.from(m.tables.entries()).map(([D,F])=>v(D,F,m.name,g+1))})]},m.name)};return A.length===0?e.jsx(G,{title:"CATALOG TREE",children:e.jsxs("div",{style:{padding:"60px 40px",textAlign:"center",color:t.muted,fontFamily:"Consolas",fontSize:12},children:[e.jsx("div",{style:{fontSize:48,marginBottom:16,opacity:.5},children:h.blockFull}),e.jsx("div",{style:{fontSize:13,fontWeight:600,marginBottom:8,color:t.foreground},children:"No catalog entries available"}),e.jsx("div",{style:{fontSize:12,opacity:.7,color:t.muted},children:"Entries will appear here once cataloged"})]})}):e.jsxs(G,{title:"CATALOG TREE",children:[e.jsx("div",{style:{maxHeight:800,overflowY:"auto",overflowX:"hidden",padding:"8px 0"},children:A.map((m,g)=>e.jsx("div",{style:{animationDelay:`${g*.05}s`},children:B(m,0)},m.name))}),e.jsx("style",{children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: translateY(-5px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
      `})]})},Ae=({entry:d,tableStructure:r,loadingStructure:o,onClose:j,onSave:A})=>{const[b,E]=i.useState("config"),[v,B]=i.useState(d),[m,g]=i.useState(!1),[c,w]=i.useState(!1),k=i.useCallback(()=>{g(!0),setTimeout(()=>{j()},150)},[j]),D=i.useCallback(()=>{A(v)},[v,A]),F=i.useCallback(async()=>{if(window.confirm(`Are you sure you want to reset CDC for ${d.schema_name}.${d.table_name}?

This will reset last_change_id to 0, causing all CDC changes to be reprocessed.`))try{w(!0),await H.resetCDC(d.schema_name,d.table_name,d.db_engine),alert("CDC reset successfully! The system will reprocess all changes on the next sync cycle.")}catch(l){alert(`Error resetting CDC: ${l.message||"Unknown error"}`)}finally{w(!1)}},[d]);return e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backdropFilter:"blur(5px)",background:"rgba(0, 0, 0, 0.3)",zIndex:999,animation:m?"fadeOut 0.15s ease-out":"fadeIn 0.15s ease-in"},onClick:k}),e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,animation:m?"fadeOut 0.15s ease-out":"fadeIn 0.15s ease-in"},onClick:l=>{l.target===l.currentTarget&&k()},children:e.jsxs("div",{style:{background:t.background,borderRadius:2,boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)",width:"90%",maxWidth:1200,maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column",animation:m?"slideDown 0.15s ease-out":"slideUp 0.2s ease-out",border:`2px solid ${t.border}`},onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{style:{padding:"16px 20px",borderBottom:`2px solid ${t.border}`,display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:t.backgroundSoft},children:[e.jsxs("h2",{style:{margin:0,fontSize:14,fontFamily:"Consolas",fontWeight:600,color:t.foreground,textTransform:"uppercase"},children:[e.jsx("span",{style:{color:t.accent,marginRight:8},children:h.blockFull}),d.schema_name,".",d.table_name]}),e.jsx(U,{label:"Close",onClick:k,variant:"ghost"})]}),e.jsxs("div",{style:{display:"flex",borderBottom:`2px solid ${t.border}`,backgroundColor:t.backgroundSoft},children:[e.jsxs("button",{onClick:()=>E("config"),style:{flex:1,padding:"12px 20px",border:"none",borderBottom:b==="config"?`3px solid ${t.accent}`:"3px solid transparent",backgroundColor:"transparent",color:b==="config"?t.accent:t.muted,fontSize:12,fontFamily:"Consolas",fontWeight:b==="config"?600:400,cursor:"pointer",transition:"all 0.2s ease",textTransform:"uppercase"},onMouseEnter:l=>{b!=="config"&&(l.currentTarget.style.color=t.foreground)},onMouseLeave:l=>{b!=="config"&&(l.currentTarget.style.color=t.muted)},children:[h.v," Configuration"]}),e.jsxs("button",{onClick:()=>E("dataflow"),style:{flex:1,padding:"12px 20px",border:"none",borderBottom:b==="dataflow"?`3px solid ${t.accent}`:"3px solid transparent",backgroundColor:"transparent",color:b==="dataflow"?t.accent:t.muted,fontSize:12,fontFamily:"Consolas",fontWeight:b==="dataflow"?600:400,cursor:"pointer",transition:"all 0.2s ease",textTransform:"uppercase"},onMouseEnter:l=>{b!=="dataflow"&&(l.currentTarget.style.color=t.foreground)},onMouseLeave:l=>{b!=="dataflow"&&(l.currentTarget.style.color=t.muted)},children:[h.v," Data Flow"]})]}),e.jsx("div",{style:{padding:"20px",overflowY:"auto",flex:1,fontFamily:"Consolas",fontSize:12},children:b==="config"?e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:20},children:[e.jsxs("div",{children:[e.jsxs("label",{style:{display:"block",marginBottom:8,fontSize:11,fontFamily:"Consolas",fontWeight:600,color:t.muted,textTransform:"uppercase",letterSpacing:.5},children:[h.v," Table"]}),e.jsxs("div",{style:{padding:"10px 12px",border:`1px solid ${t.border}`,backgroundColor:t.backgroundSoft,color:t.muted,fontSize:12,fontFamily:"Consolas",borderRadius:2},children:[v.schema_name,".",v.table_name]})]}),e.jsxs("div",{children:[e.jsxs("label",{style:{display:"block",marginBottom:8,fontSize:11,fontFamily:"Consolas",fontWeight:600,color:t.muted,textTransform:"uppercase",letterSpacing:.5},children:[h.v," Engine"]}),e.jsx("div",{style:{padding:"10px 12px",border:`1px solid ${t.border}`,backgroundColor:t.backgroundSoft,color:t.muted,fontSize:12,fontFamily:"Consolas",borderRadius:2},children:v.db_engine})]}),e.jsxs("div",{children:[e.jsxs("label",{style:{display:"block",marginBottom:8,fontSize:11,fontFamily:"Consolas",fontWeight:600,color:t.foreground,textTransform:"uppercase",letterSpacing:.5},children:[h.v," Status"]}),e.jsx("input",{type:"text",value:v.status,onChange:l=>B({...v,status:l.target.value}),style:{width:"100%",padding:"10px 12px",border:`1px solid ${t.border}`,borderRadius:2,fontSize:12,fontFamily:"Consolas",backgroundColor:t.background,color:t.foreground,outline:"none",transition:"border-color 0.2s ease"},onFocus:l=>{l.currentTarget.style.borderColor=t.accent,l.currentTarget.style.boxShadow=`0 0 0 2px ${t.accentLight}`},onBlur:l=>{l.currentTarget.style.borderColor=t.border,l.currentTarget.style.boxShadow="none"}})]}),e.jsxs("div",{children:[e.jsxs("label",{style:{display:"block",marginBottom:8,fontSize:11,fontFamily:"Consolas",fontWeight:600,color:t.foreground,textTransform:"uppercase",letterSpacing:.5},children:[h.v," Active"]}),e.jsxs("select",{value:v.active.toString(),onChange:l=>B({...v,active:l.target.value==="true"}),style:{width:"100%",padding:"10px 12px",border:`1px solid ${t.border}`,borderRadius:2,fontSize:12,fontFamily:"Consolas",backgroundColor:t.background,color:t.foreground,cursor:"pointer",outline:"none",transition:"border-color 0.2s ease"},onFocus:l=>{l.currentTarget.style.borderColor=t.accent,l.currentTarget.style.boxShadow=`0 0 0 2px ${t.accentLight}`},onBlur:l=>{l.currentTarget.style.borderColor=t.border,l.currentTarget.style.boxShadow="none"},children:[e.jsx("option",{value:"true",children:"Yes"}),e.jsx("option",{value:"false",children:"No"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{style:{display:"block",marginBottom:8,fontSize:11,fontFamily:"Consolas",fontWeight:600,color:t.foreground,textTransform:"uppercase",letterSpacing:.5},children:[h.v," Cluster"]}),e.jsx("input",{type:"text",value:v.cluster_name||"",onChange:l=>B({...v,cluster_name:l.target.value}),style:{width:"100%",padding:"10px 12px",border:`1px solid ${t.border}`,borderRadius:2,fontSize:12,fontFamily:"Consolas",backgroundColor:t.background,color:t.foreground,outline:"none",transition:"border-color 0.2s ease"},onFocus:l=>{l.currentTarget.style.borderColor=t.accent,l.currentTarget.style.boxShadow=`0 0 0 2px ${t.accentLight}`},onBlur:l=>{l.currentTarget.style.borderColor=t.border,l.currentTarget.style.boxShadow="none"}})]}),e.jsxs("div",{children:[e.jsxs("label",{style:{display:"block",marginBottom:8,fontSize:11,fontFamily:"Consolas",fontWeight:600,color:t.foreground,textTransform:"uppercase",letterSpacing:.5},children:[h.v," Cron Schedule"]}),e.jsx("input",{type:"text",value:v.cron_schedule||"",onChange:l=>B({...v,cron_schedule:l.target.value||null}),placeholder:"e.g., 0 */6 * * *",style:{width:"100%",padding:"10px 12px",border:`1px solid ${t.border}`,borderRadius:2,fontSize:12,fontFamily:"Consolas",backgroundColor:t.background,color:t.foreground,outline:"none",transition:"border-color 0.2s ease"},onFocus:l=>{l.currentTarget.style.borderColor=t.accent,l.currentTarget.style.boxShadow=`0 0 0 2px ${t.accentLight}`},onBlur:l=>{l.currentTarget.style.borderColor=t.border,l.currentTarget.style.boxShadow="none"}}),e.jsx("div",{style:{marginTop:4,fontSize:10,color:t.muted,fontFamily:"Consolas",lineHeight:1.4},children:"Format: minute hour day month day-of-week. Leave empty to disable cron scheduling."})]}),d.pk_strategy==="CDC"&&e.jsxs("div",{style:{padding:"16px",backgroundColor:t.backgroundSoft,border:`1px solid ${t.border}`,borderRadius:2,marginTop:12},children:[e.jsxs("div",{style:{fontSize:11,fontFamily:"Consolas",fontWeight:600,color:t.foreground,marginBottom:12,textTransform:"uppercase"},children:[h.v," CDC Management"]}),e.jsx("div",{style:{fontSize:11,color:t.muted,marginBottom:12,lineHeight:1.5},children:"Reset the CDC change tracking to reprocess all changes from the beginning."}),e.jsxs("button",{onClick:F,disabled:c,style:{border:`1px solid ${t.accent}`,backgroundColor:t.background,color:t.accent,padding:"6px 12px",fontSize:12,fontFamily:"Consolas",cursor:c?"not-allowed":"pointer",display:"inline-flex",alignItems:"center",gap:4,fontWeight:500,borderRadius:2,opacity:c?.5:1,transition:"all 0.2s ease",outline:"none"},children:[e.jsx("span",{children:h.v}),e.jsx("span",{children:c?"Resetting...":"Reset CDC"})]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:10,marginTop:12,paddingTop:20,borderTop:`1px solid ${t.border}`},children:[e.jsx(U,{label:"Cancel",onClick:k,variant:"ghost"}),e.jsx(U,{label:"Save Changes",onClick:()=>{D(),k()},variant:"primary"})]})]}):e.jsx("div",{children:e.jsx(De,{table:d,tableStructure:r,loading:o})})})]})}),e.jsx("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        @keyframes fadeOut {
          from { opacity: 1; }
          to { opacity: 0; }
        }
        @keyframes slideUp {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        @keyframes slideDown {
          from {
            opacity: 1;
            transform: translateY(0);
          }
          to {
            opacity: 0;
            transform: translateY(20px);
          }
        }
      `})]})},De=({table:d,tableStructure:r,loading:o})=>{var K,ee,J,$,te,a,u,T,L,V,R,re;const[j,A]=i.useState(""),[b,E]=i.useState("position"),[v,B]=i.useState({summary:!0,source:!0,target:!0}),[m,g]=i.useState(null),c=s=>{B(C=>({...C,[s]:!C[s]}))},w=i.useMemo(()=>{var s,C;return!((s=r==null?void 0:r.source)!=null&&s.columns)||!((C=r==null?void 0:r.target)!=null&&C.columns)?[]:r.source.columns.map(p=>{const y=r.target.columns.find(x=>x.name.toLowerCase()===p.name.toLowerCase());return{source:p,target:y||null,mapped:!!y,differences:y?{type:p.type!==y.type,nullable:p.nullable!==y.nullable,default:p.default!==y.default}:null}})},[r]),k=i.useMemo(()=>{const s=w,C=s.filter(x=>x.mapped).length,p=s.length-C,y=s.filter(x=>x.mapped&&x.differences&&(x.differences.type||x.differences.nullable||x.differences.default)).length;return{total:s.length,mapped:C,unmapped:p,withDifferences:y}},[w]),D=(s,C)=>{let p=s.filter(y=>y.name.toLowerCase().includes(j.toLowerCase())||y.type.toLowerCase().includes(j.toLowerCase()));return b==="name"?p.sort((y,x)=>y.name.localeCompare(x.name)):b==="type"&&p.sort((y,x)=>y.type.localeCompare(x.type)),p},F=(s,C)=>{var y,x;const p=C?(y=r==null?void 0:r.source)==null?void 0:y.primaryKeys:(x=r==null?void 0:r.target)==null?void 0:x.primaryKeys;return p&&p.includes(s)},l=(s,C)=>{var y,x;const p=C?(y=r==null?void 0:r.source)==null?void 0:y.foreignKeys:(x=r==null?void 0:r.target)==null?void 0:x.foreignKeys;return p&&p.some(_=>_.column===s)},z=(s,C)=>{var y,x;const p=C?(y=r==null?void 0:r.source)==null?void 0:y.indexes:(x=r==null?void 0:r.target)==null?void 0:x.indexes;return p&&p.length>0},I=s=>s.mapped?s.differences&&s.differences.type?t.foreground:s.differences&&(s.differences.nullable||s.differences.default)?t.muted:t.accent:t.foreground,X=()=>{const s=w.map(_=>{var n,S;return{sourceColumn:_.source.name,sourceType:_.source.type,targetColumn:((n=_.target)==null?void 0:n.name)||"NOT MAPPED",targetType:((S=_.target)==null?void 0:S.type)||"N/A",mapped:_.mapped,differences:_.differences}}),C=[["Source Column","Source Type","Target Column","Target Type","Mapped","Differences"].join(","),...s.map(_=>[_.sourceColumn,_.sourceType,_.targetColumn,_.targetType,_.mapped?"Yes":"No",_.differences?JSON.stringify(_.differences):"None"].join(","))].join(`
`),p=new Blob([C],{type:"text/csv"}),y=URL.createObjectURL(p),x=document.createElement("a");x.href=y,x.download=`mapping_${d.schema_name}_${d.table_name}.csv`,x.click(),URL.revokeObjectURL(y)};if(o)return e.jsx("div",{style:{marginTop:20},children:e.jsx(G,{title:"DATA FLOW: SOURCE → TARGET",children:e.jsxs("div",{style:{textAlign:"center",padding:"40px",color:t.muted,fontFamily:"Consolas",fontSize:12},children:[h.blockFull," Loading table structure..."]})})});if(!r)return e.jsx("div",{style:{marginTop:20},children:e.jsx(G,{title:"DATA FLOW: SOURCE → TARGET",children:e.jsxs("div",{style:{textAlign:"center",padding:"40px",color:t.muted,fontFamily:"Consolas",fontSize:12},children:[e.jsx("div",{style:{fontSize:48,marginBottom:16,opacity:.5},children:h.blockFull}),e.jsx("div",{style:{fontSize:13,fontWeight:600,marginBottom:8,color:t.foreground},children:"Table structure not available"}),e.jsx("div",{style:{fontSize:12,opacity:.7},children:"The table may not exist yet or there was an error loading it."})]})})});const Y=D(((K=r.source)==null?void 0:K.columns)||[]),Z=D(((ee=r.target)==null?void 0:ee.columns)||[]),M=k;return e.jsx("div",{style:{marginTop:20},children:e.jsx(G,{title:"DATA FLOW: SOURCE → TARGET",children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:16},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px",backgroundColor:t.backgroundSoft,borderRadius:2,border:`1px solid ${t.border}`},children:[e.jsxs("div",{style:{display:"flex",gap:16,alignItems:"center"},children:[e.jsx("input",{type:"text",placeholder:"Search columns...",value:j,onChange:s=>A(s.target.value),style:{padding:"6px 10px",border:`1px solid ${t.border}`,borderRadius:2,fontSize:11,fontFamily:"Consolas",backgroundColor:t.background,color:t.foreground,outline:"none",width:200}}),e.jsxs("select",{value:b,onChange:s=>E(s.target.value),style:{padding:"6px 10px",border:`1px solid ${t.border}`,borderRadius:2,fontSize:11,fontFamily:"Consolas",backgroundColor:t.background,color:t.foreground,cursor:"pointer",outline:"none"},children:[e.jsx("option",{value:"position",children:"Sort by Position"}),e.jsx("option",{value:"name",children:"Sort by Name"}),e.jsx("option",{value:"type",children:"Sort by Type"})]})]}),e.jsx(U,{label:"Export CSV",onClick:X,variant:"ghost"})]}),e.jsxs("div",{style:{padding:"12px",backgroundColor:t.backgroundSoft,borderRadius:2,border:`1px solid ${t.border}`,cursor:"pointer"},onClick:()=>c("summary"),children:[e.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:e.jsxs("div",{style:{fontSize:12,fontWeight:600,color:t.foreground,fontFamily:"Consolas"},children:[h.v," Summary ",v.summary?"▼":"▶"]})}),v.summary&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{marginTop:12,display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:12},children:[e.jsxs("div",{style:{textAlign:"center",padding:"8px",backgroundColor:t.background,borderRadius:2},children:[e.jsx("div",{style:{fontSize:20,fontWeight:600,color:t.accent},children:M.total}),e.jsx("div",{style:{fontSize:10,color:t.muted},children:"Total Columns"})]}),e.jsxs("div",{style:{textAlign:"center",padding:"8px",backgroundColor:t.background,borderRadius:2},children:[e.jsx("div",{style:{fontSize:20,fontWeight:600,color:t.accent},children:M.mapped}),e.jsx("div",{style:{fontSize:10,color:t.muted},children:"Mapped"})]}),e.jsxs("div",{style:{textAlign:"center",padding:"8px",backgroundColor:t.background,borderRadius:2},children:[e.jsx("div",{style:{fontSize:20,fontWeight:600,color:t.foreground},children:M.unmapped}),e.jsx("div",{style:{fontSize:10,color:t.muted},children:"Unmapped"})]})]}),e.jsxs("div",{style:{marginTop:12,padding:"10px",backgroundColor:t.background,borderRadius:2,border:`1px solid ${t.border}`},children:[e.jsxs("div",{style:{fontSize:11,fontWeight:600,color:t.foreground,marginBottom:8,fontFamily:"Consolas"},children:[h.v," Column Flags Legend"]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:8,fontSize:10,fontFamily:"Consolas"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[e.jsx("span",{style:{fontSize:9,color:t.accent,fontWeight:600},children:"PK"}),e.jsx("span",{style:{color:t.muted},children:"Primary Key"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[e.jsx("span",{style:{fontSize:9,color:t.accent,fontWeight:600},children:"FK"}),e.jsx("span",{style:{color:t.muted},children:"Foreign Key"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[e.jsx("span",{style:{fontSize:9,color:t.accent,fontWeight:600},children:"UQ"}),e.jsx("span",{style:{color:t.muted},children:"Unique"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[e.jsx("span",{style:{fontSize:9,color:t.accent,fontWeight:600},children:"AI"}),e.jsx("span",{style:{color:t.muted},children:"Auto Increment"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[e.jsx("span",{style:{fontSize:9,color:t.accent},children:"I"}),e.jsx("span",{style:{color:t.muted},children:"Indexed"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[e.jsx("span",{style:{color:t.accent},children:"✓"}),e.jsx("span",{style:{color:t.muted},children:"Nullable"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[e.jsx("span",{style:{color:t.foreground},children:"✗"}),e.jsx("span",{style:{color:t.muted},children:"Not Nullable"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[e.jsx("span",{style:{color:t.muted},children:"D"}),e.jsx("span",{style:{color:t.muted},children:"Has Default"})]})]})]})]}),v.summary&&r.syncInfo&&e.jsxs("div",{style:{marginTop:12,padding:"8px",backgroundColor:t.background,borderRadius:2,fontSize:11},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:4},children:[e.jsx("span",{style:{color:t.muted},children:"Last Sync:"}),e.jsx("span",{style:{color:t.foreground},children:r.syncInfo.lastSyncTime?new Date(r.syncInfo.lastSyncTime).toLocaleString():"Never"})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:4},children:[e.jsx("span",{style:{color:t.muted},children:"Status:"}),e.jsx("span",{style:{color:t.accent},children:r.syncInfo.status||"N/A"})]}),((J=r.source)==null?void 0:J.stats)&&e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:4},children:[e.jsx("span",{style:{color:t.muted},children:"Source Rows:"}),e.jsx("span",{style:{color:t.foreground},children:(($=r.source.stats.rowCount)==null?void 0:$.toLocaleString())||0})]}),((te=r.target)==null?void 0:te.stats)&&e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{color:t.muted},children:"Target Rows:"}),e.jsx("span",{style:{color:t.foreground},children:((a=r.target.stats.rowCount)==null?void 0:a.toLocaleString())||0})]})]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:24,justifyContent:"center",minHeight:400},children:[e.jsxs("div",{style:{flex:"0 0 350px",background:t.background,border:`2px solid ${t.accent}`,borderRadius:2,padding:"16px",fontFamily:"Consolas",fontSize:12,maxHeight:600,overflow:"hidden",display:"flex",flexDirection:"column"},children:[e.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingBottom:"8px",borderBottom:`2px solid ${t.border}`,marginBottom:"12px",cursor:"pointer"},onClick:()=>c("source"),children:e.jsxs("div",{children:[e.jsxs("h3",{style:{fontSize:13,fontWeight:600,margin:0,color:t.accent,fontFamily:"Consolas"},children:["Source: ",d.db_engine," ",v.source?"▼":"▶"]}),e.jsxs("div",{style:{fontSize:11,color:t.muted,fontFamily:"Consolas",marginTop:4},children:[d.schema_name,".",d.table_name]}),((u=r.source)==null?void 0:u.stats)&&e.jsxs("div",{style:{fontSize:10,color:t.muted,marginTop:2},children:[((T=r.source.stats.rowCount)==null?void 0:T.toLocaleString())||0," rows • ",r.source.stats.tableSize||"N/A"]})]})}),v.source&&r.source&&r.source.columns?e.jsx("div",{style:{overflowY:"auto",flex:1},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:11,fontFamily:"Consolas"},children:[e.jsx("thead",{style:{background:t.backgroundSoft,position:"sticky",top:0,zIndex:10},children:e.jsxs("tr",{style:{borderBottom:`2px solid ${t.border}`},children:[e.jsx("th",{style:{padding:"6px 4px",textAlign:"left",fontWeight:600,fontSize:10,width:20},children:"#"}),e.jsx("th",{style:{padding:"6px 4px",textAlign:"left",fontWeight:600,fontSize:10,width:"35%"},children:"Name"}),e.jsx("th",{style:{padding:"6px 4px",textAlign:"left",fontWeight:600,fontSize:10},children:"Type"}),e.jsx("th",{style:{padding:"6px 4px",textAlign:"center",fontWeight:600,fontSize:10,width:60},children:"Flags"})]})}),e.jsx("tbody",{children:Y.map((s,C)=>{const p=w.find(O=>O.source.name===s.name),y=F(s.name,!0)||s.isPK,x=l(s.name,!0)||s.isFK,_=z(s.name,!0),n=m===`source-${s.name}`,S=p?I(p):t.accent;return e.jsxs("tr",{style:{borderBottom:`1px solid ${t.border}`,transition:"all 0.2s ease",backgroundColor:n?t.backgroundSoft:t.background,borderLeft:n?`3px solid ${S}`:"3px solid transparent"},onMouseEnter:()=>{g(`source-${s.name}`),p!=null&&p.target&&g(`target-${p.target.name}`)},onMouseLeave:()=>g(null),children:[e.jsx("td",{style:{padding:"4px",color:t.muted,fontSize:10},children:C+1}),e.jsx("td",{style:{padding:"4px",fontWeight:500,color:t.accent},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4},children:[s.name,y&&e.jsx("span",{style:{fontSize:9,color:t.accent,fontWeight:600},children:"PK"}),x&&e.jsx("span",{style:{fontSize:9,color:t.accent,fontWeight:600},children:"FK"}),s.isUnique&&e.jsx("span",{style:{fontSize:9,color:t.accent,fontWeight:600},children:"UQ"}),s.isAutoIncrement&&e.jsx("span",{style:{fontSize:9,color:t.accent,fontWeight:600},children:"AI"})]})}),e.jsx("td",{style:{padding:"4px",color:t.muted,fontSize:10},children:s.type}),e.jsx("td",{style:{padding:"4px",textAlign:"center",fontSize:9},children:e.jsxs("div",{style:{display:"flex",gap:4,justifyContent:"center"},children:[s.nullable?e.jsx("span",{style:{color:t.accent},children:"✓"}):e.jsx("span",{style:{color:t.foreground},children:"✗"}),s.default&&e.jsx("span",{style:{color:t.muted},title:s.default,children:"D"}),_&&e.jsx("span",{style:{color:t.accent},children:"I"})]})})]},s.name)})})]})}):e.jsx("div",{style:{padding:"20px",textAlign:"center",color:t.muted,fontSize:11},children:"Source structure not available"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flex:"0 0 80px",paddingTop:40,position:"relative"},children:[e.jsx("div",{style:{width:60,height:4,background:t.accent,position:"relative"},children:e.jsx("div",{style:{position:"absolute",right:-8,top:-6,width:0,height:0,borderLeft:`12px solid ${t.accent}`,borderTop:"8px solid transparent",borderBottom:"8px solid transparent"}})}),m&&(()=>{const s=Y.find(p=>m===`source-${p.name}`),C=s?w.find(p=>p.source.name===s.name):null;if(C&&C.target){const p=Y.findIndex(x=>x.name===C.source.name),y=Z.findIndex(x=>x.name===C.target.name);if(p>=0&&y>=0){const x=p*28+100,_=y*28+100;return e.jsx("svg",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:5},children:e.jsx("line",{x1:"0",y1:x,x2:"100%",y2:_,stroke:I(C),strokeWidth:"2",strokeDasharray:C.differences&&(C.differences.type||C.differences.nullable)?"5,5":"0"})})}}return null})()]}),e.jsxs("div",{style:{flex:"0 0 350px",background:t.background,border:`2px solid ${t.accent}`,borderRadius:2,padding:"16px",fontFamily:"Consolas",fontSize:12,maxHeight:600,overflow:"hidden",display:"flex",flexDirection:"column"},children:[e.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingBottom:"8px",borderBottom:`2px solid ${t.border}`,marginBottom:"12px",cursor:"pointer"},onClick:()=>c("target"),children:e.jsxs("div",{children:[e.jsxs("h3",{style:{fontSize:13,fontWeight:600,margin:0,color:t.accent,fontFamily:"Consolas"},children:["Target: PostgreSQL ",v.target?"▼":"▶"]}),e.jsxs("div",{style:{fontSize:11,color:t.muted,fontFamily:"Consolas",marginTop:4},children:[((L=r.target)==null?void 0:L.schema)||d.schema_name,".",((V=r.target)==null?void 0:V.table)||d.table_name]}),((R=r.target)==null?void 0:R.stats)&&e.jsxs("div",{style:{fontSize:10,color:t.muted,marginTop:2},children:[((re=r.target.stats.rowCount)==null?void 0:re.toLocaleString())||0," rows • ",r.target.stats.tableSize||"N/A"]})]})}),v.target&&r.target&&r.target.columns?e.jsx("div",{style:{overflowY:"auto",flex:1},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:11,fontFamily:"Consolas"},children:[e.jsx("thead",{style:{background:t.backgroundSoft,position:"sticky",top:0,zIndex:10},children:e.jsxs("tr",{style:{borderBottom:`2px solid ${t.border}`},children:[e.jsx("th",{style:{padding:"6px 4px",textAlign:"left",fontWeight:600,fontSize:10,width:20},children:"#"}),e.jsx("th",{style:{padding:"6px 4px",textAlign:"left",fontWeight:600,fontSize:10,width:"35%"},children:"Name"}),e.jsx("th",{style:{padding:"6px 4px",textAlign:"left",fontWeight:600,fontSize:10},children:"Type"}),e.jsx("th",{style:{padding:"6px 4px",textAlign:"center",fontWeight:600,fontSize:10,width:60},children:"Flags"})]})}),e.jsx("tbody",{children:Z.map((s,C)=>{const p=w.find(O=>{var ne;return((ne=O.target)==null?void 0:ne.name)===s.name}),y=F(s.name,!1),x=l(s.name,!1),_=z(s.name,!1),n=m===`target-${s.name}`,S=p?I(p):t.accent;return e.jsxs("tr",{style:{borderBottom:`1px solid ${t.border}`,transition:"all 0.2s ease",backgroundColor:n?t.backgroundSoft:t.background,borderLeft:n?`3px solid ${S}`:"3px solid transparent"},onMouseEnter:()=>{g(`target-${s.name}`),p!=null&&p.source&&g(`source-${p.source.name}`)},onMouseLeave:()=>g(null),children:[e.jsx("td",{style:{padding:"4px",color:t.muted,fontSize:10},children:C+1}),e.jsx("td",{style:{padding:"4px",fontWeight:500,color:t.accent},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4},children:[s.name,y&&e.jsx("span",{style:{fontSize:9,color:t.accent,fontWeight:600},children:"PK"}),x&&e.jsx("span",{style:{fontSize:9,color:t.accent,fontWeight:600},children:"FK"})]})}),e.jsx("td",{style:{padding:"4px",color:t.muted,fontSize:10},children:s.type}),e.jsx("td",{style:{padding:"4px",textAlign:"center",fontSize:9},children:e.jsxs("div",{style:{display:"flex",gap:4,justifyContent:"center"},children:[s.nullable?e.jsx("span",{style:{color:t.accent},children:"✓"}):e.jsx("span",{style:{color:t.foreground},children:"✗"}),s.default&&e.jsx("span",{style:{color:t.muted},title:s.default,children:"D"}),_&&e.jsx("span",{style:{color:t.accent},children:"I"})]})})]},s.name)})})]})}):e.jsx("div",{style:{padding:"20px",textAlign:"center",color:t.muted,fontSize:11},children:"Target structure not available"})]})]})]})})})},Me=()=>{const{filters:d,setFilter:r,clearFilters:o}=pe({engine:"",status:"",active:""}),[j,A]=i.useState("active"),[b,E]=i.useState("desc"),[v,B]=i.useState(""),[m,g]=i.useState(""),[c,w]=i.useState([]),[k,D]=i.useState([]),[F,l]=i.useState([]),[z,I]=i.useState(null),[X,Y]=i.useState(null),[Z,M]=i.useState(!1),[K,ee]=i.useState([]),[J,$]=i.useState(!0),[te,a]=i.useState(null),[u,T]=i.useState(!1),[L,V]=i.useState(!1),R=i.useRef(!0),re=i.useCallback(async()=>{try{const[n,S,O]=await Promise.all([H.getSchemas(),H.getEngines(),H.getStatuses()]);R.current&&(w(n),D(S),l(O))}catch(n){console.error("Error loading filter options:",n)}},[]),s=i.useCallback(async()=>{if(!R.current)return;const n=Date.now(),S=300;try{$(!0),I(null);const O=me(m,100),ne={page:1,limit:1e4,engine:d.engine,status:d.status,active:d.active,search:O,sort_field:j,sort_direction:b},q=await H.getCatalogEntries(ne),ie=Date.now()-n,P=Math.max(0,S-ie);await new Promise(le=>setTimeout(le,P)),R.current&&ee(q.data||[])}catch(O){R.current&&I(oe(O))}finally{R.current&&$(!1)}},[d.engine,d.status,d.active,m,j,b]),C=i.useCallback(async n=>{try{$(!0),I(null),await H.createEntry(n),await s(),M(!1),alert(`Table "${n.schema_name}.${n.table_name}" added successfully.`)}catch(S){I(oe(S))}finally{$(!1)}},[s]),p=i.useCallback(async n=>{try{$(!0),await H.updateEntry(n),await s(),Y(null)}catch(S){I(oe(S))}finally{$(!1)}},[s]);i.useCallback(async n=>{if(confirm(`Are you sure you want to mark table "${n.schema_name}.${n.table_name}" as SKIP?

This will:
- Set status to 'SKIP'
- Set active to false (table will not be processed)
- Reset offset to 0

This action CANNOT be undone.`))try{$(!0),await H.skipTable(n.schema_name,n.table_name,n.db_engine),await s(),alert(`Table "${n.schema_name}.${n.table_name}" marked as SKIP successfully.`)}catch(S){I(oe(S))}finally{$(!1)}},[s]);const y=i.useCallback(async n=>{if(!(!n||n==="")){if(!confirm(`Are you sure you want to deactivate ALL tables in schema "${n}"?

This will change status to 'SKIPPED' and reset offsets to 0.

This action CANNOT be undone.`)){const S=document.querySelector("select[data-schema-action]");S&&(S.value="");return}try{$(!0);const S=await H.deactivateSchema(n);await s(),alert(`Schema "${n}" deactivated successfully.
${S.affectedRows} tables affected.`)}catch(S){I(oe(S))}finally{$(!1);const S=document.querySelector("select[data-schema-action]");S&&(S.value="")}}},[s]),x=i.useCallback(async n=>{Y(n),T(!0),a(null);try{const S=await H.getTableStructure(n.schema_name,n.table_name,n.db_engine).catch(()=>null);R.current&&a(S)}catch(S){R.current&&I(oe(S))}finally{R.current&&T(!1)}},[]),_=i.useCallback(()=>{const n=["Schema","Table","Engine","Status","Active","Strategy","Cluster"],S=K.map(P=>[P.schema_name,P.table_name,P.db_engine,P.status,P.active?"Yes":"No",P.pk_strategy||"OFFSET",P.cluster_name||""]),O=[n.join(","),...S.map(P=>P.map(le=>`"${String(le).replace(/"/g,'""')}"`).join(","))].join(`
`),ne=new Blob([O],{type:"text/csv;charset=utf-8;"}),q=document.createElement("a"),ie=URL.createObjectURL(ne);q.setAttribute("href",ie),q.setAttribute("download",`catalog_export_${new Date().toISOString().split("T")[0]}.csv`),q.style.visibility="hidden",document.body.appendChild(q),q.click(),document.body.removeChild(q)},[K]);return i.useEffect(()=>{const n=setTimeout(()=>{g(v)},500);return()=>clearTimeout(n)},[v]),i.useEffect(()=>(R.current=!0,re(),()=>{R.current=!1}),[re]),i.useEffect(()=>{s()},[s]),i.useEffect(()=>{const n=setInterval(()=>{R.current&&s()},3e4);return()=>clearInterval(n)},[s]),J&&K.length===0?e.jsx(he,{variant:"table"}):e.jsxs("div",{style:{padding:"20px",fontFamily:"Consolas",fontSize:12},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[e.jsxs("h1",{style:{fontSize:14,fontWeight:600,margin:0,color:t.foreground,textTransform:"uppercase",fontFamily:"Consolas"},children:[e.jsx("span",{style:{color:t.accent,marginRight:8},children:h.blockFull}),"DATALAKE CATALOG MANAGER"]}),e.jsx(U,{label:"Catalog Info",onClick:()=>V(!0),variant:"ghost"})]}),z&&e.jsx("div",{style:{marginBottom:20},children:e.jsx(G,{title:"ERROR",children:e.jsx("div",{style:{padding:"12px",color:t.danger,fontSize:12,fontFamily:"Consolas"},children:z})})}),e.jsx(G,{title:"SEARCH",children:e.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",padding:"8px 0"},children:[e.jsx("input",{type:"text",placeholder:"Search by schema name, table name, or cluster name...",value:v,onChange:n=>B(n.target.value),onKeyPress:n=>{n.key==="Enter"&&g(v)},style:{flex:1,padding:"6px 10px",border:`1px solid ${t.border}`,borderRadius:2,fontSize:12,fontFamily:"Consolas",backgroundColor:t.background,color:t.foreground,outline:"none"},onFocus:n=>{n.currentTarget.style.borderColor=t.accent},onBlur:n=>{n.currentTarget.style.borderColor=t.border}}),e.jsx(U,{label:"Search",onClick:()=>{g(v)},variant:"primary"}),(m||v)&&e.jsx(U,{label:"Clear",onClick:()=>{g(""),B("")},variant:"ghost"})]})}),e.jsx(G,{title:"FILTERS",children:e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:12,padding:"8px 0"},children:[e.jsxs("select",{value:d.engine,onChange:n=>{r("engine",n.target.value)},style:{padding:"6px 10px",border:`1px solid ${t.border}`,borderRadius:2,fontSize:12,fontFamily:"Consolas",backgroundColor:t.background,color:t.foreground,cursor:"pointer",outline:"none"},onFocus:n=>{n.currentTarget.style.borderColor=t.accent},onBlur:n=>{n.currentTarget.style.borderColor=t.border},children:[e.jsxs("option",{value:"",children:["All Engines (",k.length,")"]}),k.map(n=>e.jsx("option",{value:n,children:n},n))]}),e.jsxs("select",{value:d.status,onChange:n=>{r("status",n.target.value)},style:{padding:"6px 10px",border:`1px solid ${t.border}`,borderRadius:2,fontSize:12,fontFamily:"Consolas",backgroundColor:t.background,color:t.foreground,cursor:"pointer",outline:"none"},onFocus:n=>{n.currentTarget.style.borderColor=t.accent},onBlur:n=>{n.currentTarget.style.borderColor=t.border},children:[e.jsxs("option",{value:"",children:["All Status (",F.length,")"]}),F.map(n=>e.jsx("option",{value:n,children:n},n))]}),e.jsxs("select",{value:d.active,onChange:n=>{r("active",n.target.value)},style:{padding:"6px 10px",border:`1px solid ${t.border}`,borderRadius:2,fontSize:12,fontFamily:"Consolas",backgroundColor:t.background,color:t.foreground,cursor:"pointer",outline:"none"},onFocus:n=>{n.currentTarget.style.borderColor=t.accent},onBlur:n=>{n.currentTarget.style.borderColor=t.border},children:[e.jsx("option",{value:"",children:"All States"}),e.jsx("option",{value:"true",children:"Active"}),e.jsx("option",{value:"false",children:"Inactive"})]}),e.jsx(U,{label:"Reset All",onClick:()=>{o(),g(""),B("")},variant:"ghost"}),e.jsxs("select",{defaultValue:"","data-schema-action":!0,onChange:n=>y(n.target.value),style:{padding:"6px 10px",border:`1px solid ${t.accent}`,borderRadius:2,fontSize:12,fontFamily:"Consolas",backgroundColor:t.accentLight,color:t.accent,cursor:"pointer",outline:"none",fontWeight:600},onFocus:n=>{n.currentTarget.style.borderColor=t.accent},onBlur:n=>{n.currentTarget.style.borderColor=t.accent},children:[e.jsx("option",{value:"",children:"Deactivate Schema"}),c.map(n=>e.jsxs("option",{value:n,children:["Deactivate ",n]},n))]})]})}),e.jsx(G,{title:"ACTIONS",children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0"},children:[e.jsxs("div",{style:{fontSize:12,fontFamily:"Consolas",color:t.muted},children:[h.v," Total: ",K.length," entries"]}),e.jsxs("div",{style:{display:"flex",gap:8},children:[e.jsx(U,{label:"Add Table",onClick:()=>M(!0),variant:"primary"}),e.jsx(U,{label:"Export CSV",onClick:_,variant:"ghost"})]})]})}),J?e.jsx("div",{style:{marginTop:20},children:e.jsx(G,{title:"LOADING",children:e.jsxs("div",{style:{padding:"40px",textAlign:"center",fontSize:12,fontFamily:"Consolas",color:t.muted},children:[h.blockFull," Loading tree view..."]})})}):e.jsx("div",{style:{marginTop:20},children:e.jsx(_e,{entries:K,onEntryClick:x})}),X&&e.jsx(Ae,{entry:X,tableStructure:te,loadingStructure:u,onClose:()=>Y(null),onSave:p}),Z&&e.jsx(we,{onClose:()=>M(!1),onSave:C}),L&&e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>V(!1),children:e.jsx("div",{style:{width:"90%",maxWidth:1e3,maxHeight:"90vh",overflowY:"auto"},onClick:n=>n.stopPropagation(),children:e.jsx(G,{title:"CATALOG PLAYBOOK",children:e.jsxs("div",{style:{padding:16,fontFamily:"Consolas",fontSize:12,lineHeight:1.6},children:[e.jsxs("div",{style:{marginBottom:24},children:[e.jsxs("div",{style:{fontSize:14,fontWeight:600,color:t.accent,marginBottom:12},children:[h.blockFull," OVERVIEW"]}),e.jsx("div",{style:{color:t.foreground,marginLeft:16},children:"The DataLake Catalog Manager tracks and synchronizes tables from multiple database engines to PostgreSQL. It manages the full lifecycle of data synchronization, from initial full loads to continuous change data capture (CDC)."})]}),e.jsxs("div",{style:{marginBottom:24},children:[e.jsxs("div",{style:{fontSize:14,fontWeight:600,color:t.accent,marginBottom:12},children:[h.blockFull," SUPPORTED DATABASE ENGINES"]}),e.jsxs("div",{style:{color:t.foreground,marginLeft:16},children:[e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("span",{style:{color:t.muted},children:"├─"})," ",e.jsx("strong",{children:"PostgreSQL:"})," Native PostgreSQL to PostgreSQL sync"]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("span",{style:{color:t.muted},children:"├─"})," ",e.jsx("strong",{children:"MariaDB:"})," MySQL-compatible database sync"]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("span",{style:{color:t.muted},children:"├─"})," ",e.jsx("strong",{children:"MSSQL:"})," Microsoft SQL Server sync"]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("span",{style:{color:t.muted},children:"├─"})," ",e.jsx("strong",{children:"MongoDB:"})," NoSQL document database sync"]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("span",{style:{color:t.muted},children:"├─"})," ",e.jsx("strong",{children:"Oracle:"})," Oracle Database sync"]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("span",{style:{color:t.muted},children:"└─"})," ",e.jsx("strong",{children:"DB2:"})," IBM DB2 database sync"]})]})]}),e.jsxs("div",{style:{marginBottom:24},children:[e.jsxs("div",{style:{fontSize:14,fontWeight:600,color:t.accent,marginBottom:12},children:[h.blockFull," SYNCHRONIZATION STATUSES"]}),e.jsxs("div",{style:{color:t.foreground,marginLeft:16},children:[e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("span",{style:{color:t.warning},children:h.blockFull})," ",e.jsx("strong",{children:"FULL_LOAD:"})," Performing initial complete table synchronization"]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("span",{style:{color:t.success},children:h.blockFull})," ",e.jsx("strong",{children:"SYNC:"})," Table is in normal synchronization mode"]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("span",{style:{color:t.accent},children:h.blockFull})," ",e.jsx("strong",{children:"IN_PROGRESS:"})," Synchronization operation currently running"]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("span",{style:{color:t.success},children:h.blockFull})," ",e.jsx("strong",{children:"LISTENING_CHANGES:"})," Actively monitoring for CDC changes"]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("span",{style:{color:t.warning},children:h.blockFull})," ",e.jsx("strong",{children:"RESET:"})," Table synchronization is being reset"]})]})]}),e.jsxs("div",{style:{marginBottom:24},children:[e.jsxs("div",{style:{fontSize:14,fontWeight:600,color:t.accent,marginBottom:12},children:[h.blockFull," PRIMARY KEY STRATEGIES"]}),e.jsxs("div",{style:{color:t.foreground,marginLeft:16},children:[e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("span",{style:{color:t.muted},children:"├─"})," ",e.jsx("strong",{children:"CDC:"})," Change Data Capture - tracks changes using change log tables (default and recommended)"]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("span",{style:{color:t.muted},children:"├─"})," ",e.jsx("strong",{children:"OFFSET:"})," Legacy strategy - automatically converted to CDC"]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("span",{style:{color:t.muted},children:"└─"})," ",e.jsx("strong",{children:"PK:"})," Legacy strategy - automatically converted to CDC"]})]}),e.jsx("div",{style:{color:t.muted,marginLeft:16,marginTop:8,fontSize:11,fontStyle:"italic"},children:"CDC uses change log tables (e.g., datasync_metadata.ds_change_log) to track INSERT, UPDATE, and DELETE operations, enabling efficient incremental synchronization without full table scans."})]}),e.jsxs("div",{style:{marginBottom:24},children:[e.jsxs("div",{style:{fontSize:14,fontWeight:600,color:t.accent,marginBottom:12},children:[h.blockFull," SYNCHRONIZATION PROCESS"]}),e.jsxs("div",{style:{color:t.foreground,marginLeft:16},children:[e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("span",{style:{color:t.muted},children:"├─"})," ",e.jsx("strong",{children:"Initial Load:"})," FULL_LOAD status performs complete table copy"]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("span",{style:{color:t.muted},children:"├─"})," ",e.jsx("strong",{children:"CDC Setup:"})," System creates change log tables if needed"]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("span",{style:{color:t.muted},children:"├─"})," ",e.jsx("strong",{children:"Incremental Sync:"})," LISTENING_CHANGES monitors change logs for updates"]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("span",{style:{color:t.muted},children:"└─"})," ",e.jsx("strong",{children:"Data Transformation:"})," Values are cleaned and normalized for PostgreSQL compatibility"]})]})]}),e.jsxs("div",{style:{marginTop:16,padding:12,background:t.backgroundSoft,borderRadius:2,border:`1px solid ${t.border}`},children:[e.jsxs("div",{style:{fontSize:11,fontWeight:600,color:t.muted,marginBottom:4},children:[h.blockSemi," Best Practices"]}),e.jsxs("div",{style:{fontSize:11,color:t.foreground},children:["• Use CDC strategy for efficient incremental synchronization",e.jsx("br",{}),"• Monitor LISTENING_CHANGES status to ensure CDC is active",e.jsx("br",{}),"• Review table structures before enabling synchronization",e.jsx("br",{}),"• Use schema-level operations for bulk management",e.jsx("br",{}),"• Monitor FULL_LOAD progress for large tables",e.jsx("br",{}),"• Reset tables (RESET status) when schema changes occur",e.jsx("br",{}),"• Export catalog data for documentation and auditing"]})]}),e.jsx("div",{style:{marginTop:16,textAlign:"right"},children:e.jsx(U,{label:"Close",onClick:()=>V(!1),variant:"ghost"})})]})})})})]})};export{Me as default};
