import{m as I,f as M,b as o,r as a,j as e,e as h,R as b,o as q}from"./index-f6ac47b8.js";import{u as Y}from"./useTableFilters-7bb371e7.js";import{e as H}from"./errorHandler-5ea9ae85.js";import{s as Q}from"./validation-24839588.js";import{A as B}from"./AsciiPanel-5614714e.js";import{A as v}from"./AsciiButton-4907e65e.js";import{L as K}from"./LineageCharts-4b4390a2.js";import{S as X}from"./SkeletonLoader-792007e7.js";const Z=I`
  from {
    opacity: 0;
    transform: translateY(-5px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
`;I`
  from {
    max-height: 0;
    opacity: 0;
  }
  to {
    max-height: 1000px;
    opacity: 1;
  }
`;I`
  from {
    max-height: 1000px;
    opacity: 1;
  }
  to {
    max-height: 0;
    opacity: 0;
  }
`;const D=M.div`
  font-family: Consolas;
  font-size: 12px;
  background: ${o.background};
  border: 1px solid ${o.border};
  border-radius: 2px;
  padding: 16px;
  max-height: 800px;
  overflow-y: auto;
  overflow-x: hidden;
  position: relative;
  
  &::-webkit-scrollbar {
    width: 8px;
  }
  
  &::-webkit-scrollbar-track {
    background: ${o.backgroundSoft};
    border-radius: 2px;
  }
  
  &::-webkit-scrollbar-thumb {
    background: ${o.border};
    border-radius: 2px;
    transition: background 0.2s ease;
    
    &:hover {
      background: ${o.accent};
    }
  }
`,N=M.div`
  user-select: none;
  animation: ${Z} 0.3s ease-out;
  margin-bottom: 2px;
`,y=i=>{if(i==null)return o.muted;const m=Number(i);return isNaN(m)?o.muted:m>=.8?o.success:m>=.5?o.warning:o.danger},J=({edges:i,onEdgeClick:m})=>{const[w,S]=a.useState(new Set),[C,l]=a.useState(new Set),j=a.useMemo(()=>{const t=new Map;return i.forEach(r=>{const s=`${r.object_name}::${r.object_type}`;t.has(s)||t.set(s,{name:r.object_name||"Unknown",type:r.object_type||"Unknown",relationships:[]}),t.get(s).relationships.push(r)}),Array.from(t.values()).sort((r,s)=>r.name.localeCompare(s.name))},[i]),W=t=>{S(r=>{const s=new Set(r);return s.has(t)?s.delete(t):s.add(t),s})},z=t=>{l(r=>{const s=new Set(r);return s.has(t)?s.delete(t):s.add(t),s})},_=t=>{if(t==null)return"N/A";const r=Number(t);return isNaN(r)?"N/A":`${(r*100).toFixed(1)}%`},k=(t,r)=>{if(t===0)return null;const s=[];for(let g=0;g<t-1;g++)s.push("│  ");return s.push(r?"└─ ":"├─ "),e.jsx("span",{style:{color:o.muted,marginRight:6,fontFamily:"Consolas",fontSize:12},children:s.join("")})},F=(t,r,s)=>{const g=C.has(t.id);return e.jsxs(N,{children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",padding:r===0?"8px":"6px 8px",paddingLeft:`${r*24+8}px`,cursor:"pointer",borderRadius:2,transition:"all 0.2s ease",margin:"2px 0",fontFamily:"Consolas",fontSize:12,backgroundColor:"transparent",border:"1px solid transparent"},onClick:()=>{z(t.id),m==null||m(t)},onMouseEnter:d=>{d.currentTarget.style.backgroundColor=o.backgroundSoft,d.currentTarget.style.transform="translateX(4px)",d.currentTarget.style.borderColor=o.accent},onMouseLeave:d=>{d.currentTarget.style.backgroundColor="transparent",d.currentTarget.style.transform="translateX(0)",d.currentTarget.style.borderColor="transparent"},children:[k(r,s),e.jsx("span",{style:{marginRight:"8px",color:o.muted,fontFamily:"Consolas"},children:h.blockFull}),e.jsx("span",{style:{fontWeight:400,color:o.foreground,fontSize:12,fontFamily:"Consolas",flex:1},children:t.target_object_name||"Unknown"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginLeft:"auto",flexWrap:"wrap"},children:[e.jsx("span",{style:{padding:"2px 8px",borderRadius:2,fontSize:11,fontFamily:"Consolas",backgroundColor:o.backgroundSoft,color:o.foreground,border:`1px solid ${o.border}`},children:t.target_object_type||"N/A"}),t.target_column_name&&e.jsxs("span",{style:{padding:"2px 8px",borderRadius:2,fontSize:11,fontFamily:"Consolas",backgroundColor:o.backgroundSoft,color:o.foreground,border:`1px solid ${o.border}`},children:["Column: ",t.target_column_name]})]})]}),e.jsx("div",{style:{overflow:"hidden",maxHeight:g?"1000px":"0",transition:"max-height 0.3s ease-out",paddingLeft:`${r*24+36}px`},children:g&&e.jsxs("div",{style:{padding:8,margin:"4px 0",background:o.background,borderRadius:2,border:`1px solid ${o.border}`,fontSize:11,fontFamily:"Consolas"},children:[e.jsxs("div",{style:{marginBottom:4,fontFamily:"Consolas"},children:[e.jsx("strong",{style:{color:o.foreground},children:"Server:"})," ",e.jsx("span",{style:{color:o.muted},children:t.server_name||"N/A"})]}),t.schema_name&&e.jsxs("div",{style:{marginBottom:4,fontFamily:"Consolas"},children:[e.jsx("strong",{style:{color:o.foreground},children:"Schema:"})," ",e.jsx("span",{style:{color:o.muted},children:t.schema_name})]}),e.jsxs("div",{style:{marginBottom:4,fontFamily:"Consolas"},children:[e.jsx("strong",{style:{color:o.foreground},children:"Confidence:"})," ",e.jsx("span",{style:{padding:"2px 8px",borderRadius:2,fontSize:11,fontFamily:"Consolas",backgroundColor:y(t.confidence_score)+"20",color:y(t.confidence_score),border:`1px solid ${y(t.confidence_score)}`},children:_(t.confidence_score)})]}),t.discovery_method&&e.jsxs("div",{style:{fontFamily:"Consolas"},children:[e.jsx("strong",{style:{color:o.foreground},children:"Method:"})," ",e.jsx("span",{style:{color:o.muted},children:t.discovery_method})]})]})})]},t.id)},L=(t,r,s)=>e.jsxs(N,{children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"6px 8px",paddingLeft:`${r*24+8}px`,borderRadius:2,transition:"all 0.2s ease",margin:"2px 0",fontFamily:"Consolas",fontSize:12,backgroundColor:o.background,border:"1px solid transparent"},children:[k(r,!1),e.jsx("span",{style:{marginRight:"8px",color:o.accent,fontFamily:"Consolas",fontSize:12},children:h.arrowRight}),e.jsx("span",{style:{fontWeight:500,color:o.muted,fontSize:12,fontFamily:"Consolas",flex:1},children:t.relationship_type||"Unknown"}),e.jsx("div",{style:{display:"flex",alignItems:"center",gap:8,marginLeft:"auto"},children:e.jsx("span",{style:{padding:"2px 8px",borderRadius:2,fontSize:11,fontFamily:"Consolas",backgroundColor:y(t.confidence_score)+"20",color:y(t.confidence_score),border:`1px solid ${y(t.confidence_score)}`},children:_(t.confidence_score)})})]}),F(t,r+1,s)]},`rel-${t.id}`),E=(t,r,s)=>{const g=`${t.name}::${t.type}`,d=w.has(g);return e.jsxs(N,{children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",padding:r===0?"8px":"6px 8px",paddingLeft:`${r*24+8}px`,cursor:"pointer",borderRadius:2,transition:"all 0.2s ease",margin:"2px 0",fontFamily:"Consolas",fontSize:12,backgroundColor:"transparent",border:"1px solid transparent",borderLeft:`3px solid ${o.accent}`},onClick:()=>W(g),onMouseEnter:f=>{f.currentTarget.style.backgroundColor=o.backgroundSoft,f.currentTarget.style.transform="translateX(4px)",f.currentTarget.style.borderColor=o.accent},onMouseLeave:f=>{f.currentTarget.style.backgroundColor="transparent",f.currentTarget.style.transform="translateX(0)",f.currentTarget.style.borderColor="transparent"},children:[k(r,s),e.jsx("div",{style:{width:16,height:16,display:"flex",alignItems:"center",justifyContent:"center",marginRight:8,borderRadius:2,background:d?o.accent:o.backgroundSoft,color:d?"#ffffff":o.accent,fontSize:10,fontWeight:"bold",fontFamily:"Consolas",flexShrink:0},children:d?h.arrowDown:h.arrowRight}),e.jsx("span",{style:{marginRight:"8px",color:o.accent,fontFamily:"Consolas"},children:h.blockFull}),e.jsx("span",{style:{fontWeight:600,color:o.accent,fontSize:13,fontFamily:"Consolas",flex:1},children:t.name}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginLeft:"auto",flexWrap:"wrap"},children:[e.jsx("span",{style:{padding:"2px 8px",borderRadius:2,fontSize:11,fontFamily:"Consolas",backgroundColor:o.backgroundSoft,color:o.foreground,border:`1px solid ${o.border}`},children:t.type}),e.jsxs("span",{style:{padding:"2px 8px",borderRadius:2,fontSize:11,fontWeight:600,fontFamily:"Consolas",backgroundColor:o.accent,color:"#ffffff",border:`1px solid ${o.accent}`},children:[t.relationships.length," ",t.relationships.length===1?"relationship":"relationships"]})]})]}),e.jsx("div",{style:{overflow:"hidden",maxHeight:d?"10000px":"0",transition:"max-height 0.3s ease-out",paddingLeft:`${r*24+36}px`},children:d&&t.relationships.map((f,T)=>L(f,r+1,T===t.relationships.length-1))})]},g)};return j.length===0?e.jsx(D,{children:e.jsxs("div",{style:{padding:"60px 40px",textAlign:"center",color:o.muted,fontFamily:"Consolas"},children:[e.jsx("div",{style:{fontSize:48,marginBottom:16,fontFamily:"Consolas",opacity:.5},children:h.arrowRight}),e.jsx("div",{style:{fontSize:13,fontFamily:"Consolas",fontWeight:600,marginBottom:8,color:o.foreground},children:"No lineage data available"}),e.jsx("div",{style:{fontSize:12,fontFamily:"Consolas",opacity:.7,color:o.muted},children:"Lineage relationships will appear here once extracted."})]})}):e.jsx(D,{children:j.map((t,r)=>E(t,0,r===j.length-1))})},le=()=>{const{filters:i,setFilter:m,clearFilters:w}=Y({server_name:"",schema_name:"",relationship_type:"",search:""}),[S,C]=a.useState(null),[l,j]=a.useState({}),[W,z]=a.useState(null),[_,k]=a.useState([]),[F,L]=a.useState([]),[E,t]=a.useState([]),[r,s]=a.useState(!0),[g,d]=a.useState(!1),[f,T]=a.useState("list"),p=a.useRef(!0),O=a.useCallback(async()=>{if(p.current)try{const n=await b.getOracleMetrics().catch(c=>{throw console.error("Oracle getOracleMetrics error:",c),c});p.current&&j(n||{})}catch(n){console.error("Oracle fetchMetrics error:",n)}},[]),$=a.useCallback(async()=>{if(!p.current)return;const n=Date.now(),c=300;try{s(!0),C(null);const x=Q(i.search,100),A=await b.getOracleLineage({page:1,limit:1e4,server_name:i.server_name,schema_name:i.schema_name,relationship_type:i.relationship_type,search:x}),G=Date.now()-n,U=Math.max(0,c-G);await new Promise(V=>setTimeout(V,U)),p.current&&t(A.data||[])}catch(x){p.current&&C(H(x))}finally{p.current&&s(!1)}},[i.server_name,i.schema_name,i.relationship_type,i.search]);a.useEffect(()=>(p.current=!0,O(),$(),()=>{p.current=!1}),[$,O]),a.useEffect(()=>{(async()=>{if(i.server_name&&p.current)try{const c=await b.getOracleSchemas(i.server_name);p.current&&L(c||[])}catch(c){p.current&&console.error("Error loading schemas:",c)}else L([])})()},[i.server_name]);const P=a.useCallback(n=>{z(c=>c===n?null:n)},[]);a.useCallback(n=>n?new Date(n).toLocaleString():"N/A",[]),a.useCallback(n=>{if(n==null)return"N/A";const c=Number(n);return isNaN(c)?"N/A":`${(c*100).toFixed(1)}%`},[]);const R=a.useCallback((n,c)=>{m(n,c),n==="server_name"&&m("schema_name","")},[m]),u=a.useCallback((n,c,x)=>{const A=c==null?"N/A":typeof c=="string"?c:Number(c).toLocaleString();return e.jsxs("div",{style:{padding:"16px",backgroundColor:o.background,border:`1px solid ${o.border}`,borderRadius:2,minWidth:"150px",fontFamily:"Consolas"},children:[e.jsx("div",{style:{fontSize:11,color:o.muted,marginBottom:8,textTransform:"uppercase",letterSpacing:.5,fontFamily:"Consolas"},children:n}),e.jsx("div",{style:{fontSize:24,fontWeight:700,color:o.foreground,fontFamily:"Consolas",marginBottom:x?4:0},children:A}),x&&e.jsx("div",{style:{fontSize:10,color:o.muted,fontFamily:"Consolas"},children:x})]})},[]);return r&&E.length===0?e.jsx(X,{variant:"table"}):e.jsxs("div",{style:{padding:"20px",fontFamily:"Consolas",fontSize:12},children:[e.jsx("div",{style:{marginBottom:"20px"},children:e.jsxs("h1",{style:{fontSize:14,fontWeight:600,margin:0,color:o.foreground,textTransform:"uppercase",fontFamily:"Consolas"},children:[e.jsx("span",{style:{color:o.accent,marginRight:8},children:h.blockFull}),"DATA LINEAGE - ORACLE"]})}),g&&e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>d(!1),children:e.jsx("div",{style:{width:"90%",maxWidth:1e3,maxHeight:"90vh",overflowY:"auto"},onClick:n=>n.stopPropagation(),children:e.jsx(B,{title:"DATA LINEAGE - ORACLE PLAYBOOK",children:e.jsxs("div",{style:{padding:16,fontFamily:"Consolas",fontSize:12,lineHeight:1.6},children:[e.jsxs("div",{style:{marginBottom:24},children:[e.jsxs("div",{style:{fontSize:14,fontWeight:600,color:o.accent,marginBottom:12},children:[h.blockFull," OVERVIEW"]}),e.jsx("div",{style:{color:o.foreground,marginLeft:16},children:"Data Lineage tracks the flow of data through your Oracle databases, showing how data moves from source tables to target tables, views, materialized views, stored procedures, functions, and other database objects. This helps you understand data dependencies, impact analysis, and data flow patterns across your Oracle infrastructure, including schema-level relationships."})]}),e.jsxs("div",{style:{marginBottom:24},children:[e.jsxs("div",{style:{fontSize:14,fontWeight:600,color:o.accent,marginBottom:12},children:[h.blockFull," RELATIONSHIP TYPES"]}),e.jsxs("div",{style:{marginLeft:16},children:[e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("span",{style:{color:o.accent,fontWeight:600},children:"DEPENDS_ON"}),e.jsx("span",{style:{color:o.foreground,marginLeft:8,fontSize:11},children:"Target object depends on source object (e.g., view depends on table, materialized view depends on table)"})]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("span",{style:{color:o.accent,fontWeight:600},children:"REFERENCES"}),e.jsx("span",{style:{color:o.foreground,marginLeft:8,fontSize:11},children:"Foreign key or reference relationship between objects"})]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("span",{style:{color:o.accent,fontWeight:600},children:"USES"}),e.jsx("span",{style:{color:o.foreground,marginLeft:8,fontSize:11},children:"Object uses another object (e.g., stored procedure uses table, function uses view)"})]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("span",{style:{color:o.accent,fontWeight:600},children:"CONTAINS"}),e.jsx("span",{style:{color:o.foreground,marginLeft:8,fontSize:11},children:"Parent-child relationship (e.g., schema contains table, table contains column)"})]})]})]}),e.jsxs("div",{style:{marginBottom:24},children:[e.jsxs("div",{style:{fontSize:14,fontWeight:600,color:o.accent,marginBottom:12},children:[h.blockFull," CONFIDENCE SCORE"]}),e.jsxs("div",{style:{marginLeft:16},children:[e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("span",{style:{color:o.accent,fontWeight:600},children:"High (0.8-1.0)"}),e.jsx("span",{style:{color:o.foreground,marginLeft:8,fontSize:11},children:"Strong evidence of relationship, typically from explicit dependencies, foreign keys, or PL/SQL code analysis"})]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("span",{style:{color:o.muted,fontWeight:600},children:"Medium (0.5-0.8)"}),e.jsx("span",{style:{color:o.foreground,marginLeft:8,fontSize:11},children:"Moderate confidence, inferred from patterns, naming conventions, or code analysis"})]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("span",{style:{color:o.foreground,fontWeight:600},children:"Low (0.0-0.5)"}),e.jsx("span",{style:{color:o.foreground,marginLeft:8,fontSize:11},children:"Weak evidence, may require manual verification"})]})]})]}),e.jsxs("div",{style:{marginBottom:24},children:[e.jsxs("div",{style:{fontSize:14,fontWeight:600,color:o.accent,marginBottom:12},children:[h.blockFull," DISCOVERY METHODS"]}),e.jsxs("div",{style:{marginLeft:16},children:[e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("span",{style:{color:o.accent,fontWeight:600},children:"FOREIGN_KEY"}),e.jsx("span",{style:{color:o.foreground,marginLeft:8,fontSize:11},children:"Discovered through foreign key constraints"})]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("span",{style:{color:o.accent,fontWeight:600},children:"VIEW_DEFINITION"}),e.jsx("span",{style:{color:o.foreground,marginLeft:8,fontSize:11},children:"Extracted from view CREATE statements"})]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("span",{style:{color:o.accent,fontWeight:600},children:"MATERIALIZED_VIEW"}),e.jsx("span",{style:{color:o.foreground,marginLeft:8,fontSize:11},children:"Analyzed from materialized view definitions"})]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("span",{style:{color:o.accent,fontWeight:600},children:"STORED_PROCEDURE"}),e.jsx("span",{style:{color:o.foreground,marginLeft:8,fontSize:11},children:"Analyzed from PL/SQL stored procedure code"})]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("span",{style:{color:o.accent,fontWeight:600},children:"FUNCTION"}),e.jsx("span",{style:{color:o.foreground,marginLeft:8,fontSize:11},children:"Analyzed from PL/SQL function code"})]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("span",{style:{color:o.accent,fontWeight:600},children:"TRIGGER"}),e.jsx("span",{style:{color:o.foreground,marginLeft:8,fontSize:11},children:"Discovered from trigger definitions"})]})]})]}),e.jsxs("div",{style:{marginBottom:24},children:[e.jsxs("div",{style:{fontSize:14,fontWeight:600,color:o.accent,marginBottom:12},children:[h.blockFull," ORACLE-SPECIFIC FEATURES"]}),e.jsxs("div",{style:{marginLeft:16},children:[e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("span",{style:{color:o.accent,fontWeight:600},children:"Schema-Level Tracking"}),e.jsx("span",{style:{color:o.foreground,marginLeft:8,fontSize:11},children:"Tracks relationships at the schema level, understanding how schemas and their objects interact"})]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("span",{style:{color:o.accent,fontWeight:600},children:"PL/SQL Code Analysis"}),e.jsx("span",{style:{color:o.foreground,marginLeft:8,fontSize:11},children:"Analyzes PL/SQL code in stored procedures, functions, and triggers to discover relationships"})]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("span",{style:{color:o.accent,fontWeight:600},children:"Materialized View Support"}),e.jsx("span",{style:{color:o.foreground,marginLeft:8,fontSize:11},children:"Tracks dependencies for materialized views, including refresh dependencies"})]})]})]}),e.jsxs("div",{style:{marginTop:16,padding:12,background:o.backgroundSoft,borderRadius:2,border:`1px solid ${o.border}`},children:[e.jsxs("div",{style:{fontSize:11,fontWeight:600,color:o.muted,marginBottom:4},children:[h.blockSemi," Best Practices"]}),e.jsxs("div",{style:{fontSize:11,color:o.foreground},children:["• Use filters to narrow down lineage to specific servers or schemas",e.jsx("br",{}),"• Review confidence scores to identify relationships that may need verification",e.jsx("br",{}),"• Export lineage data for documentation and compliance purposes",e.jsx("br",{}),"• Monitor PL/SQL code relationships to understand programmatic data flows",e.jsx("br",{}),"• Review consumer context to understand how objects are being used",e.jsx("br",{}),"• Track materialized view dependencies for refresh scheduling"]})]}),e.jsx("div",{style:{marginTop:16,textAlign:"right"},children:e.jsx(v,{label:"Close",onClick:()=>d(!1),variant:"ghost"})})]})})})}),S&&e.jsx("div",{style:{marginBottom:20},children:e.jsx(B,{title:"ERROR",children:e.jsx("div",{style:{padding:"12px",color:o.foreground,fontSize:12,fontFamily:"Consolas",border:`2px solid ${o.borderStrong}`},children:S})})}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:12,marginBottom:24},children:[u("Total Relationships",l.total_relationships),u("Unique Objects",l.unique_objects),u("Unique Servers",l.unique_servers),u("Unique Schemas",l.unique_schemas),u("Relationship Types",l.unique_relationship_types),u("High Confidence",l.high_confidence,l.total_relationships?`${((Number(l.high_confidence)||0)/(Number(l.total_relationships)||1)*100).toFixed(1)}% of total`:void 0),u("Low Confidence",l.low_confidence,l.total_relationships?`${((Number(l.low_confidence)||0)/(Number(l.total_relationships)||1)*100).toFixed(1)}% of total`:void 0),u("Avg Confidence",l.avg_confidence?`${(Number(l.avg_confidence)*100).toFixed(1)}%`:"N/A","Score (0-100%)"),u("Avg Dependency Level",l.avg_dependency_level?Number(l.avg_dependency_level).toFixed(1):"N/A"),u("Discovered (24h)",l.discovered_last_24h),u("Discovery Methods",l.unique_discovery_methods)]}),e.jsx(B,{title:"FILTERS",children:e.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap",alignItems:"center"},children:[e.jsxs("select",{value:i.server_name,onChange:n=>R("server_name",n.target.value),style:{padding:"4px 8px",border:`1px solid ${o.border}`,borderRadius:2,fontFamily:"Consolas",fontSize:12,backgroundColor:o.background,color:o.foreground},children:[e.jsx("option",{value:"",children:"All Servers"}),_.map(n=>e.jsx("option",{value:n,children:n},n))]}),e.jsxs("select",{value:i.schema_name,onChange:n=>R("schema_name",n.target.value),disabled:!i.server_name,style:{padding:"4px 8px",border:`1px solid ${o.border}`,borderRadius:2,fontFamily:"Consolas",fontSize:12,backgroundColor:o.background,color:o.foreground,opacity:i.server_name?1:.5},children:[e.jsx("option",{value:"",children:"All Schemas"}),F.map(n=>e.jsx("option",{value:n,children:n},n))]}),e.jsxs("select",{value:i.relationship_type,onChange:n=>R("relationship_type",n.target.value),style:{padding:"4px 8px",border:`1px solid ${o.border}`,borderRadius:2,fontFamily:"Consolas",fontSize:12,backgroundColor:o.background,color:o.foreground},children:[e.jsx("option",{value:"",children:"All Relationships"}),e.jsx("option",{value:"FOREIGN_KEY",children:"FOREIGN_KEY"}),e.jsx("option",{value:"VIEW_READS_TABLE",children:"VIEW_READS_TABLE"}),e.jsx("option",{value:"TRIGGER_ON_TABLE",children:"TRIGGER_ON_TABLE"}),e.jsx("option",{value:"TRIGGER_READS_TABLE",children:"TRIGGER_READS_TABLE"})]}),e.jsx("input",{type:"text",placeholder:"Search object name...",value:i.search,onChange:n=>R("search",n.target.value),style:{flex:1,minWidth:"200px",padding:"4px 8px",border:`1px solid ${o.border}`,borderRadius:2,fontFamily:"Consolas",fontSize:12,backgroundColor:o.background,color:o.foreground}}),e.jsx(v,{label:"Reset All",onClick:()=>{w()},variant:"ghost"})]})}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center",marginTop:24,marginBottom:16,fontFamily:"Consolas",fontSize:12},children:e.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[e.jsx(v,{label:f==="list"?"Show Charts":"Show List",onClick:()=>T(f==="list"?"charts":"list"),variant:f==="charts"?"primary":"ghost"}),e.jsx(v,{variant:"ghost"}),e.jsx(v,{label:"Lineage Info",onClick:()=>d(!0),variant:"ghost"})]})}),f==="charts"&&e.jsx(K,{engine:"oracle",getMetrics:b.getOracleMetrics,getStats:b.getOracleStats}),f==="list"&&r?e.jsx(q,{children:"Loading tree view..."}):f==="list"?e.jsx(J,{edges:E,onEdgeClick:n=>P(n.id)}):null]})};export{le as default};
