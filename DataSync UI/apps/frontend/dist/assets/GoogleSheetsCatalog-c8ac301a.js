import{r as a,R as re,j as e,b as t,e as p,U as D}from"./index-75d7470b.js";import{A as B}from"./AsciiButton-446d8430.js";import{C as le}from"./ConnectionStringSelector-c1083be0.js";import{A as M}from"./AsciiPanel-9f053981.js";import{E as ie,M as ce}from"./MappingGraph-05435625.js";import{u as de}from"./usePagination-b946ac42.js";import{u as ge}from"./useTableFilters-0b8dd77f.js";import{e as ne}from"./errorHandler-5ea9ae85.js";import{s as ue}from"./validation-24839588.js";import{S as he}from"./SkeletonLoader-530eacc4.js";import"./index-c4405eea.js";const pe={MariaDB:"host=localhost;user=myuser;password=mypassword;db=mydatabase;port=3306",MSSQL:"DRIVER={ODBC Driver 17 for SQL Server};SERVER=localhost,1433;DATABASE=mydatabase;UID=myuser;PWD=mypassword",Oracle:"host=localhost;user=myuser;password=mypassword;db=mydatabase;port=1521",PostgreSQL:"postgresql://myuser:mypassword@localhost:5432/mydatabase",MongoDB:"mongodb://myuser:mypassword@localhost:27017/mydatabase"},me=({onClose:C,onSave:x,initialData:i})=>{const[r,m]=a.useState({sheet_name:i!=null&&i.sheet_name?`${i.sheet_name} (Copy)`:"",spreadsheet_id:(i==null?void 0:i.spreadsheet_id)||"",api_key:(i==null?void 0:i.api_key)||"",access_token:(i==null?void 0:i.access_token)||"",range:(i==null?void 0:i.range)||"",target_db_engine:(i==null?void 0:i.target_db_engine)||"",target_connection_string:(i==null?void 0:i.target_connection_string)||"",target_schema:(i==null?void 0:i.target_schema)||"",target_table:(i==null?void 0:i.target_table)||"",sync_interval:(i==null?void 0:i.sync_interval)||3600,status:(i==null?void 0:i.status)||"PENDING",active:(i==null?void 0:i.active)!==void 0?i.active:!0}),[z,F]=a.useState(null),[j,k]=a.useState(!1),[w,v]=a.useState([]),[N,O]=a.useState(!1),[W,H]=a.useState(!1),[s,g]=a.useState(null),[c,h]=a.useState(!1),[u,f]=a.useState(null),[A,T]=a.useState(!1),[y,_]=a.useState(null),[I,$]=a.useState([]),[K,R]=a.useState([]),[S,L]=a.useState(!1),[V,q]=a.useState(!1),[U,G]=a.useState(!1),[Z,Y]=a.useState(!1),l=a.useMemo(()=>r.target_db_engine&&pe[r.target_db_engine]||"",[r.target_db_engine]),b=a.useCallback(async()=>{if(!(!r.spreadsheet_id||!r.api_key&&!r.access_token)){O(!0),v([]);try{const o=localStorage.getItem("authToken"),n=await fetch("/api/google-sheets-catalog/get-sheets",{method:"POST",headers:{"Content-Type":"application/json",...o&&{Authorization:`Bearer ${o}`}},body:JSON.stringify({spreadsheet_id:r.spreadsheet_id,api_key:r.api_key||null,access_token:r.access_token||null})});if(n.ok){const d=await n.json();d.success&&d.sheets&&(v(d.sheets),d.sheets.length>0&&!r.range&&m(X=>({...X,range:d.sheets[0].title})))}}catch(o){console.error("Error getting sheets:",o)}finally{O(!1)}}},[r.spreadsheet_id,r.api_key,r.access_token]),E=a.useCallback(async()=>{if(!r.spreadsheet_id||r.spreadsheet_id.length<20){g(null);return}if(!r.api_key&&!r.access_token){g(null);return}H(!0),g(null);try{const o=localStorage.getItem("authToken"),n=await fetch("/api/google-sheets-catalog/validate-sheet",{method:"POST",headers:{"Content-Type":"application/json",...o&&{Authorization:`Bearer ${o}`}},body:JSON.stringify({spreadsheet_id:r.spreadsheet_id,api_key:r.api_key||null,access_token:r.access_token||null})});if(n.ok){const d=await n.json();g({valid:d.success,title:d.title,sheets:d.sheets,error:d.error})}else{const d=await n.json();g({valid:!1,error:d.error||"Failed to validate spreadsheet"})}}catch{g({valid:!1,error:"Network error. Please check your connection."})}finally{H(!1)}},[r.spreadsheet_id,r.api_key,r.access_token]);re.useEffect(()=>{if(r.spreadsheet_id&&r.spreadsheet_id.length>=20&&(r.api_key||r.access_token)){const o=setTimeout(()=>{E()},800);return()=>clearTimeout(o)}else g(null)},[r.spreadsheet_id,r.api_key,r.access_token,E]),re.useEffect(()=>{if(r.spreadsheet_id&&(r.api_key||r.access_token)){const o=setTimeout(()=>{b()},500);return()=>clearTimeout(o)}else v([]),(!r.spreadsheet_id||!r.api_key&&!r.access_token)&&m(o=>({...o,range:""}))},[r.spreadsheet_id,r.api_key,r.access_token,b]);const P=a.useCallback(async()=>{if(!(!r.spreadsheet_id||!r.api_key&&!r.access_token)){h(!0),f(null);try{const o=localStorage.getItem("authToken"),n=await fetch("/api/google-sheets-catalog/analyze",{method:"POST",headers:{"Content-Type":"application/json",...o&&{Authorization:`Bearer ${o}`}},body:JSON.stringify({spreadsheet_id:r.spreadsheet_id,api_key:r.api_key||null,access_token:r.access_token||null,range:r.range||null})});if(n.ok){const d=await n.json();d.success&&f(d)}}catch(o){console.error("Error analyzing Google Sheet:",o)}finally{h(!1)}}},[r.spreadsheet_id,r.api_key,r.access_token,r.range]);re.useEffect(()=>{if(r.spreadsheet_id&&(r.api_key||r.access_token)&&r.range){const o=setTimeout(()=>{P()},1e3);return()=>clearTimeout(o)}else f(null)},[r.spreadsheet_id,r.api_key,r.access_token,r.range,P]);const ee=a.useCallback(async()=>{if(!r.target_db_engine||!r.target_connection_string||!r.target_connection_string.trim()){_({success:!1,message:"Please select database engine and enter connection string"});return}T(!0),_(null),$([]),R([]);try{const o=localStorage.getItem("authToken"),n=await fetch("/api/test-connection",{method:"POST",headers:{"Content-Type":"application/json",...o&&{Authorization:`Bearer ${o}`}},body:JSON.stringify({db_engine:r.target_db_engine,connection_string:r.target_connection_string.trim()})});if(n.ok){const d=await n.json();d.success?(_({success:!0,message:"Connection successful!"}),await Q()):_({success:!1,message:d.error||d.message||"Connection failed"})}else{const d=await n.json();_({success:!1,message:d.error||d.message||"Connection failed"})}}catch(o){_({success:!1,message:o.message||"Error testing connection"})}finally{T(!1)}},[r.target_db_engine,r.target_connection_string,Q]),Q=a.useCallback(async()=>{if(!(!r.target_db_engine||!r.target_connection_string.trim())){L(!0),$([]),R([]),m(o=>({...o,target_schema:"",target_table:""}));try{const o=localStorage.getItem("authToken"),n=await fetch("/api/discover-schemas",{method:"POST",headers:{"Content-Type":"application/json",...o&&{Authorization:`Bearer ${o}`}},body:JSON.stringify({db_engine:r.target_db_engine,connection_string:r.target_connection_string.trim()})});if(n.ok){const d=await n.json();d.success&&d.schemas&&$(d.schemas)}}catch(o){console.error("Error discovering schemas:",o)}finally{L(!1)}}},[r.target_db_engine,r.target_connection_string]),J=a.useCallback(async o=>{if(m(n=>({...n,target_schema:o,target_table:""})),R([]),G(!1),!(!o||!r.target_db_engine||!r.target_connection_string.trim())){q(!0);try{const n=localStorage.getItem("authToken"),d=await fetch("/api/discover-tables",{method:"POST",headers:{"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`}},body:JSON.stringify({db_engine:r.target_db_engine,connection_string:r.target_connection_string.trim(),schema_name:o})});if(d.ok){const X=await d.json();X.success&&X.tables&&R(X.tables)}}catch(n){console.error("Error discovering tables:",n)}finally{q(!1)}}},[r.target_db_engine,r.target_connection_string]),te=a.useCallback(async()=>{if(!(!r.target_schema||!r.target_db_engine||!r.target_connection_string.trim()))try{const o=localStorage.getItem("authToken"),n=await fetch("/api/google-sheets-catalog/create-schema",{method:"POST",headers:{"Content-Type":"application/json",...o&&{Authorization:`Bearer ${o}`}},body:JSON.stringify({db_engine:r.target_db_engine,connection_string:r.target_connection_string.trim(),schema_name:r.target_schema})});n.ok&&(await n.json()).success&&(await Q(),G(!1))}catch(o){console.error("Error creating schema:",o)}},[r.target_schema,r.target_db_engine,r.target_connection_string,Q]),se=a.useCallback(async()=>{if(!(!r.target_table||!r.target_schema||!r.target_db_engine||!r.target_connection_string.trim()))try{const o=localStorage.getItem("authToken"),n=await fetch("/api/google-sheets-catalog/create-table",{method:"POST",headers:{"Content-Type":"application/json",...o&&{Authorization:`Bearer ${o}`}},body:JSON.stringify({db_engine:r.target_db_engine,connection_string:r.target_connection_string.trim(),schema_name:r.target_schema,table_name:r.target_table,spreadsheet_id:r.spreadsheet_id,api_key:r.api_key,access_token:r.access_token,range:r.range,has_header:(u==null?void 0:u.has_header)??!0,skip_rows:(u==null?void 0:u.skip_rows)??0})});n.ok&&(await n.json()).success&&(await J(r.target_schema),Y(!1))}catch(o){console.error("Error creating table:",o)}},[r.target_table,r.target_schema,r.target_db_engine,r.target_connection_string,r.spreadsheet_id,r.api_key,r.access_token,r.range,u,J]),oe=a.useCallback(()=>{k(!0),setTimeout(()=>{C()},150)},[C]),ae=a.useCallback(o=>{if(o.preventDefault(),F(null),!r.sheet_name||!r.spreadsheet_id||!r.target_db_engine||!r.target_connection_string||!r.target_schema||!r.target_table){F("Please fill in all required fields");return}if(!r.api_key&&!r.access_token){F("Either API Key or Access Token must be provided");return}x({...r,sync_interval:parseInt(String(r.sync_interval))||3600})},[r,x]);return e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backdropFilter:"blur(5px)",background:"rgba(0, 0, 0, 0.3)",zIndex:999,animation:j?"fadeOut 0.15s ease-out":"fadeIn 0.15s ease-in"},onClick:oe}),e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,animation:j?"fadeOut 0.15s ease-out":"fadeIn 0.15s ease-in"},onClick:o=>{o.target===o.currentTarget&&oe()},children:e.jsxs("div",{style:{background:t.background,padding:"24px",borderRadius:2,minWidth:700,maxWidth:900,maxHeight:"90vh",overflowY:"auto",fontFamily:"Consolas",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)",animation:"slideUp 0.2s ease-out",border:`2px solid ${t.border}`},onClick:o=>o.stopPropagation(),children:[e.jsxs("h2",{style:{borderBottom:`2px solid ${t.border}`,paddingBottom:"8px",marginBottom:"20px",fontSize:14,fontWeight:600,position:"relative",fontFamily:"Consolas",color:t.foreground,textTransform:"uppercase"},children:[e.jsx("span",{style:{color:t.accent,marginRight:8},children:p.blockFull}),"ADD NEW GOOGLE SHEET SOURCE"]}),e.jsxs("form",{onSubmit:ae,style:{fontFamily:"Consolas",fontSize:12},children:[e.jsxs("div",{style:{marginBottom:16},children:[e.jsxs("label",{style:{display:"block",fontSize:12,fontWeight:600,color:t.foreground,marginBottom:6,fontFamily:"Consolas",textTransform:"uppercase"},children:[p.v," SHEET NAME *"]}),e.jsx("input",{type:"text",value:r.sheet_name,onChange:o=>m(n=>({...n,sheet_name:o.target.value})),placeholder:"e.g., Sales Data, Customer List",style:{width:"100%",padding:"6px 10px",border:`1px solid ${t.border}`,borderRadius:2,fontSize:12,fontFamily:"Consolas",backgroundColor:t.background,color:t.foreground,outline:"none"},onFocus:o=>{o.currentTarget.style.borderColor=t.accent},onBlur:o=>{o.currentTarget.style.borderColor=t.border}})]}),e.jsxs("div",{style:{marginBottom:16},children:[e.jsxs("label",{style:{display:"block",fontSize:12,fontWeight:600,color:t.foreground,marginBottom:6,fontFamily:"Consolas",textTransform:"uppercase"},children:[p.v," SPREADSHEET ID *"]}),e.jsx("input",{type:"text",value:r.spreadsheet_id,onChange:o=>m(n=>({...n,spreadsheet_id:o.target.value})),placeholder:"e.g., 1BxiMVs0XRA5nFMdKvBdBZjgmUUqptlbs74OgvE2upms",style:{width:"100%",padding:"6px 10px",border:`1px solid ${t.border}`,borderRadius:2,fontSize:12,fontFamily:"Consolas",backgroundColor:t.background,color:t.foreground,outline:"none"},onFocus:o=>{o.currentTarget.style.borderColor=t.accent},onBlur:o=>{o.currentTarget.style.borderColor=t.border}}),e.jsx("div",{style:{marginTop:6,fontSize:11,color:t.muted,fontStyle:"italic",fontFamily:"Consolas"},children:"Found in the Google Sheets URL: https://docs.google.com/spreadsheets/d/SPREADSHEET_ID/edit"}),W&&e.jsxs("div",{style:{marginTop:6,fontSize:11,color:t.muted,fontFamily:"Consolas"},children:[p.blockFull," Validating spreadsheet..."]}),s&&e.jsx("div",{style:{marginTop:8,padding:8,backgroundColor:s.valid?t.backgroundSoft:t.background,border:`1px solid ${s.valid?t.accent:t.foreground}`,borderRadius:2,fontSize:11,fontFamily:"Consolas"},children:s.valid?e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{color:t.accent,fontWeight:600,marginBottom:4},children:"✓ Spreadsheet found"}),s.title&&e.jsxs("div",{style:{color:t.foreground,marginBottom:4},children:["Title: ",s.title]}),s.sheets&&s.sheets.length>0&&e.jsxs("div",{style:{color:t.muted,fontSize:10},children:["Available sheets: ",s.sheets.map(o=>o.title).join(", ")]})]}):e.jsxs("div",{style:{color:t.foreground},children:["✗ ",s.error||"Invalid spreadsheet ID or access denied"]})})]}),e.jsxs("div",{style:{marginBottom:16},children:[e.jsxs("label",{style:{display:"block",fontSize:12,fontWeight:600,color:t.foreground,marginBottom:6,fontFamily:"Consolas",textTransform:"uppercase"},children:[p.v," API KEY"]}),e.jsx("input",{type:"text",value:r.api_key,onChange:o=>m(n=>({...n,api_key:o.target.value})),placeholder:"Google Sheets API Key (optional if using Access Token)",style:{width:"100%",padding:"6px 10px",border:`1px solid ${t.border}`,borderRadius:2,fontSize:12,fontFamily:"Consolas",backgroundColor:t.background,color:t.foreground,outline:"none"},onFocus:o=>{o.currentTarget.style.borderColor=t.accent},onBlur:o=>{o.currentTarget.style.borderColor=t.border}}),e.jsxs("div",{style:{marginTop:6,fontSize:11,color:t.muted,fontStyle:"italic",fontFamily:"Consolas"},children:["Get your API key from"," ",e.jsx("a",{href:"https://console.cloud.google.com/apis/credentials",target:"_blank",rel:"noopener noreferrer",style:{color:t.accent,textDecoration:"underline",cursor:"pointer"},children:"Google Cloud Console"}),". Required if not using Access Token."]})]}),e.jsxs("div",{style:{marginBottom:16},children:[e.jsxs("label",{style:{display:"block",fontSize:12,fontWeight:600,color:t.foreground,marginBottom:6,fontFamily:"Consolas",textTransform:"uppercase"},children:[p.v," ACCESS TOKEN"]}),e.jsx("input",{type:"text",value:r.access_token,onChange:o=>m(n=>({...n,access_token:o.target.value})),placeholder:"OAuth2 Access Token (optional if using API Key)",style:{width:"100%",padding:"6px 10px",border:`1px solid ${t.border}`,borderRadius:2,fontSize:12,fontFamily:"Consolas",backgroundColor:t.background,color:t.foreground,outline:"none"},onFocus:o=>{o.currentTarget.style.borderColor=t.accent},onBlur:o=>{o.currentTarget.style.borderColor=t.border}}),e.jsxs("div",{style:{marginTop:6,fontSize:11,color:t.muted,fontStyle:"italic",fontFamily:"Consolas"},children:["OAuth2 access token for authenticated access. Required if not using API Key."," ",e.jsx("a",{href:"https://console.cloud.google.com/apis/credentials",target:"_blank",rel:"noopener noreferrer",style:{color:t.accent,textDecoration:"underline",cursor:"pointer"},children:"Get credentials from Google Cloud Console"})]})]}),e.jsxs("div",{style:{marginBottom:16},children:[e.jsxs("label",{style:{display:"block",fontSize:12,fontWeight:600,color:t.foreground,marginBottom:6,fontFamily:"Consolas",textTransform:"uppercase"},children:[p.v," SHEET / RANGE *"]}),N?e.jsxs("div",{style:{padding:8,color:t.muted,fontSize:12,fontFamily:"Consolas"},children:[p.blockFull," Loading sheets from spreadsheet..."]}):w.length>0?e.jsxs(e.Fragment,{children:[e.jsxs("select",{value:r.range,onChange:o=>{const n=o.target.value;m(d=>({...d,range:n}))},style:{width:"100%",padding:"6px 10px",border:`1px solid ${t.border}`,borderRadius:2,fontSize:12,fontFamily:"Consolas",backgroundColor:t.background,color:t.foreground,cursor:"pointer",outline:"none",marginBottom:8},onFocus:o=>{o.currentTarget.style.borderColor=t.accent},onBlur:o=>{o.currentTarget.style.borderColor=t.border},children:[e.jsx("option",{value:"",children:"Select Sheet"}),w.map(o=>e.jsxs("option",{value:o.title,children:[o.title," (Entire Sheet)"]},o.sheetId||o.index)),w.map(o=>e.jsxs("option",{value:`${o.title}!A1:Z1000`,children:[o.title," (A1:Z1000)"]},`${o.sheetId||o.index}-range`))]}),e.jsx("div",{style:{marginTop:6,fontSize:11,color:t.muted,fontStyle:"italic",fontFamily:"Consolas"},children:"Select a sheet from the dropdown or enter a custom range below"}),e.jsx("input",{type:"text",value:r.range,onChange:o=>m(n=>({...n,range:o.target.value})),placeholder:"Or enter custom range: Sheet1!A1:C10",style:{width:"100%",padding:"6px 10px",border:`1px solid ${t.border}`,borderRadius:2,fontSize:12,fontFamily:"Consolas",backgroundColor:t.background,color:t.foreground,outline:"none",marginTop:8},onFocus:o=>{o.currentTarget.style.borderColor=t.accent},onBlur:o=>{o.currentTarget.style.borderColor=t.border}})]}):e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",value:r.range,onChange:o=>m(n=>({...n,range:o.target.value})),placeholder:"e.g., Sheet1!A1:C10 or Sheet1",style:{width:"100%",padding:"6px 10px",border:`1px solid ${t.border}`,borderRadius:2,fontSize:12,fontFamily:"Consolas",backgroundColor:t.background,color:t.foreground,outline:"none"},onFocus:o=>{o.currentTarget.style.borderColor=t.accent},onBlur:o=>{o.currentTarget.style.borderColor=t.border}}),e.jsx("div",{style:{marginTop:6,fontSize:11,color:t.muted,fontStyle:"italic",fontFamily:"Consolas"},children:r.spreadsheet_id&&(r.api_key||r.access_token)?'Enter range like "Sheet1!A1:C10" or just "Sheet1" for the entire sheet. Sheets will load automatically.':'Enter range like "Sheet1!A1:C10" or just "Sheet1" for the entire sheet. Leave empty for default.'})]}),c&&e.jsxs("div",{style:{marginTop:8,fontSize:12,color:t.accent,fontFamily:"Consolas"},children:[p.blockFull," Analyzing Google Sheet..."]}),u&&!c&&e.jsxs("div",{style:{marginTop:12,padding:12,background:t.accentSoft+"20",borderRadius:2,borderLeft:`3px solid ${t.accent}`,fontSize:12,color:t.foreground,fontFamily:"Consolas"},children:[e.jsx("div",{style:{fontWeight:600,marginBottom:8},children:"Analysis Results:"}),e.jsxs("div",{children:["Has Header: ",u.has_header?"Yes":"No"]}),e.jsxs("div",{children:["Skip Rows: ",u.skip_rows]}),e.jsxs("div",{children:["Columns: ",u.column_count]}),e.jsxs("div",{children:["Rows (sample): ",u.row_count]}),u.sample_rows&&u.sample_rows.length>0&&e.jsxs("div",{style:{marginTop:8},children:[e.jsx("div",{style:{fontWeight:600,marginBottom:4},children:"Sample (first 3 rows):"}),e.jsx("pre",{style:{fontSize:11,overflow:"auto",maxHeight:"100px",background:t.backgroundSoft,padding:8,borderRadius:2,fontFamily:"Consolas",border:`1px solid ${t.border}`},children:u.sample_rows.slice(0,3).map((o,n)=>`${n+1}: ${o.map(d=>String(d||"")).join(" | ")}`).join(`
`)})]})]})]}),e.jsxs("div",{style:{marginBottom:16},children:[e.jsxs("label",{style:{display:"block",fontSize:12,fontWeight:600,color:t.foreground,marginBottom:6,fontFamily:"Consolas",textTransform:"uppercase"},children:[p.v," TARGET DB ENGINE *"]}),e.jsxs("select",{value:r.target_db_engine,onChange:o=>m(n=>({...n,target_db_engine:o.target.value})),style:{width:"100%",padding:"6px 10px",border:`1px solid ${t.border}`,borderRadius:2,fontSize:12,fontFamily:"Consolas",backgroundColor:t.background,color:t.foreground,cursor:"pointer",outline:"none"},onFocus:o=>{o.currentTarget.style.borderColor=t.accent},onBlur:o=>{o.currentTarget.style.borderColor=t.border},children:[e.jsx("option",{value:"",children:"Select Engine"}),e.jsx("option",{value:"PostgreSQL",children:"PostgreSQL"}),e.jsx("option",{value:"MariaDB",children:"MariaDB"}),e.jsx("option",{value:"MSSQL",children:"MSSQL"}),e.jsx("option",{value:"MongoDB",children:"MongoDB"}),e.jsx("option",{value:"Oracle",children:"Oracle"})]})]}),e.jsxs("div",{style:{marginBottom:16},children:[e.jsx(le,{value:r.target_connection_string,onChange:o=>{m(n=>({...n,target_connection_string:o,target_schema:"",target_table:""})),_(null),$([]),R([])},dbEngine:r.target_db_engine,label:"Target Connection String",required:!0,onTestConnection:ee,isTesting:A,testResult:y,placeholder:l||"Enter connection string..."}),l&&e.jsxs("div",{style:{marginTop:8,padding:8,background:t.backgroundSoft,borderRadius:2,borderLeft:`3px solid ${t.accent}`,fontFamily:"Consolas",fontSize:11,color:t.muted,whiteSpace:"pre-wrap",wordBreak:"break-all"},children:["Example: ",l]}),y&&e.jsxs("div",{style:{marginTop:8,padding:"8px 12px",borderRadius:2,fontSize:12,fontFamily:"Consolas",backgroundColor:y.success?t.success:t.danger,color:t.background},children:[y.success?"✓ ":"✗ ",y.message]})]}),y!=null&&y.success?e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{marginBottom:16},children:[e.jsxs("label",{style:{display:"block",fontSize:12,fontWeight:600,color:t.foreground,marginBottom:6,fontFamily:"Consolas",textTransform:"uppercase"},children:[p.v," TARGET SCHEMA *"]}),e.jsxs("div",{style:{display:"flex",gap:8},children:[e.jsxs("div",{style:{flex:1,position:"relative"},children:[e.jsx("input",{type:"text",list:"schema-list-gs",value:r.target_schema,onChange:o=>{const n=o.target.value;m(d=>({...d,target_schema:n.toLowerCase()})),n&&I.includes(n)?(G(!1),J(n)):n&&!I.includes(n)?G(!0):G(!1)},disabled:S,placeholder:S?"Loading schemas...":"Type or select schema name",style:{width:"100%",padding:"6px 10px",border:`1px solid ${t.border}`,borderRadius:2,fontSize:12,fontFamily:"Consolas",backgroundColor:t.background,color:t.foreground,outline:"none"},onFocus:o=>{o.currentTarget.style.borderColor=t.accent},onBlur:o=>{o.currentTarget.style.borderColor=t.border}}),e.jsx("datalist",{id:"schema-list-gs",children:I.map(o=>e.jsx("option",{value:o},o))})]}),U&&r.target_schema&&e.jsx(B,{label:"Create Schema",onClick:te,variant:"primary"})]}),r.target_schema&&!I.includes(r.target_schema)&&!U&&e.jsxs("div",{style:{marginTop:6,fontSize:11,color:t.accent,fontFamily:"Consolas"},children:['Schema "',r.target_schema,`" will be created if it doesn't exist`]})]}),r.target_schema&&e.jsxs("div",{style:{marginBottom:16},children:[e.jsxs("label",{style:{display:"block",fontSize:12,fontWeight:600,color:t.foreground,marginBottom:6,fontFamily:"Consolas",textTransform:"uppercase"},children:[p.v," TARGET TABLE *"]}),e.jsxs("div",{style:{display:"flex",gap:8},children:[e.jsxs("div",{style:{flex:1,position:"relative"},children:[e.jsx("input",{type:"text",list:"table-list-gs",value:r.target_table,onChange:o=>{const n=o.target.value;m(d=>({...d,target_table:n.toLowerCase()})),n&&!K.includes(n)?Y(!0):Y(!1)},disabled:V,placeholder:V?"Loading tables...":"Type or select table name",style:{width:"100%",padding:"6px 10px",border:`1px solid ${t.border}`,borderRadius:2,fontSize:12,fontFamily:"Consolas",backgroundColor:t.background,color:t.foreground,outline:"none"},onFocus:o=>{o.currentTarget.style.borderColor=t.accent},onBlur:o=>{o.currentTarget.style.borderColor=t.border}}),e.jsx("datalist",{id:"table-list-gs",children:K.map(o=>e.jsx("option",{value:o},o))})]}),Z&&r.target_table&&e.jsx(B,{label:"Create Table",onClick:se,variant:"primary"})]}),r.target_table&&!K.includes(r.target_table)&&!Z&&e.jsxs("div",{style:{marginTop:6,fontSize:11,color:t.accent,fontFamily:"Consolas"},children:['Table "',r.target_table,`" will be created if it doesn't exist`]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{marginBottom:16},children:[e.jsxs("label",{style:{display:"block",fontSize:12,fontWeight:600,color:t.foreground,marginBottom:6,fontFamily:"Consolas",textTransform:"uppercase"},children:[p.v," TARGET SCHEMA *"]}),e.jsx("input",{type:"text",value:r.target_schema,onChange:o=>m(n=>({...n,target_schema:o.target.value.toLowerCase()})),placeholder:"schema_name",style:{width:"100%",padding:"6px 10px",border:`1px solid ${t.border}`,borderRadius:2,fontSize:12,fontFamily:"Consolas",backgroundColor:t.background,color:t.foreground,outline:"none"},onFocus:o=>{o.currentTarget.style.borderColor=t.accent},onBlur:o=>{o.currentTarget.style.borderColor=t.border}})]}),e.jsxs("div",{style:{marginBottom:16},children:[e.jsxs("label",{style:{display:"block",fontSize:12,fontWeight:600,color:t.foreground,marginBottom:6,fontFamily:"Consolas",textTransform:"uppercase"},children:[p.v," TARGET TABLE *"]}),e.jsx("input",{type:"text",value:r.target_table,onChange:o=>m(n=>({...n,target_table:o.target.value.toLowerCase()})),placeholder:"table_name",style:{width:"100%",padding:"6px 10px",border:`1px solid ${t.border}`,borderRadius:2,fontSize:12,fontFamily:"Consolas",backgroundColor:t.background,color:t.foreground,outline:"none"},onFocus:o=>{o.currentTarget.style.borderColor=t.accent},onBlur:o=>{o.currentTarget.style.borderColor=t.border}})]})]}),e.jsxs("div",{style:{marginBottom:16},children:[e.jsxs("label",{style:{display:"block",fontSize:12,fontWeight:600,color:t.foreground,marginBottom:6,fontFamily:"Consolas",textTransform:"uppercase"},children:[p.v," SYNC INTERVAL (SECONDS)"]}),e.jsx("input",{type:"number",value:r.sync_interval,onChange:o=>m(n=>({...n,sync_interval:parseInt(o.target.value)||3600})),min:"60",placeholder:"3600",style:{width:"100%",padding:"6px 10px",border:`1px solid ${t.border}`,borderRadius:2,fontSize:12,fontFamily:"Consolas",backgroundColor:t.background,color:t.foreground,outline:"none"},onFocus:o=>{o.currentTarget.style.borderColor=t.accent},onBlur:o=>{o.currentTarget.style.borderColor=t.border}})]}),e.jsx("div",{style:{marginBottom:16},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx("input",{type:"checkbox",checked:r.active,onChange:o=>m(n=>({...n,active:o.target.checked})),style:{width:18,height:18,cursor:"pointer"}}),e.jsx("label",{style:{margin:0,cursor:"pointer",fontSize:12,fontFamily:"Consolas",color:t.foreground},children:"Active"})]})}),z&&e.jsx("div",{style:{color:t.danger,background:t.danger+"20",padding:12,borderRadius:2,marginTop:12,fontSize:12,fontFamily:"Consolas",border:`1px solid ${t.danger}`},children:z}),e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:8,marginTop:20},children:[e.jsx(B,{label:"Cancel",onClick:oe,variant:"ghost"}),e.jsx("button",{type:"submit",style:{padding:"6px 16px",border:`1px solid ${t.accent}`,borderRadius:2,fontSize:12,fontFamily:"Consolas",backgroundColor:t.accent,color:t.background,cursor:"pointer",fontWeight:600,outline:"none"},onMouseEnter:o=>{o.currentTarget.style.backgroundColor=t.accentSoft},onMouseLeave:o=>{o.currentTarget.style.backgroundColor=t.accent},children:"Save Google Sheet Source"})]})]})]})}),e.jsx("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        @keyframes fadeOut {
          from { opacity: 1; }
          to { opacity: 0; }
        }
        @keyframes slideUp {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
      `})]})},fe=({entries:C,onEntryClick:x,onDuplicate:i})=>{const[r,m]=a.useState(new Set),[z,F]=a.useState(new Set),j=a.useMemo(()=>{const s=new Map;return C.forEach(g=>{const c=g.target_schema||"Other",h=g.target_table||"Other";s.has(c)||s.set(c,{name:c,tables:new Map});const u=s.get(c);u.tables.has(h)||u.tables.set(h,{name:h,sheets:[]}),u.tables.get(h).sheets.push(g)}),Array.from(s.values()).sort((g,c)=>g.name.localeCompare(c.name))},[C]),k=s=>{m(g=>{const c=new Set(g);if(c.has(s)){c.delete(s);const h=j.find(u=>u.name===s);h&&h.tables.forEach(u=>{const f=`${s}.${u.name}`;F(A=>{const T=new Set(A);return T.delete(f),T})})}else c.add(s);return c})},w=(s,g)=>{const c=`${s}.${g}`;F(h=>{const u=new Set(h);return u.has(c)?u.delete(c):u.add(c),u})},v=(s,g)=>{if(s===0)return null;const c=[];for(let h=0;h<s-1;h++)c.push("│  ");return g?c.push("└── "):c.push("├── "),e.jsx("span",{style:{color:t.muted,marginRight:6,fontFamily:"Consolas",fontSize:11},children:c.join("")})},N=s=>s==="SUCCESS"?t.success:s==="ERROR"?t.danger:s==="IN_PROGRESS"?t.warning:t.muted,O=(s,g,c)=>e.jsx("div",{style:{marginBottom:2,userSelect:"none"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"8px",paddingLeft:`${g*24+8}px`,cursor:"pointer",borderRadius:2,transition:"all 0.2s ease",position:"relative",margin:"2px 0",borderLeft:`1px solid ${t.border}`,fontFamily:"Consolas",fontSize:12},onClick:()=>x==null?void 0:x(s),onMouseEnter:h=>{h.currentTarget.style.backgroundColor=t.backgroundSoft,h.currentTarget.style.transform="translateX(2px)"},onMouseLeave:h=>{h.currentTarget.style.backgroundColor=t.background,h.currentTarget.style.transform="translateX(0)"},children:[v(g,c),e.jsx("span",{style:{marginRight:8,color:t.accent,fontFamily:"Consolas"},children:p.dot}),e.jsx("span",{style:{fontWeight:400,color:t.foreground,marginRight:8,flex:1,fontFamily:"Consolas",fontSize:12},children:s.sheet_name}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,flexWrap:"wrap"},children:[e.jsx("span",{style:{padding:"2px 8px",borderRadius:2,fontSize:11,fontWeight:500,backgroundColor:N(s.status),color:t.background,fontFamily:"Consolas",border:`1px solid ${N(s.status)}`},children:s.status}),s.active?e.jsx("span",{style:{padding:"2px 8px",borderRadius:2,fontSize:11,fontWeight:500,backgroundColor:t.success,color:t.background,fontFamily:"Consolas",border:`1px solid ${t.success}`},children:"Active"}):e.jsx("span",{style:{padding:"2px 8px",borderRadius:2,fontSize:11,fontWeight:500,backgroundColor:t.danger,color:t.background,fontFamily:"Consolas",border:`1px solid ${t.danger}`},children:"Inactive"}),i&&e.jsx("div",{onClick:h=>h.stopPropagation(),children:e.jsx(B,{label:"Duplicate",onClick:()=>i(s),variant:"primary"})})]})]})},s.id),W=(s,g,c)=>{const h=`${g}.${s.name}`,u=z.has(h),f=j.find(y=>y.name===g),A=Array.from((f==null?void 0:f.tables.keys())||[]),T=A[A.length-1]===s.name;return e.jsxs("div",{style:{marginBottom:2,userSelect:"none"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"10px 8px",paddingLeft:`${c*24+8}px`,cursor:"pointer",borderRadius:2,transition:"all 0.2s ease",position:"relative",margin:"2px 0",background:"transparent",borderLeft:`2px solid ${t.border}`,fontFamily:"Consolas",fontSize:12},onClick:()=>w(g,s.name),onMouseEnter:y=>{y.currentTarget.style.backgroundColor=t.backgroundSoft,y.currentTarget.style.transform="translateX(2px)"},onMouseLeave:y=>{y.currentTarget.style.backgroundColor="transparent",y.currentTarget.style.transform="translateX(0)"},children:[v(c,T),e.jsx("span",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:16,height:16,marginRight:8,color:t.muted,fontFamily:"Consolas",fontSize:12},children:u?"▼":"▶"}),e.jsx("span",{style:{marginRight:8,color:t.accent,fontFamily:"Consolas"},children:p.blockSemi}),e.jsx("span",{style:{fontWeight:500,color:t.foreground,marginRight:8,flex:1,fontFamily:"Consolas",fontSize:12},children:s.name}),e.jsx("div",{style:{display:"flex",alignItems:"center",gap:6,flexWrap:"wrap"},children:e.jsxs("span",{style:{padding:"2px 8px",borderRadius:2,fontSize:11,fontWeight:500,backgroundColor:t.backgroundSoft,color:t.muted,fontFamily:"Consolas",border:`1px solid ${t.border}`},children:[s.sheets.length," ",s.sheets.length===1?"Sheet":"Sheets"]})})]}),u&&e.jsx("div",{style:{overflow:"hidden",paddingLeft:`${(c+1)*24+36}px`},children:s.sheets.map((y,_)=>{const I=_===s.sheets.length-1;return O(y,c+1,I)})})]},h)},H=(s,g)=>{const c=r.has(s.name),u=j.findIndex(f=>f.name===s.name)===j.length-1;return e.jsxs("div",{style:{marginBottom:2,userSelect:"none"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"12px 8px",paddingLeft:`${g*24+8}px`,cursor:"pointer",borderRadius:2,transition:"all 0.2s ease",position:"relative",margin:"2px 0",background:"transparent",borderLeft:`3px solid ${t.accent}`,fontFamily:"Consolas",fontSize:12},onClick:()=>k(s.name),onMouseEnter:f=>{f.currentTarget.style.background=`linear-gradient(135deg, ${t.accentSoft}20 0%, ${t.accent}12 100%)`,f.currentTarget.style.transform="translateX(2px)"},onMouseLeave:f=>{f.currentTarget.style.background="transparent",f.currentTarget.style.transform="translateX(0)"},children:[v(g,u),e.jsx("span",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:16,height:16,marginRight:8,color:t.muted,fontFamily:"Consolas",fontSize:12},children:c?"▼":"▶"}),e.jsx("span",{style:{marginRight:8,color:t.accent,fontFamily:"Consolas"},children:p.blockFull}),e.jsx("span",{style:{fontWeight:600,color:t.accent,marginRight:8,flex:1,fontFamily:"Consolas",fontSize:12},children:s.name}),e.jsx("div",{style:{display:"flex",alignItems:"center",gap:6,flexWrap:"wrap"},children:e.jsxs("span",{style:{padding:"2px 8px",borderRadius:2,fontSize:11,fontWeight:500,backgroundColor:t.backgroundSoft,color:t.muted,fontFamily:"Consolas",border:`1px solid ${t.border}`},children:[s.tables.size," ",s.tables.size===1?"table":"tables"]})})]}),c&&e.jsx("div",{style:{overflow:"hidden",paddingLeft:`${(g+1)*24+36}px`},children:Array.from(s.tables.values()).map(f=>W(f,s.name,g+1))})]},s.name)};return j.length===0?e.jsx(M,{title:"GOOGLE SHEETS CATALOG TREE",children:e.jsxs("div",{style:{padding:"60px 40px",textAlign:"center",color:t.muted,fontFamily:"Consolas",fontSize:12},children:[e.jsx("div",{style:{fontSize:48,marginBottom:16,opacity:.5,fontFamily:"Consolas"},children:p.blockFull}),e.jsx("div",{style:{fontSize:13,fontWeight:600,marginBottom:8,color:t.foreground,fontFamily:"Consolas"},children:"No Google Sheets entries available"}),e.jsx("div",{style:{fontSize:12,opacity:.7,fontFamily:"Consolas"},children:"Google Sheets will appear here once configured."})]})}):e.jsx(M,{title:"GOOGLE SHEETS CATALOG TREE",children:e.jsx("div",{style:{maxHeight:800,overflowY:"auto",overflowX:"hidden",fontFamily:"Consolas",fontSize:12},children:j.map((s,g)=>e.jsx("div",{style:{animationDelay:`${g*.05}s`},children:H(s,0)},s.name))})})},Fe=()=>{const{setPage:C}=de(1,20),{filters:x,setFilter:i}=ge({target_db_engine:"",status:"",active:""}),[r,m]=a.useState(""),[z,F]=a.useState(""),[j,k]=a.useState(null),[w,v]=a.useState(!1),[N,O]=a.useState(null),[W,H]=a.useState([]),[s,g]=a.useState(!0),[c,h]=a.useState(null),[u,f]=a.useState([]),[A,T]=a.useState(!1),[y,_]=a.useState(null),[I,$]=a.useState(!1),[K,R]=a.useState(!1),S=a.useRef(!0),L=a.useCallback(async()=>{if(!S.current)return;const l=Date.now(),b=300;try{g(!0),k(null);const P={page:1,limit:1e4,search:ue(z,100)};x.target_db_engine&&(P.target_db_engine=x.target_db_engine),x.status&&(P.status=x.status),x.active&&(P.active=x.active);const ee=await D.getSheets(P),Q=Date.now()-l,J=Math.max(0,b-Q);await new Promise(te=>setTimeout(te,J)),S.current&&H(ee.data||[])}catch(E){S.current&&k(ne(E))}finally{S.current&&g(!1)}},[x.target_db_engine,x.status,x.active,z]);a.useEffect(()=>{S.current=!0,L();const l=setInterval(()=>{S.current&&!w&&L()},3e4);return()=>{S.current=!1,clearInterval(l)}},[L,w]);const V=a.useCallback(()=>{F(r),C(1)},[r,C]),q=a.useCallback(()=>{m(""),F(""),C(1)},[C]),U=a.useCallback((l,b)=>{i(l,b),C(1)},[i,C]),G=a.useCallback(async l=>{try{k(null),await D.createSheet(l),await L(),v(!1),alert(`Google Sheets "${l.sheet_name}" added successfully.`)}catch(b){if(S.current){const E=b;E.message&&E.message.includes("Network Error")?k("Network error. Please check if the server is running and try again."):k(ne(b))}}},[L]),Z=a.useCallback(l=>{O(l),v(!0)},[]),Y=a.useCallback(async l=>{h(l),T(!0),$(!0);try{const[b,E]=await Promise.all([D.getHistory(l.sheet_name),D.getTableStructure(l.sheet_name).catch(()=>null)]);S.current&&(f(b),_(E))}catch(b){S.current&&(k(ne(b)),f([]),_(null))}finally{S.current&&(T(!1),$(!1))}},[]);return s&&W.length===0?e.jsx(he,{variant:"table"}):e.jsxs("div",{style:{padding:"20px",fontFamily:"Consolas",fontSize:12},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[e.jsxs("h1",{style:{fontSize:14,fontWeight:600,margin:0,color:t.foreground,textTransform:"uppercase",fontFamily:"Consolas"},children:[e.jsx("span",{style:{color:t.accent,marginRight:8},children:p.blockFull}),"GOOGLE SHEETS CATALOG"]}),e.jsx(B,{label:"Google Sheets Info",onClick:()=>R(!0),variant:"ghost"})]}),j&&e.jsx("div",{style:{marginBottom:20},children:e.jsx(M,{title:"ERROR",children:e.jsx("div",{style:{padding:"12px",color:t.danger,fontSize:12,fontFamily:"Consolas"},children:j})})}),e.jsx(M,{title:"SEARCH",children:e.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",padding:"8px 0"},children:[e.jsx("input",{type:"text",placeholder:"Search by sheet name, spreadsheet ID, or target...",value:r,onChange:l=>m(l.target.value),onKeyPress:l=>l.key==="Enter"&&V(),style:{flex:1,padding:"6px 10px",border:`1px solid ${t.border}`,borderRadius:2,fontSize:12,fontFamily:"Consolas",backgroundColor:t.background,color:t.foreground,outline:"none"},onFocus:l=>{l.currentTarget.style.borderColor=t.accent},onBlur:l=>{l.currentTarget.style.borderColor=t.border}}),e.jsx(B,{label:"Search",onClick:V,variant:"primary"}),z&&e.jsx(B,{label:"Clear",onClick:q,variant:"ghost"})]})}),e.jsx("div",{style:{marginTop:20},children:e.jsx(M,{title:"FILTERS",children:e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:12,padding:"8px 0"},children:[e.jsx(B,{label:"Add Google Sheet",onClick:()=>v(!0),variant:"primary"}),e.jsxs("select",{value:x.target_db_engine,onChange:l=>U("target_db_engine",l.target.value),style:{padding:"6px 10px",border:`1px solid ${t.border}`,borderRadius:2,fontSize:12,fontFamily:"Consolas",backgroundColor:t.background,color:t.foreground,cursor:"pointer",outline:"none"},onFocus:l=>{l.currentTarget.style.borderColor=t.accent},onBlur:l=>{l.currentTarget.style.borderColor=t.border},children:[e.jsx("option",{value:"",children:"All Target Engines"}),e.jsx("option",{value:"PostgreSQL",children:"PostgreSQL"}),e.jsx("option",{value:"MariaDB",children:"MariaDB"}),e.jsx("option",{value:"MSSQL",children:"MSSQL"}),e.jsx("option",{value:"MongoDB",children:"MongoDB"}),e.jsx("option",{value:"Oracle",children:"Oracle"})]}),e.jsxs("select",{value:x.status,onChange:l=>U("status",l.target.value),style:{padding:"6px 10px",border:`1px solid ${t.border}`,borderRadius:2,fontSize:12,fontFamily:"Consolas",backgroundColor:t.background,color:t.foreground,cursor:"pointer",outline:"none"},onFocus:l=>{l.currentTarget.style.borderColor=t.accent},onBlur:l=>{l.currentTarget.style.borderColor=t.border},children:[e.jsx("option",{value:"",children:"All Statuses"}),e.jsx("option",{value:"SUCCESS",children:"SUCCESS"}),e.jsx("option",{value:"ERROR",children:"ERROR"}),e.jsx("option",{value:"IN_PROGRESS",children:"IN_PROGRESS"}),e.jsx("option",{value:"PENDING",children:"PENDING"})]}),e.jsxs("select",{value:x.active,onChange:l=>U("active",l.target.value),style:{padding:"6px 10px",border:`1px solid ${t.border}`,borderRadius:2,fontSize:12,fontFamily:"Consolas",backgroundColor:t.background,color:t.foreground,cursor:"pointer",outline:"none"},onFocus:l=>{l.currentTarget.style.borderColor=t.accent},onBlur:l=>{l.currentTarget.style.borderColor=t.border},children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"true",children:"Active"}),e.jsx("option",{value:"false",children:"Inactive"})]})]})})}),s?e.jsx("div",{style:{marginTop:20},children:e.jsx(M,{title:"LOADING",children:e.jsxs("div",{style:{padding:"40px",textAlign:"center",fontSize:12,fontFamily:"Consolas",color:t.muted},children:[p.blockFull," Loading tree view..."]})})}):e.jsx("div",{style:{marginTop:20},children:e.jsx(fe,{entries:W,onEntryClick:l=>Y(l),onDuplicate:Z})}),c&&e.jsx(ie,{title:`Execution Timeline: ${c.sheet_name}`,history:u,loading:A,tableStructure:y,loadingStructure:I,onClose:()=>{h(null),f([]),_(null)},renderMappingGraph:(l,b)=>e.jsx(ce,{tableStructure:l,loading:b,sourceTitle:"Source: Google Sheets",sourceType:"Google Sheets",sourceInfo:[{label:"Sheet Name",value:c.sheet_name},{label:"Spreadsheet ID",value:c.spreadsheet_id},{label:"Range",value:c.range||"Default"},{label:"Auth Type",value:c.api_key?"API Key":c.access_token?"OAuth":"None"}]})}),w&&e.jsx(me,{onClose:()=>{v(!1),O(null)},onSave:G,initialData:N||void 0}),K&&e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>R(!1),children:e.jsx("div",{style:{width:"90%",maxWidth:1e3,maxHeight:"90vh",overflowY:"auto"},onClick:l=>l.stopPropagation(),children:e.jsx(M,{title:"GOOGLE SHEETS CATALOG PLAYBOOK",children:e.jsxs("div",{style:{padding:16,fontFamily:"Consolas",fontSize:12,lineHeight:1.6},children:[e.jsxs("div",{style:{marginBottom:24},children:[e.jsxs("div",{style:{fontSize:14,fontWeight:600,color:t.accent,marginBottom:12},children:[p.blockFull," OVERVIEW"]}),e.jsx("div",{style:{color:t.foreground,marginLeft:16},children:"The Google Sheets Catalog synchronizes data from Google Sheets spreadsheets to target databases. Sheets are processed using full load strategy (no incremental sync). Each sync performs complete data replacement (TRUNCATE and INSERT) to ensure data consistency."})]}),e.jsxs("div",{style:{marginBottom:24},children:[e.jsxs("div",{style:{fontSize:14,fontWeight:600,color:t.accent,marginBottom:12},children:[p.blockFull," SUPPORTED TARGET ENGINES"]}),e.jsxs("div",{style:{color:t.foreground,marginLeft:16},children:[e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("span",{style:{color:t.muted},children:"├─"})," ",e.jsx("strong",{children:"PostgreSQL:"})," Native PostgreSQL target"]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("span",{style:{color:t.muted},children:"├─"})," ",e.jsx("strong",{children:"MariaDB:"})," MySQL-compatible target"]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("span",{style:{color:t.muted},children:"├─"})," ",e.jsx("strong",{children:"MSSQL:"})," Microsoft SQL Server target"]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("span",{style:{color:t.muted},children:"├─"})," ",e.jsx("strong",{children:"MongoDB:"})," MongoDB document store target"]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("span",{style:{color:t.muted},children:"└─"})," ",e.jsx("strong",{children:"Oracle:"})," Oracle Database target"]})]})]}),e.jsxs("div",{style:{marginBottom:24},children:[e.jsxs("div",{style:{fontSize:14,fontWeight:600,color:t.accent,marginBottom:12},children:[p.blockFull," SYNC PROCESS"]}),e.jsxs("div",{style:{color:t.foreground,marginLeft:16},children:[e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("span",{style:{color:t.muted},children:"├─"})," ",e.jsx("strong",{children:"Full Load:"})," Each sync performs complete data replacement (TRUNCATE and INSERT)"]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("span",{style:{color:t.muted},children:"├─"})," ",e.jsx("strong",{children:"Status Tracking:"})," IN_PROGRESS during sync, SUCCESS/ERROR on completion"]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("span",{style:{color:t.muted},children:"├─"})," ",e.jsx("strong",{children:"Data Transformation:"})," Values are cleaned and normalized for target database compatibility"]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("span",{style:{color:t.muted},children:"└─"})," ",e.jsx("strong",{children:"Error Handling:"})," Failed syncs are logged with error messages"]})]})]}),e.jsxs("div",{style:{marginBottom:24},children:[e.jsxs("div",{style:{fontSize:14,fontWeight:600,color:t.accent,marginBottom:12},children:[p.blockFull," AUTHENTICATION"]}),e.jsx("div",{style:{color:t.foreground,marginLeft:16},children:"To connect Google Sheets, you need to authenticate with Google using OAuth 2.0. The system will guide you through the authentication process and securely store your credentials for automatic synchronization."})]}),e.jsxs("div",{style:{marginTop:16,padding:12,background:t.backgroundSoft,borderRadius:2,border:`1px solid ${t.border}`},children:[e.jsxs("div",{style:{fontSize:11,fontWeight:600,color:t.muted,marginBottom:4},children:[p.blockSemi," Best Practices"]}),e.jsxs("div",{style:{fontSize:11,color:t.foreground},children:["• Ensure Google Sheets have consistent structure and formatting",e.jsx("br",{}),"• Use named ranges for better data organization",e.jsx("br",{}),"• Monitor execution history for sync errors",e.jsx("br",{}),"• Keep Google Sheets credentials secure and up-to-date",e.jsx("br",{}),"• Each sync performs full load (TRUNCATE and INSERT) - no incremental updates",e.jsx("br",{}),"• Use column mapping to handle schema differences",e.jsx("br",{}),"• Test with small sheets before syncing large datasets"]})]}),e.jsx("div",{style:{marginTop:16,textAlign:"right"},children:e.jsx(B,{label:"Close",onClick:()=>R(!1),variant:"ghost"})})]})})})})]})};export{Fe as default};
