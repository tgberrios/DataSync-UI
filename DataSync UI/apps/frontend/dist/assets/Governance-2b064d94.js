import{m as me,f as N,b as o,t,r as g,j as e,e as p,n as ae,C as je,o as be,P as ve,p as xe}from"./index-f6ac47b8.js";import{u as Ce}from"./usePagination-c6b4a268.js";import{u as _e}from"./useTableFilters-7bb371e7.js";import{e as ye}from"./errorHandler-5ea9ae85.js";import{A as W}from"./AsciiPanel-5614714e.js";import{A as $}from"./AsciiButton-4907e65e.js";import{C as Se,a as Ae,L as Ne,A as Fe,p as we,b as Te,c as ze}from"./chart-f26d22df.js";import{S as Le}from"./SkeletonLoader-792007e7.js";const ke=me`
  from {
    opacity: 0;
    transform: translateY(-5px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
`,fe=N.div`
  font-family: Consolas;
  font-size: 12px;
  background: ${o.background};
  border: 1px solid ${o.border};
  border-radius: 2px;
  padding: 16px;
  max-height: 800px;
  overflow-y: auto;
  overflow-x: hidden;
  position: relative;
  
  &::-webkit-scrollbar {
    width: 8px;
  }
  
  &::-webkit-scrollbar-track {
    background: ${o.backgroundSoft};
    border-radius: 2px;
  }
  
  &::-webkit-scrollbar-thumb {
    background: ${o.border};
    border-radius: 2px;
    transition: background 0.2s ease;
    
    &:hover {
      background: ${o.accent};
    }
  }
`,Ee=N.div`
  user-select: none;
  margin: 4px 0;
`,Re=N.div`
  display: flex;
  align-items: center;
  padding: 8px;
  border-radius: 2px;
  transition: all 0.2s ease;
  cursor: pointer;
  font-family: Consolas;
  font-size: 12px;
  background: transparent;
  
  &:hover {
    background: ${o.backgroundSoft};
  }
`,Be=N.div`
  width: 16px;
  height: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-right: 8px;
  border-radius: 2px;
  background: ${i=>i.$isExpanded?o.accent:o.backgroundSoft};
  color: ${i=>i.$isExpanded?"#ffffff":o.accent};
  font-size: 10px;
  font-weight: bold;
  font-family: Consolas;
  transition: all 0.2s ease;
  flex-shrink: 0;
  
  &:hover {
    transform: scale(1.1);
  }
`,Ie=N.span`
  font-weight: 500;
  font-family: Consolas;
  font-size: 13px;
  color: ${o.accent};
  flex: 1;
  display: flex;
  align-items: center;
  gap: 8px;
`,$e=N.span`
  background: ${o.backgroundSoft};
  color: ${o.foreground};
  padding: 2px 8px;
  border-radius: 2px;
  font-size: 11px;
  font-weight: 500;
  font-family: Consolas;
  border: 1px solid ${o.border};
  transition: all 0.2s ease;
  
  &:hover {
    background: ${o.accentLight};
    border-color: ${o.accent};
    color: ${o.accent};
    transform: translateY(-1px);
  }
`,We=N.div`
  max-height: ${i=>i.$isExpanded?"10000px":"0"};
  overflow: hidden;
  transition: max-height 0.3s ease-out;
  margin-left: 28px;
`,He=N.div`
  padding: 8px;
  padding-left: ${i=>(i.$level||0)*24+36}px;
  margin: 2px 0;
  border-radius: 2px;
  background: transparent;
  border: 1px solid ${o.border};
  transition: all 0.2s ease;
  cursor: pointer;
  font-family: Consolas;
  font-size: 12px;
  
  &:hover {
    background: ${o.backgroundSoft};
    border-color: ${o.accent};
    transform: translateX(4px);
  }
`,oe=i=>{if(!i)return o.muted;switch(i){case"HEALTHY":case"EXCELLENT":return o.success;case"WARNING":return o.warning;case"CRITICAL":case"EMERGENCY":return o.danger;default:return o.muted}},pe=i=>i>=90?o.success:i>=70?o.accent:i>=50?o.warning:o.danger;N.div`
  font-size: 3em;
  margin-bottom: ${t.spacing.md};
  animation: ${ke} 0.5s ease-out;
  font-family: "Consolas, 'Source Code Pro', monospace";
  opacity: 0.5;
`;N.div`
  font-size: 1.1em;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
  font-weight: 500;
  margin-bottom: ${t.spacing.sm};
`;N.div`
  font-size: 0.9em;
  opacity: 0.7;
`;const De=({items:i,onItemClick:z})=>{const[G,H]=g.useState(new Set),j=g.useMemo(()=>{const s=new Map;return i.forEach(u=>{const m=u.schema_name||"default";s.has(m)||s.set(m,{name:m,tables:[]}),s.get(m).tables.push(u)}),Array.from(s.values()).sort((u,m)=>u.name.localeCompare(m.name))},[i]),F=s=>{H(u=>{const m=new Set(u);return m.has(s)?m.delete(s):m.add(s),m})},q=(s,u)=>{if(s===0)return null;const m=[];for(let w=0;w<s-1;w++)m.push("│  ");return m.push(u?"└─ ":"├─ "),e.jsx("span",{style:{color:o.muted,fontFamily:"Consolas",fontSize:12},children:m.join("")})},M=s=>{if(s==null)return"N/A";const u=Number(s);return isNaN(u)?"N/A":u.toLocaleString()},X=s=>{if(s==null)return"N/A";const u=Number(s);return isNaN(u)?"N/A":u<1?`${(u*1024).toFixed(2)} KB`:`${u.toFixed(2)} MB`},a=(s,u)=>{const m=G.has(s.name),w=!1;return e.jsxs(Ee,{children:[e.jsxs(Re,{onClick:()=>F(s.name),children:[q(u,w),e.jsx(Be,{$isExpanded:m,children:m?p.arrowDown:p.arrowRight}),e.jsx("span",{style:{marginRight:"8px",color:o.accent,fontFamily:"Consolas"},children:p.blockFull}),e.jsxs(Ie,{children:[s.name,e.jsx($e,{children:s.tables.length})]})]}),e.jsx(We,{$isExpanded:m,children:m&&s.tables.map((L,J)=>Y(L,s.name,u+1,J===s.tables.length-1))})]},s.name)},Y=(s,u,m,w)=>e.jsxs(He,{$level:m,onClick:()=>z==null?void 0:z(s),children:[q(m,w),e.jsx("span",{style:{marginRight:"8px",color:o.muted,fontFamily:"Consolas"},children:p.blockFull}),e.jsx("span",{style:{marginRight:"8px",fontWeight:500,color:o.foreground,fontFamily:"Consolas"},children:s.table_name||"N/A"}),s.inferred_source_engine&&e.jsx("span",{style:{padding:"2px 8px",borderRadius:2,fontSize:11,fontFamily:"Consolas",backgroundColor:o.backgroundSoft,color:o.foreground,border:`1px solid ${o.border}`,marginRight:4},children:s.inferred_source_engine}),s.data_category&&e.jsx("span",{style:{padding:"2px 8px",borderRadius:2,fontSize:11,fontFamily:"Consolas",backgroundColor:o.backgroundSoft,color:o.foreground,border:`1px solid ${o.border}`,marginRight:4},children:s.data_category}),s.health_status&&e.jsx("span",{style:{padding:"2px 8px",borderRadius:2,fontSize:11,fontFamily:"Consolas",backgroundColor:oe(s.health_status)+"20",color:oe(s.health_status),border:`1px solid ${oe(s.health_status)}`,marginRight:4},children:s.health_status}),s.sensitivity_level&&e.jsx("span",{style:{padding:"2px 8px",borderRadius:2,fontSize:11,fontFamily:"Consolas",backgroundColor:oe(s.sensitivity_level)+"20",color:oe(s.sensitivity_level),border:`1px solid ${oe(s.sensitivity_level)}`,marginRight:4},children:s.sensitivity_level}),s.data_quality_score!==void 0&&e.jsxs("span",{style:{padding:"2px 8px",borderRadius:2,fontSize:11,fontFamily:"Consolas",backgroundColor:pe(s.data_quality_score)+"20",color:pe(s.data_quality_score),border:`1px solid ${pe(s.data_quality_score)}`,marginRight:4},children:[s.data_quality_score,"%"]}),e.jsxs("span",{style:{marginLeft:"auto",color:o.muted,fontSize:11,fontFamily:"Consolas"},children:[M(s.total_rows)," rows ",p.bullet," ",X(s.table_size_mb)]})]},s.id);return j.length===0?e.jsx(fe,{children:e.jsxs("div",{style:{padding:"60px 40px",textAlign:"center",color:o.muted,fontFamily:"Consolas"},children:[e.jsx("div",{style:{fontSize:48,marginBottom:16,fontFamily:"Consolas",opacity:.5},children:p.blockFull}),e.jsx("div",{style:{fontSize:13,fontFamily:"Consolas",fontWeight:600,marginBottom:8,color:o.foreground},children:"No governance data available"}),e.jsx("div",{style:{fontSize:12,fontFamily:"Consolas",opacity:.7,color:o.muted},children:"Data will appear here once collected."})]})}):e.jsx(fe,{children:j.map(s=>a(s,0))})};Se.register(Ae,Ne,Fe,we,Te,ze);const Me=({data:i,color:z,height:G=4,width:H=30,labels:j})=>{const[F,q]=g.useState(null),[M,X]=g.useState(null),a=g.useRef(null);if(!i||i.length===0)return e.jsx("span",{style:{color:o.muted},children:p.dot.repeat(H)});const Y=i.slice(-H),s=j?j.slice(-H):[],u=Math.min(...Y),w=Math.max(...Y)-u||1,L=["▁","▂","▃","▄","▅","▆","▇","█"],J=P=>{if(w===0)return L[0];const k=(P-u)/w,D=Math.floor(k*(L.length-1));return L[Math.max(0,Math.min(L.length-1,D))]},_=(P,k)=>{if(a.current){const D=a.current.getBoundingClientRect();X({x:P.clientX-D.left,y:P.clientY-D.top-30}),q(k)}},O=()=>{q(null),X(null)};return e.jsxs("div",{ref:a,style:{position:"relative",display:"inline-block"},onMouseLeave:O,children:[e.jsx("span",{style:{color:z,fontFamily:"Consolas",fontSize:11,letterSpacing:0,lineHeight:1,display:"inline-block"},children:Y.map((P,k)=>e.jsx("span",{onMouseMove:D=>_(D,k),style:{cursor:"pointer",transition:"all 0.2s ease",transform:F===k?"scale(1.2)":"scale(1)",display:"inline-block",position:"relative"},children:J(P)},k))}),F!==null&&M&&e.jsxs("div",{style:{position:"absolute",left:`${M.x}px`,top:`${M.y}px`,transform:"translateX(-50%)",backgroundColor:o.background,border:`1px solid ${o.border}`,borderRadius:2,padding:"6px 10px",fontSize:10,fontFamily:"Consolas",color:o.foreground,whiteSpace:"nowrap",zIndex:1e3,boxShadow:"0 4px 12px rgba(0,0,0,0.2)",pointerEvents:"none",animation:"fadeInUp 0.15s ease-out",transition:"opacity 0.15s ease, transform 0.15s ease"},children:[e.jsx("div",{style:{color:o.accent,fontWeight:600,marginBottom:2},children:Y[F].toFixed(2)}),s[F]&&e.jsx("div",{style:{color:o.muted,fontSize:9},children:new Date(s[F]).toLocaleTimeString()})]})]})},Pe=({selectedTable:i})=>{const[z,G]=g.useState(30),[H,j]=g.useState(!1),[F,q]=g.useState(null),[M,X]=g.useState([]),[a,Y]=g.useState(null),s=g.useRef(null),u=g.useCallback(async()=>{var S,b,d,x;s.current&&s.current.abort(),s.current=new AbortController;const r=s.current;j(!0),q(null);try{const f={days:z,limit:1e4};i&&(f.schema=i.schema_name,f.table=i.table_name,f.engine=i.inferred_source_engine);const[T,A]=await Promise.all([ae.getGovernanceHistory(f,r.signal),ae.getGovernanceStats({days:z},r.signal)]);!r.signal.aborted&&s.current===r&&(X(((S=T.data)==null?void 0:S.data)||[]),Y(A))}catch(f){const T=f.name==="CanceledError"||f.name==="AbortError"||((b=f.message)==null?void 0:b.includes("canceled"))||((d=f.message)==null?void 0:d.includes("aborted"))||((x=f.message)==null?void 0:x.includes("Request cancelled"));if(!T&&s.current===r){const A=ye(f);q(A),console.error("Error fetching governance charts data:",f)}else if(T)return}finally{s.current===r&&j(!1)}},[z,i]);g.useEffect(()=>(u(),()=>{s.current&&s.current.abort()}),[z,i]);const m=()=>{if(!M.length)return null;const r=[...M].sort((b,d)=>new Date(b.snapshot_date).getTime()-new Date(d.snapshot_date).getTime());let S;if(i)S=r;else{const b=new Map;r.forEach(d=>{const x=new Date(d.snapshot_date).toISOString();b.has(x)||b.set(x,{data_quality_score:0,table_size_mb:0,total_rows:0,fragmentation_percentage:0,count:0,timestamp:x});const f=b.get(x);f.data_quality_score+=Number(d.data_quality_score)||0,f.table_size_mb+=Number(d.table_size_mb)||0,f.total_rows+=Number(d.total_rows)||0,f.fragmentation_percentage+=Number(d.fragmentation_percentage)||0,f.count+=1}),S=Array.from(b.values()).map(d=>({snapshot_date:d.timestamp,data_quality_score:d.count>0?d.data_quality_score/d.count:0,table_size_mb:d.table_size_mb,total_rows:d.total_rows,fragmentation_percentage:d.count>0?d.fragmentation_percentage/d.count:0})).sort((d,x)=>new Date(d.snapshot_date).getTime()-new Date(x.snapshot_date).getTime())}return S},w=(r,S,b,d,x,f,T,A)=>{const Z=d.length>0&&Number(d[d.length-1])||0,Q=Number(S)||Z||0,re=d.length>1,he=re?Math.min(...d.map(y=>Number(y)||0)):0,ie=re?Math.max(...d.map(y=>Number(y)||0)):0,le=T||(ie>0?ie:100),n=le>0?Q/le*100:0,h=Math.min(100,Math.max(0,n));return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8,padding:"12px",backgroundColor:o.background,borderRadius:2,border:`1px solid ${o.border}`,transition:"all 0.2s ease"},onMouseEnter:y=>{y.currentTarget.style.borderColor=x,y.currentTarget.style.backgroundColor=o.backgroundSoft},onMouseLeave:y=>{y.currentTarget.style.borderColor=o.border,y.currentTarget.style.backgroundColor=o.background},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:4},children:[e.jsxs("div",{style:{fontSize:11,color:o.accent,fontWeight:500,display:"flex",alignItems:"center",gap:6,fontFamily:"Consolas"},children:[e.jsx("span",{children:f}),e.jsx("span",{children:r})]}),e.jsxs("div",{style:{fontSize:13,fontWeight:600,color:x,fontFamily:"Consolas"},children:[typeof Q=="number"?Q.toFixed(1):Number(Q||0).toFixed(1),b]})]}),e.jsx("div",{style:{width:"100%",height:6,backgroundColor:o.backgroundSoft,borderRadius:1,overflow:"hidden",border:`1px solid ${o.border}`},children:e.jsx("div",{style:{width:`${h}%`,height:"100%",backgroundColor:x,transition:"width 0.3s ease",borderRadius:1}})}),e.jsx(Me,{data:d,color:x,width:40,labels:A}),re&&e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:9,color:o.muted,marginTop:2,fontFamily:"Consolas"},children:[e.jsxs("span",{children:["Min: ",he.toFixed(1),b]}),e.jsxs("span",{children:["Max: ",ie.toFixed(1),b]})]})]})},L=()=>a!=null&&a.summary?{labels:["HEALTHY","WARNING","CRITICAL"],datasets:[{data:[parseInt(a.summary.healthy_count||0),parseInt(a.summary.warning_count||0),parseInt(a.summary.critical_count||0)],backgroundColor:[o.success+"80",o.warning+"80",o.danger+"80"],borderColor:[o.success,o.warning,o.danger],borderWidth:2}]}:null,J=()=>!(a!=null&&a.byEngine)||!a.byEngine.length?null:{labels:a.byEngine.map(r=>r.inferred_source_engine||"Unknown"),datasets:[{label:"Tables",data:a.byEngine.map(r=>parseInt(r.table_count||0)),backgroundColor:[o.accent+"80",o.success+"80",o.warning+"80",o.danger+"80","#9b59b680"],borderColor:[o.accent,o.success,o.warning,o.danger,"#9b59b6"],borderWidth:2}]},_=m(),O=L(),P=J(),k=_?_.map(r=>Number(r.data_quality_score)||0):[],D=_?_.map(r=>r.snapshot_date):[],K=_?_.map(r=>Number(r.table_size_mb)||0):[],U=_?_.map(r=>Number(r.total_rows)||0):[],ee=_?_.map(r=>Number(r.fragmentation_percentage)||0):[],E=k.length>0&&Number(k[k.length-1])||0,se=K.length>0&&Number(K[K.length-1])||0,ue=U.length>0&&Number(U[U.length-1])||0,C=ee.length>0&&Number(ee[ee.length-1])||0;return e.jsxs("div",{style:{fontFamily:"Consolas",fontSize:12},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16,flexWrap:"wrap",gap:12},children:[e.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[e.jsx("span",{style:{color:o.muted,fontSize:11},children:"Time Range:"}),e.jsxs("select",{value:z,onChange:r=>G(Number(r.target.value)),style:{padding:"4px 8px",border:`1px solid ${o.border}`,borderRadius:2,fontFamily:"Consolas",fontSize:11,backgroundColor:o.background,color:o.foreground},children:[e.jsx("option",{value:1,children:"Last 24 hours"}),e.jsx("option",{value:7,children:"Last 7 days"}),e.jsx("option",{value:30,children:"Last 30 days"}),e.jsx("option",{value:90,children:"Last 90 days"}),e.jsx("option",{value:180,children:"Last 6 months"}),e.jsx("option",{value:240,children:"Last 8 months"})]})]}),e.jsx($,{label:"Refresh",onClick:u,variant:"ghost",disabled:H})]}),F&&e.jsx(W,{title:"ERROR",children:e.jsx("div",{style:{padding:"12px",color:o.danger,fontSize:11,fontFamily:"Consolas"},children:F})}),H&&e.jsx("div",{style:{padding:20,textAlign:"center",color:o.muted},children:"Loading charts..."}),!H&&!F&&_&&e.jsxs("div",{style:{border:`1px solid ${o.border}`,borderRadius:2,padding:16,backgroundColor:o.backgroundSoft,marginBottom:16},children:[e.jsxs("h2",{style:{fontSize:14,fontFamily:"Consolas",fontWeight:600,color:o.accent,margin:0,marginBottom:16,paddingBottom:8,borderBottom:`1px solid ${o.border}`},children:[p.blockFull," GOVERNANCE METRICS"]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[w("Quality Score",E,"%",k,E>=90?o.success:E>=70?o.warning:o.danger,p.blockFull,100,D),w("Table Size",se," MB",K,o.accent,p.blockSemi,void 0,D),w("Total Rows",ue,"",U,o.success,p.blockLight,void 0,D),w("Fragmentation",C,"%",ee,C>30?o.danger:C>10?o.warning:o.success,p.dot,100,D)]})]}),!H&&!F&&e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16,marginBottom:16},children:[O&&(()=>{const r=O.datasets[0].data.reduce((Z,Q)=>Z+Q,0),S=O.datasets[0].data[0]||0,b=O.datasets[0].data[1]||0,d=O.datasets[0].data[2]||0,x=r>0?S/r*100:0,f=r>0?b/r*100:0,T=r>0?d/r*100:0,A=40;return e.jsx(W,{title:"HEALTH DISTRIBUTION",children:e.jsxs("div",{style:{fontFamily:"Consolas",fontSize:11,padding:"12px",lineHeight:1.8},children:[e.jsxs("div",{style:{marginBottom:12},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:4},children:[e.jsx("span",{style:{color:o.muted},children:"├─ HEALTHY:"}),e.jsxs("span",{style:{color:o.success,fontWeight:600},children:[S," (",x.toFixed(1),"%)"]})]}),e.jsx("div",{style:{display:"flex",alignItems:"center",gap:8,marginLeft:12},children:e.jsxs("span",{style:{color:o.success},children:[p.blockFull.repeat(Math.round(x/100*A)),p.blockLight.repeat(A-Math.round(x/100*A))]})})]}),e.jsxs("div",{style:{marginBottom:12},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:4},children:[e.jsx("span",{style:{color:o.muted},children:"├─ WARNING:"}),e.jsxs("span",{style:{color:o.warning,fontWeight:600},children:[b," (",f.toFixed(1),"%)"]})]}),e.jsx("div",{style:{display:"flex",alignItems:"center",gap:8,marginLeft:12},children:e.jsxs("span",{style:{color:o.warning},children:[p.blockFull.repeat(Math.round(f/100*A)),p.blockLight.repeat(A-Math.round(f/100*A))]})})]}),e.jsxs("div",{style:{marginBottom:4},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:4},children:[e.jsx("span",{style:{color:o.muted},children:"└─ CRITICAL:"}),e.jsxs("span",{style:{color:o.danger,fontWeight:600},children:[d," (",T.toFixed(1),"%)"]})]}),e.jsx("div",{style:{display:"flex",alignItems:"center",gap:8,marginLeft:12},children:e.jsxs("span",{style:{color:o.danger},children:[p.blockFull.repeat(Math.round(T/100*A)),p.blockLight.repeat(A-Math.round(T/100*A))]})})]}),e.jsxs("div",{style:{marginTop:16,paddingTop:12,borderTop:`1px solid ${o.border}`,display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{color:o.muted,fontSize:10},children:"Total:"}),e.jsxs("span",{style:{color:o.foreground,fontWeight:600,fontSize:10},children:[r," tables"]})]})]})})})(),P&&(a==null?void 0:a.byEngine)&&(()=>{const r=a.byEngine,S=r.reduce((d,x)=>d+parseInt(x.table_count||0),0),b=40;return e.jsx(W,{title:"ENGINE DISTRIBUTION",children:e.jsxs("div",{style:{fontFamily:"Consolas",fontSize:11,padding:"12px",lineHeight:1.8},children:[r.map((d,x)=>{const f=parseInt(d.table_count||0),T=S>0?f/S*100:0,A=x===r.length-1,Z=A?"└─":"├─",Q=d.inferred_source_engine||"Unknown";return e.jsxs("div",{style:{marginBottom:A?4:12},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:4},children:[e.jsxs("span",{style:{color:o.muted},children:[Z," ",Q,":"]}),e.jsxs("span",{style:{color:o.accent,fontWeight:600},children:[f," (",T.toFixed(1),"%)"]})]}),e.jsx("div",{style:{display:"flex",alignItems:"center",gap:8,marginLeft:12},children:e.jsxs("span",{style:{color:o.accent},children:[p.blockFull.repeat(Math.round(T/100*b)),p.blockLight.repeat(b-Math.round(T/100*b))]})})]},x)}),e.jsxs("div",{style:{marginTop:16,paddingTop:12,borderTop:`1px solid ${o.border}`,display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{color:o.muted,fontSize:10},children:"Total:"}),e.jsxs("span",{style:{color:o.foreground,fontWeight:600,fontSize:10},children:[S," tables"]})]})]})})})()]}),!H&&!F&&(a==null?void 0:a.summary)&&e.jsxs("div",{style:{border:`1px solid ${o.border}`,borderRadius:2,padding:16,backgroundColor:o.backgroundSoft,marginBottom:16},children:[e.jsxs("h2",{style:{fontSize:14,fontFamily:"Consolas",fontWeight:600,color:o.accent,margin:0,marginBottom:16,paddingBottom:8,borderBottom:`1px solid ${o.border}`},children:[p.blockFull," GOVERNANCE SUMMARY"]}),e.jsxs("div",{style:{fontFamily:"Consolas",fontSize:11,lineHeight:1.8,color:o.foreground},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"},children:[e.jsx("span",{style:{color:o.muted},children:"├─ Total Tables:"}),e.jsx("span",{style:{fontWeight:500,marginLeft:"20px"},children:a.summary.total_tables||0})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"},children:[e.jsx("span",{style:{color:o.muted},children:"├─ Healthy:"}),e.jsx("span",{style:{fontWeight:500,marginLeft:"20px",color:o.success},children:a.summary.healthy_count||0})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"},children:[e.jsx("span",{style:{color:o.muted},children:"├─ Warning:"}),e.jsx("span",{style:{fontWeight:500,marginLeft:"20px",color:o.warning},children:a.summary.warning_count||0})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"},children:[e.jsx("span",{style:{color:o.muted},children:"├─ Critical:"}),e.jsx("span",{style:{fontWeight:500,marginLeft:"20px",color:o.danger},children:a.summary.critical_count||0})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"},children:[e.jsx("span",{style:{color:o.muted},children:"├─ Avg Quality Score:"}),e.jsxs("span",{style:{fontWeight:500,marginLeft:"20px",color:parseFloat(a.summary.avg_quality_score||0)>=90?o.success:parseFloat(a.summary.avg_quality_score||0)>=70?o.warning:o.danger},children:[parseFloat(a.summary.avg_quality_score||0).toFixed(2),"%"]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"},children:[e.jsx("span",{style:{color:o.muted},children:"├─ Total Size:"}),e.jsxs("span",{style:{fontWeight:500,marginLeft:"20px"},children:[(parseFloat(a.summary.total_size_mb||0)/1024).toFixed(2)," GB"]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"},children:[e.jsx("span",{style:{color:o.muted},children:"├─ Engines:"}),e.jsx("span",{style:{fontWeight:500,marginLeft:"20px"},children:a.summary.engine_count||0})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{color:o.muted},children:"└─ Schemas:"}),e.jsx("span",{style:{fontWeight:500,marginLeft:"20px"},children:a.summary.schema_count||0})]})]})]})]})};me`
  from {
    opacity: 0;
    transform: translateY(-5px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
`;me`
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
`;const ne=N.div`
  font-family: 'Consolas';
  font-size: 12px;
`,R=N.div`
  margin-bottom: ${t.spacing.md};
  padding-bottom: ${t.spacing.sm};
  border-bottom: 1px solid ${o.border};
  
  &:last-child {
    margin-bottom: 0;
    border-bottom: none;
  }
`,B=N.h3`
  font-size: 13px;
  font-family: 'Consolas';
  font-weight: 600;
  color: ${o.foreground};
  margin: 0 0 ${t.spacing.sm} 0;
  padding-bottom: ${t.spacing.xs};
  border-bottom: 2px solid ${o.accent};
`,I=N.div`
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: ${t.spacing.sm};
`,l=N.div`
  color: ${o.muted};
  font-weight: 500;
  font-size: 11px;
  font-family: 'Consolas';
`,c=N.div`
  color: ${o.foreground};
  font-size: 12px;
  font-family: 'Consolas';
`,V=N.span`
  padding: ${t.spacing.xs} ${t.spacing.sm};
  border-radius: 2;
  font-size: 11px;
  font-family: 'Consolas';
  background-color: ${i=>v(i.$status)+"20"};
  color: ${i=>v(i.$status)};
  border: 1px solid ${i=>v(i.$status)};
`,Ge=N.span`
  padding: ${t.spacing.xs} ${t.spacing.sm};
  border-radius: 2;
  font-size: 11px;
  font-family: 'Consolas';
  background-color: ${i=>te(i.$score)+"20"};
  color: ${i=>te(i.$score)};
  border: 1px solid ${i=>te(i.$score)};
`,v=i=>{if(!i)return o.muted;switch(i){case"HEALTHY":case"EXCELLENT":return o.accent;case"WARNING":return o.muted;case"CRITICAL":case"EMERGENCY":return o.foreground;default:return o.muted}},te=i=>i>=90?o.accent:i>=70?o.accent:i>=50?o.muted:o.foreground,Je=()=>{const{page:i,limit:z,setPage:G,setLimit:H}=Ce(1,20,1e3),{filters:j,setFilter:F,clearFilters:q}=_e({engine:"",category:"",health:"",domain:"",sensitivity:""}),[M,X]=g.useState(null),[a,Y]=g.useState(null),[s,u]=g.useState("overview"),[m,w]=g.useState([]),[L,J]=g.useState({total:0,totalPages:0,currentPage:1,limit:20}),[_,O]=g.useState({}),[P,k]=g.useState(!0),[D,K]=g.useState(!1),[U,ee]=g.useState("list"),E=g.useRef(!0),se=g.useCallback(async()=>{if(!E.current)return;const n=Date.now(),h=300;try{k(!0),X(null);const y=await ae.getGovernanceData({page:i,limit:z,engine:j.engine,category:j.category,health:j.health,domain:j.domain,sensitivity:j.sensitivity}),ce=Date.now()-n,de=Math.max(0,h-ce);await new Promise(ge=>setTimeout(ge,de)),E.current&&(w(y.data||[]),J(y.pagination||{total:0,totalPages:0,currentPage:1,limit:20}))}catch(y){E.current&&X(ye(y))}finally{E.current&&k(!1)}},[i,z,j.engine,j.category,j.health,j.domain,j.sensitivity]);g.useEffect(()=>{E.current=!0,(async()=>{await se();try{const y=await ae.getGovernanceMetrics();E.current&&O(y||{})}catch(y){E.current&&console.error("Error loading metrics:",y)}})();const h=setInterval(()=>{E.current&&(se(),ae.getGovernanceMetrics().then(y=>{E.current&&O(y||{})}).catch(y=>{console.error("Error loading metrics:",y)}))},3e4);return()=>{E.current=!1,clearInterval(h)}},[se]);const ue=g.useCallback(n=>{n&&(Y(h=>h&&n.id&&h.id===n.id||h&&n.schema_name&&n.table_name&&h.schema_name===n.schema_name&&h.table_name===n.table_name?null:n),u("overview"))},[]),C=g.useCallback(n=>n?new Date(n).toLocaleString():"N/A",[]),r=g.useCallback(n=>n==null?"N/A":n?"Yes":"No",[]),S=g.useCallback(n=>n==null?"N/A":`${Number(n).toFixed(2)}%`,[]),b=g.useCallback(n=>{if(n==null)return"N/A";const h=Number(n);return isNaN(h)?"N/A":h>=1024?`${(h/1024).toFixed(2)} GB`:`${h.toFixed(2)} MB`},[]),d=g.useCallback(n=>{if(n==null)return"N/A";const h=Number(n);return isNaN(h)?"N/A":h.toLocaleString()},[]);g.useCallback(n=>({TRANSACTIONAL:"Data that represents business transactions and events that occur in real-time",ANALYTICAL:"Data used for analysis, reporting, and business intelligence purposes",REFERENCE:"Lookup tables and master data used across multiple systems",MASTER_DATA:"Core business entities like customers, products, and suppliers",OPERATIONAL:"Data used for day-to-day operational processes and workflows",TEMPORAL:"Time-series data that tracks changes over time",GEOSPATIAL:"Location-based data including coordinates and geographic information",FINANCIAL:"Financial transactions, accounts, and monetary data",COMPLIANCE:"Data required for regulatory compliance and auditing",TECHNICAL:"System-generated data for technical monitoring and maintenance",SPORTS:"Sports-related data including scores, statistics, and player information"})[n]||"Data category classification",[]),g.useCallback(n=>({EXCELLENT:"Optimal data quality with no issues detected",HEALTHY:"Good data quality with minor or no issues",WARNING:"Some data quality issues detected that need attention",CRITICAL:"Significant data quality issues requiring immediate attention",EMERGENCY:"Severe data quality issues that may impact system functionality"})[n]||"Health status of the data",[]),g.useCallback(n=>({PUBLIC:"Data that can be freely shared and accessed by anyone",LOW:"Data with minimal sensitivity requirements",MEDIUM:"Data with moderate sensitivity requiring controlled access",HIGH:"Data with high sensitivity requiring strict access controls",CRITICAL:"Data with critical sensitivity requiring maximum security measures"})[n]||"Data sensitivity level",[]);const x=g.useCallback((n,h)=>{F(n,h),G(1)},[F,G]),f=g.useCallback(n=>{var h,y,ce,de,ge;return e.jsxs("div",{children:[e.jsxs("div",{style:{marginBottom:t.spacing.md,paddingBottom:t.spacing.sm,borderBottom:`1px solid ${o.border}`},children:[e.jsx("h3",{style:{fontSize:13,fontFamily:"Consolas",fontWeight:600,color:o.foreground,margin:`0 0 ${t.spacing.sm} 0`,paddingBottom:t.spacing.xs,borderBottom:`2px solid ${o.accent}`},children:"Basic Information"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:t.spacing.sm},children:[e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:t.spacing.xs,fontFamily:"Consolas"},children:"Schema:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:n.schema_name||"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Table:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:n.table_name||"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Source Engine:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:n.inferred_source_engine||"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Data Category:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:n.data_category?e.jsx("span",{style:{padding:`${t.spacing.xs} ${t.spacing.sm}`,borderRadius:2,fontSize:11,fontFamily:"Consolas",backgroundColor:o.backgroundSoft,color:o.foreground,border:`1px solid ${o.border}`},children:n.data_category}):"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:t.spacing.xs,fontFamily:"Consolas"},children:"Business Domain:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:n.business_domain||"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:t.spacing.xs,fontFamily:"Consolas"},children:"Sensitivity Level:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:n.sensitivity_level?e.jsx("span",{style:{padding:`${t.spacing.xs} ${t.spacing.sm}`,borderRadius:2,fontSize:11,fontFamily:"Consolas",backgroundColor:v(n.sensitivity_level)+"20",color:v(n.sensitivity_level),border:`1px solid ${v(n.sensitivity_level)}`},children:n.sensitivity_level}):"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:t.spacing.xs,fontFamily:"Consolas"},children:"Health Status:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:n.health_status?e.jsx("span",{style:{padding:`${t.spacing.xs} ${t.spacing.sm}`,borderRadius:2,fontSize:11,fontFamily:"Consolas",backgroundColor:v(n.health_status)+"20",color:v(n.health_status),border:`1px solid ${v(n.health_status)}`},children:n.health_status}):"N/A"})]})]})]}),e.jsxs("div",{style:{marginBottom:t.spacing.md,paddingBottom:t.spacing.sm,borderBottom:`1px solid ${o.border}`},children:[e.jsx("h3",{style:{fontSize:13,fontFamily:"Consolas",fontWeight:600,color:o.foreground,margin:`0 0 ${t.spacing.sm} 0`,paddingBottom:t.spacing.xs,borderBottom:`2px solid ${o.accent}`},children:"Metrics"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:t.spacing.sm},children:[e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Total Columns:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:((h=n.total_columns)==null?void 0:h.toLocaleString())||"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Total Rows:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:((y=n.total_rows)==null?void 0:y.toLocaleString())||"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Table Size:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:b(n.table_size_mb)})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Primary Key Columns:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:n.primary_key_columns||"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Index Count:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:((ce=n.index_count)==null?void 0:ce.toLocaleString())||"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Constraint Count:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:((de=n.constraint_count)==null?void 0:de.toLocaleString())||"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Data Quality Score:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:n.data_quality_score!==null&&n.data_quality_score!==void 0?e.jsxs("span",{style:{padding:"2px 8px",borderRadius:2,fontSize:11,fontFamily:"Consolas",backgroundColor:te(Number(n.data_quality_score))+"20",color:te(Number(n.data_quality_score)),border:`1px solid ${te(Number(n.data_quality_score))}`},children:[Number(n.data_quality_score).toFixed(2),"%"]}):"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Null Percentage:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:S(n.null_percentage)})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Duplicate Percentage:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:S(n.duplicate_percentage)})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Fragmentation:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:S(n.fragmentation_percentage)})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Access Frequency:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:n.access_frequency||"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Query Count (Daily):"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:((ge=n.query_count_daily)==null?void 0:ge.toLocaleString())||"N/A"})]})]})]}),e.jsxs("div",{style:{marginBottom:0},children:[e.jsx("h3",{style:{fontSize:13,fontFamily:"Consolas",fontWeight:600,color:o.foreground,margin:"0 0 12px 0",paddingBottom:4,borderBottom:`2px solid ${o.accent}`},children:"Timestamps"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:12},children:[e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"First Discovered:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:C(n.first_discovered)})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Last Analyzed:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:C(n.last_analyzed)})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Last Accessed:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:C(n.last_accessed)})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Last Vacuum:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:C(n.last_vacuum)})]})]})]})]})},[C,b,S]),T=g.useCallback(n=>e.jsx("div",{children:e.jsxs("div",{style:{marginBottom:0},children:[e.jsx("h3",{style:{fontSize:13,fontFamily:"Consolas",fontWeight:600,color:o.foreground,margin:"0 0 12px 0",paddingBottom:4,borderBottom:`2px solid ${o.accent}`},children:"Ownership"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:12},children:[e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Data Owner:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:n.data_owner||"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Owner Email:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:n.owner_email?e.jsx("a",{href:`mailto:${n.owner_email}`,style:{color:o.accent,fontFamily:"Consolas"},children:n.owner_email}):"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Data Steward:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:n.data_steward||"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Steward Email:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:n.steward_email?e.jsx("a",{href:`mailto:${n.steward_email}`,style:{color:o.accent,fontFamily:"Consolas"},children:n.steward_email}):"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Data Custodian:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:n.data_custodian||"N/A"})]})]})]})}),[]),A=g.useCallback(n=>e.jsxs("div",{children:[e.jsxs("div",{style:{marginBottom:16,paddingBottom:12,borderBottom:`1px solid ${o.border}`},children:[e.jsx("h3",{style:{fontSize:13,fontFamily:"Consolas",fontWeight:600,color:o.foreground,margin:"0 0 12px 0",paddingBottom:4,borderBottom:`2px solid ${o.accent}`},children:"Encryption"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:12},children:[e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Encryption at Rest:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:e.jsx("span",{style:{padding:"2px 8px",borderRadius:2,fontSize:11,fontFamily:"Consolas",backgroundColor:v(n.encryption_at_rest?"HEALTHY":"WARNING")+"20",color:v(n.encryption_at_rest?"HEALTHY":"WARNING"),border:`1px solid ${v(n.encryption_at_rest?"HEALTHY":"WARNING")}`},children:r(n.encryption_at_rest)})})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Encryption in Transit:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:e.jsx("span",{style:{padding:"2px 8px",borderRadius:2,fontSize:11,fontFamily:"Consolas",backgroundColor:v(n.encryption_in_transit?"HEALTHY":"WARNING")+"20",color:v(n.encryption_in_transit?"HEALTHY":"WARNING"),border:`1px solid ${v(n.encryption_in_transit?"HEALTHY":"WARNING")}`},children:r(n.encryption_in_transit)})})]})]})]}),e.jsxs("div",{style:{marginBottom:16,paddingBottom:12,borderBottom:`1px solid ${o.border}`},children:[e.jsx("h3",{style:{fontSize:13,fontFamily:"Consolas",fontWeight:600,color:o.foreground,margin:"0 0 12px 0",paddingBottom:4,borderBottom:`2px solid ${o.accent}`},children:"Data Masking"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:12},children:[e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Masking Policy Applied:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:e.jsx("span",{style:{padding:"2px 8px",borderRadius:2,fontSize:11,fontFamily:"Consolas",backgroundColor:v(n.masking_policy_applied?"HEALTHY":"WARNING")+"20",color:v(n.masking_policy_applied?"HEALTHY":"WARNING"),border:`1px solid ${v(n.masking_policy_applied?"HEALTHY":"WARNING")}`},children:r(n.masking_policy_applied)})})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Masking Policy Name:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:n.masking_policy_name||"N/A"})]})]})]}),e.jsxs("div",{style:{marginBottom:0},children:[e.jsx("h3",{style:{fontSize:13,fontFamily:"Consolas",fontWeight:600,color:o.foreground,margin:"0 0 12px 0",paddingBottom:4,borderBottom:`2px solid ${o.accent}`},children:"Access Control"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:12},children:[e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Row Level Security:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:e.jsx("span",{style:{padding:"2px 8px",borderRadius:2,fontSize:11,fontFamily:"Consolas",backgroundColor:v(n.row_level_security_enabled?"HEALTHY":"WARNING")+"20",color:v(n.row_level_security_enabled?"HEALTHY":"WARNING"),border:`1px solid ${v(n.row_level_security_enabled?"HEALTHY":"WARNING")}`},children:r(n.row_level_security_enabled)})})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Column Level Security:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:e.jsx("span",{style:{padding:"2px 8px",borderRadius:2,fontSize:11,fontFamily:"Consolas",backgroundColor:v(n.column_level_security_enabled?"HEALTHY":"WARNING")+"20",color:v(n.column_level_security_enabled?"HEALTHY":"WARNING"),border:`1px solid ${v(n.column_level_security_enabled?"HEALTHY":"WARNING")}`},children:r(n.column_level_security_enabled)})})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:o.muted,fontWeight:500,fontSize:11,marginBottom:4,fontFamily:"Consolas"},children:"Access Control Policy:"}),e.jsx("div",{style:{color:o.foreground,fontSize:12,fontFamily:"Consolas"},children:n.access_control_policy||"N/A"})]})]})]})]}),[r]),Z=g.useCallback(n=>{var h;return e.jsxs(ne,{children:[e.jsxs(R,{children:[e.jsx(B,{children:"Consent & Legal Basis"}),e.jsxs(I,{children:[e.jsx(l,{children:"Consent Required:"}),e.jsx(c,{children:e.jsx(V,{$status:n.consent_required?"WARNING":"HEALTHY",children:r(n.consent_required)})}),e.jsx(l,{children:"Consent Type:"}),e.jsx(c,{children:n.consent_type||"N/A"}),e.jsx(l,{children:"Legal Basis:"}),e.jsx(c,{children:n.legal_basis||"N/A"}),e.jsx(l,{children:"Data Subject Rights:"}),e.jsx(c,{style:{whiteSpace:"pre-wrap"},children:n.data_subject_rights||"N/A"})]})]}),e.jsxs(R,{children:[e.jsx(B,{children:"PII/PHI Detection"}),e.jsxs(I,{children:[e.jsx(l,{children:"PII Detection Method:"}),e.jsx(c,{children:n.pii_detection_method||"N/A"}),e.jsx(l,{children:"PII Confidence Score:"}),e.jsx(c,{children:n.pii_confidence_score!==null&&n.pii_confidence_score!==void 0?`${Number(n.pii_confidence_score).toFixed(2)}%`:"N/A"}),e.jsx(l,{children:"PII Categories:"}),e.jsx(c,{style:{whiteSpace:"pre-wrap"},children:n.pii_categories||"N/A"}),e.jsx(l,{children:"PHI Detection Method:"}),e.jsx(c,{children:n.phi_detection_method||"N/A"}),e.jsx(l,{children:"PHI Confidence Score:"}),e.jsx(c,{children:n.phi_confidence_score!==null&&n.phi_confidence_score!==void 0?`${Number(n.phi_confidence_score).toFixed(2)}%`:"N/A"}),e.jsx(l,{children:"Sensitive Data Count:"}),e.jsx(c,{children:((h=n.sensitive_data_count)==null?void 0:h.toLocaleString())||"0"}),e.jsx(l,{children:"Last PII Scan:"}),e.jsx(c,{children:C(n.last_pii_scan)})]})]}),e.jsxs(R,{children:[e.jsx(B,{children:"Cross-Border Transfer"}),e.jsxs(I,{children:[e.jsx(l,{children:"Cross-Border Transfer:"}),e.jsx(c,{children:e.jsx(V,{$status:n.cross_border_transfer?"WARNING":"HEALTHY",children:r(n.cross_border_transfer)})}),e.jsx(l,{children:"Cross-Border Countries:"}),e.jsx(c,{style:{whiteSpace:"pre-wrap"},children:n.cross_border_countries||"N/A"}),e.jsx(l,{children:"Data Processing Agreement:"}),e.jsx(c,{style:{whiteSpace:"pre-wrap"},children:n.data_processing_agreement||"N/A"}),e.jsx(l,{children:"Privacy Impact Assessment:"}),e.jsx(c,{style:{whiteSpace:"pre-wrap"},children:n.privacy_impact_assessment||"N/A"})]})]}),e.jsxs(R,{children:[e.jsx(B,{children:"Breach Management"}),e.jsxs(I,{children:[e.jsx(l,{children:"Breach Notification Required:"}),e.jsx(c,{children:e.jsx(V,{$status:n.breach_notification_required?"WARNING":"HEALTHY",children:r(n.breach_notification_required)})}),e.jsx(l,{children:"Last Breach Check:"}),e.jsx(c,{children:C(n.last_breach_check)})]})]})]})},[r,C]),Q=g.useCallback(n=>e.jsxs(ne,{children:[e.jsxs(R,{children:[e.jsx(B,{children:"Retention Policy"}),e.jsxs(I,{children:[e.jsx(l,{children:"Retention Enforced:"}),e.jsx(c,{children:e.jsx(V,{$status:n.retention_enforced?"HEALTHY":"WARNING",children:r(n.retention_enforced)})}),e.jsx(l,{children:"Data Expiration Date:"}),e.jsx(c,{children:C(n.data_expiration_date)}),e.jsx(l,{children:"Auto Delete Enabled:"}),e.jsx(c,{children:e.jsx(V,{$status:n.auto_delete_enabled?"WARNING":"HEALTHY",children:r(n.auto_delete_enabled)})})]})]}),e.jsxs(R,{children:[e.jsx(B,{children:"Archival"}),e.jsxs(I,{children:[e.jsx(l,{children:"Archival Policy:"}),e.jsx(c,{children:n.archival_policy||"N/A"}),e.jsx(l,{children:"Archival Location:"}),e.jsx(c,{children:n.archival_location||"N/A"}),e.jsx(l,{children:"Last Archived At:"}),e.jsx(c,{children:C(n.last_archived_at)})]})]})]}),[r,C]),re=g.useCallback(n=>e.jsx(ne,{children:e.jsxs(R,{children:[e.jsx(B,{children:"Legal Hold"}),e.jsxs(I,{children:[e.jsx(l,{children:"Legal Hold:"}),e.jsx(c,{children:e.jsx(V,{$status:n.legal_hold?"CRITICAL":"HEALTHY",children:r(n.legal_hold)})}),e.jsx(l,{children:"Legal Hold Reason:"}),e.jsx(c,{style:{whiteSpace:"pre-wrap"},children:n.legal_hold_reason||"N/A"}),e.jsx(l,{children:"Legal Hold Until:"}),e.jsx(c,{children:C(n.legal_hold_until)})]})]})}),[r,C]),he=g.useCallback(n=>{var h;return e.jsxs(ne,{children:[e.jsxs(R,{children:[e.jsx(B,{children:"Quality Metrics"}),e.jsxs(I,{children:[e.jsx(l,{children:"Quality SLA Score:"}),e.jsx(c,{children:n.quality_sla_score!==null&&n.quality_sla_score!==void 0?e.jsxs(Ge,{$score:Number(n.quality_sla_score),children:[Number(n.quality_sla_score).toFixed(2),"%"]}):"N/A"}),e.jsx(l,{children:"Quality Checks Automated:"}),e.jsx(c,{children:e.jsx(V,{$status:n.quality_checks_automated?"HEALTHY":"WARNING",children:r(n.quality_checks_automated)})}),e.jsx(l,{children:"Anomaly Detection Enabled:"}),e.jsx(c,{children:e.jsx(V,{$status:n.anomaly_detection_enabled?"HEALTHY":"WARNING",children:r(n.anomaly_detection_enabled)})}),e.jsx(l,{children:"Last Anomaly Detected:"}),e.jsx(c,{children:C(n.last_anomaly_detected)})]})]}),e.jsxs(R,{children:[e.jsx(B,{children:"Data Freshness"}),e.jsxs(I,{children:[e.jsx(l,{children:"Freshness Threshold (Hours):"}),e.jsx(c,{children:((h=n.data_freshness_threshold_hours)==null?void 0:h.toLocaleString())||"N/A"}),e.jsx(l,{children:"Last Freshness Check:"}),e.jsx(c,{children:C(n.last_freshness_check)})]})]}),e.jsxs(R,{children:[e.jsx(B,{children:"Schema Evolution"}),e.jsxs(I,{children:[e.jsx(l,{children:"Schema Evolution Tracking:"}),e.jsx(c,{children:e.jsx(V,{$status:n.schema_evolution_tracking?"HEALTHY":"WARNING",children:r(n.schema_evolution_tracking)})}),e.jsx(l,{children:"Last Schema Change:"}),e.jsx(c,{children:C(n.last_schema_change)})]})]})]})},[r,C]),ie=g.useCallback(n=>e.jsxs(ne,{children:[e.jsxs(R,{children:[e.jsx(B,{children:"ETL Pipeline"}),e.jsxs(I,{children:[e.jsx(l,{children:"ETL Pipeline Name:"}),e.jsx(c,{children:n.etl_pipeline_name||"N/A"}),e.jsx(l,{children:"ETL Pipeline ID:"}),e.jsx(c,{children:n.etl_pipeline_id||"N/A"}),e.jsx(l,{children:"Transformation Rules:"}),e.jsx(c,{style:{whiteSpace:"pre-wrap"},children:n.transformation_rules||"N/A"})]})]}),e.jsxs(R,{children:[e.jsx(B,{children:"Systems"}),e.jsxs(I,{children:[e.jsx(l,{children:"Source Systems:"}),e.jsx(c,{style:{whiteSpace:"pre-wrap"},children:n.source_systems||"N/A"}),e.jsx(l,{children:"Downstream Systems:"}),e.jsx(c,{style:{whiteSpace:"pre-wrap"},children:n.downstream_systems||"N/A"}),e.jsx(l,{children:"BI Tools Used:"}),e.jsx(c,{style:{whiteSpace:"pre-wrap"},children:n.bi_tools_used||"N/A"}),e.jsx(l,{children:"API Endpoints:"}),e.jsx(c,{style:{whiteSpace:"pre-wrap"},children:n.api_endpoints||"N/A"})]})]})]}),[]),le=g.useCallback(n=>e.jsxs(ne,{children:[e.jsxs(R,{children:[e.jsx(B,{children:"Documentation"}),e.jsxs(I,{children:[e.jsx(l,{children:"Business Glossary Term:"}),e.jsx(c,{style:{whiteSpace:"pre-wrap"},children:n.business_glossary_term||"N/A"}),e.jsx(l,{children:"Data Dictionary Description:"}),e.jsx(c,{style:{whiteSpace:"pre-wrap"},children:n.data_dictionary_description||"N/A"})]})]}),e.jsxs(R,{children:[e.jsx(B,{children:"Approval"}),e.jsxs(I,{children:[e.jsx(l,{children:"Approval Required:"}),e.jsx(c,{children:e.jsx(V,{$status:n.approval_required?"WARNING":"HEALTHY",children:r(n.approval_required)})}),e.jsx(l,{children:"Last Approved By:"}),e.jsx(c,{children:n.last_approved_by||"N/A"}),e.jsx(l,{children:"Last Approved At:"}),e.jsx(c,{children:C(n.last_approved_at)})]})]})]}),[r,C]);return P&&m.length===0?e.jsx(Le,{variant:"table"}):e.jsxs(je,{children:[e.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:t.spacing.lg,paddingBottom:t.spacing.md,borderBottom:`2px solid ${o.accent}`},children:e.jsxs("h1",{style:{fontSize:14,fontWeight:600,margin:0,color:o.foreground,textTransform:"uppercase",fontFamily:"Consolas"},children:[e.jsx("span",{style:{color:o.accent,marginRight:t.spacing.sm},children:p.blockFull}),"DATA GOVERNANCE CATALOG"]})}),M&&e.jsx("div",{style:{marginBottom:t.spacing.md},children:e.jsx(W,{title:"ERROR",children:e.jsx("div",{style:{padding:t.spacing.sm,color:o.foreground,fontSize:12,fontFamily:"Consolas",backgroundColor:o.backgroundSoft,borderRadius:2},children:M})})}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:t.spacing.md,marginBottom:t.spacing.lg},children:[e.jsx(W,{title:"Total Tables",children:e.jsx("div",{style:{fontFamily:"Consolas",fontSize:14,fontWeight:600,color:o.foreground},children:d(_.total_tables)})}),e.jsx(W,{title:"Total Size",children:e.jsx("div",{style:{fontFamily:"Consolas",fontSize:14,fontWeight:600,color:o.foreground},children:b(_.total_size_mb)})}),e.jsx(W,{title:"Total Rows",children:e.jsx("div",{style:{fontFamily:"Consolas",fontSize:14,fontWeight:600,color:o.foreground},children:d(_.total_rows)})}),e.jsx(W,{title:"Healthy",children:e.jsx("div",{style:{fontFamily:"Consolas",fontSize:14,fontWeight:600,color:o.foreground},children:d(_.healthy_count)})}),e.jsx(W,{title:"Warning",children:e.jsx("div",{style:{fontFamily:"Consolas",fontSize:14,fontWeight:600,color:o.foreground},children:d(_.warning_count)})}),e.jsx(W,{title:"Critical",children:e.jsx("div",{style:{fontFamily:"Consolas",fontSize:14,fontWeight:600,color:o.foreground},children:d(_.critical_count)})}),e.jsx(W,{title:"Unique Engines",children:e.jsx("div",{style:{fontFamily:"Consolas",fontSize:14,fontWeight:600,color:o.foreground},children:d(_.unique_engines)})})]}),e.jsx(W,{title:"FILTERS",children:e.jsxs("div",{style:{display:"flex",gap:t.spacing.sm,flexWrap:"wrap",alignItems:"center"},children:[e.jsxs("select",{value:j.engine,onChange:n=>x("engine",n.target.value),style:{padding:`${t.spacing.xs} ${t.spacing.sm}`,border:`1px solid ${o.border}`,borderRadius:2,fontFamily:"Consolas",fontSize:12,backgroundColor:o.background,color:o.foreground,cursor:"pointer",outline:"none",transition:"border-color 0.15s ease"},onFocus:n=>{n.target.style.borderColor=o.accent,n.target.style.outline=`2px solid ${o.accent}`,n.target.style.outlineOffset="2px"},onBlur:n=>{n.target.style.borderColor=o.border,n.target.style.outline="none"},children:[e.jsx("option",{value:"",children:"All Engines"}),e.jsx("option",{value:"PostgreSQL",children:"PostgreSQL"}),e.jsx("option",{value:"MongoDB",children:"MongoDB"}),e.jsx("option",{value:"MSSQL",children:"MSSQL"}),e.jsx("option",{value:"MariaDB",children:"MariaDB"})]}),e.jsxs("select",{value:j.category,onChange:n=>x("category",n.target.value),style:{padding:`${t.spacing.xs} ${t.spacing.sm}`,border:`1px solid ${o.border}`,borderRadius:2,fontFamily:"Consolas",fontSize:12,backgroundColor:o.background,color:o.foreground,cursor:"pointer",outline:"none",transition:"border-color 0.15s ease"},onFocus:n=>{n.target.style.borderColor=o.accent,n.target.style.outline=`2px solid ${o.accent}`,n.target.style.outlineOffset="2px"},onBlur:n=>{n.target.style.borderColor=o.border,n.target.style.outline="none"},children:[e.jsx("option",{value:"",children:"All Categories"}),e.jsx("option",{value:"TRANSACTIONAL",children:"Transactional"}),e.jsx("option",{value:"ANALYTICAL",children:"Analytical"}),e.jsx("option",{value:"REFERENCE",children:"Reference"}),e.jsx("option",{value:"MASTER_DATA",children:"Master Data"}),e.jsx("option",{value:"OPERATIONAL",children:"Operational"}),e.jsx("option",{value:"TEMPORAL",children:"Temporal"}),e.jsx("option",{value:"GEOSPATIAL",children:"Geospatial"}),e.jsx("option",{value:"FINANCIAL",children:"Financial"}),e.jsx("option",{value:"COMPLIANCE",children:"Compliance"}),e.jsx("option",{value:"TECHNICAL",children:"Technical"}),e.jsx("option",{value:"SPORTS",children:"Sports"})]}),e.jsxs("select",{value:j.health,onChange:n=>x("health",n.target.value),style:{padding:`${t.spacing.xs} ${t.spacing.sm}`,border:`1px solid ${o.border}`,borderRadius:2,fontFamily:"Consolas",fontSize:12,backgroundColor:o.background,color:o.foreground,cursor:"pointer",outline:"none",transition:"border-color 0.15s ease"},onFocus:n=>{n.target.style.borderColor=o.accent,n.target.style.outline=`2px solid ${o.accent}`,n.target.style.outlineOffset="2px"},onBlur:n=>{n.target.style.borderColor=o.border,n.target.style.outline="none"},children:[e.jsx("option",{value:"",children:"All Health Status"}),e.jsx("option",{value:"EXCELLENT",children:"Excellent"}),e.jsx("option",{value:"HEALTHY",children:"Healthy"}),e.jsx("option",{value:"WARNING",children:"Warning"}),e.jsx("option",{value:"CRITICAL",children:"Critical"}),e.jsx("option",{value:"EMERGENCY",children:"Emergency"})]}),e.jsxs("select",{value:j.sensitivity,onChange:n=>x("sensitivity",n.target.value),style:{padding:`${t.spacing.xs} ${t.spacing.sm}`,border:`1px solid ${o.border}`,borderRadius:2,fontFamily:"Consolas",fontSize:12,backgroundColor:o.background,color:o.foreground,cursor:"pointer",outline:"none",transition:"border-color 0.15s ease"},onFocus:n=>{n.target.style.borderColor=o.accent,n.target.style.outline=`2px solid ${o.accent}`,n.target.style.outlineOffset="2px"},onBlur:n=>{n.target.style.borderColor=o.border,n.target.style.outline="none"},children:[e.jsx("option",{value:"",children:"All Sensitivity"}),e.jsx("option",{value:"PUBLIC",children:"Public"}),e.jsx("option",{value:"LOW",children:"Low"}),e.jsx("option",{value:"MEDIUM",children:"Medium"}),e.jsx("option",{value:"HIGH",children:"High"}),e.jsx("option",{value:"CRITICAL",children:"Critical"})]}),e.jsxs("select",{value:j.domain,onChange:n=>x("domain",n.target.value),style:{padding:`${t.spacing.xs} ${t.spacing.sm}`,border:`1px solid ${o.border}`,borderRadius:2,fontFamily:"Consolas",fontSize:12,backgroundColor:o.background,color:o.foreground,cursor:"pointer",outline:"none",transition:"border-color 0.15s ease"},onFocus:n=>{n.target.style.borderColor=o.accent,n.target.style.outline=`2px solid ${o.accent}`,n.target.style.outlineOffset="2px"},onBlur:n=>{n.target.style.borderColor=o.border,n.target.style.outline="none"},children:[e.jsx("option",{value:"",children:"All Domains"}),e.jsx("option",{value:"CUSTOMER",children:"Customer"}),e.jsx("option",{value:"SALES",children:"Sales"}),e.jsx("option",{value:"MARKETING",children:"Marketing"}),e.jsx("option",{value:"HR",children:"HR"}),e.jsx("option",{value:"FINANCE",children:"Finance"}),e.jsx("option",{value:"INVENTORY",children:"Inventory"}),e.jsx("option",{value:"OPERATIONS",children:"Operations"}),e.jsx("option",{value:"SUPPORT",children:"Support"}),e.jsx("option",{value:"SECURITY",children:"Security"}),e.jsx("option",{value:"ANALYTICS",children:"Analytics"}),e.jsx("option",{value:"COMMUNICATION",children:"Communication"}),e.jsx("option",{value:"LEGAL",children:"Legal"}),e.jsx("option",{value:"RESEARCH",children:"Research"}),e.jsx("option",{value:"MANUFACTURING",children:"Manufacturing"}),e.jsx("option",{value:"LOGISTICS",children:"Logistics"}),e.jsx("option",{value:"HEALTHCARE",children:"Healthcare"}),e.jsx("option",{value:"EDUCATION",children:"Education"}),e.jsx("option",{value:"REAL_ESTATE",children:"Real Estate"}),e.jsx("option",{value:"INSURANCE",children:"Insurance"}),e.jsx("option",{value:"SPORTS",children:"Sports"}),e.jsx("option",{value:"GENERAL",children:"General"})]}),e.jsx($,{label:"Reset All",onClick:()=>{q(),G(1)},variant:"ghost"})]})}),!P&&!M&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:t.spacing.lg,marginTop:t.spacing.sm,fontFamily:"Consolas",fontSize:12,gap:t.spacing.lg},children:[e.jsxs("div",{style:{display:"flex",gap:t.spacing.sm,alignItems:"center"},children:[e.jsx("label",{style:{color:o.muted,fontSize:11,fontFamily:"Consolas"},children:"Items per page:"}),e.jsxs("select",{value:z,onChange:n=>{H(Number(n.target.value)),G(1)},style:{padding:`${t.spacing.xs} ${t.spacing.sm}`,border:`1px solid ${o.border}`,borderRadius:2,fontFamily:"Consolas",fontSize:12,backgroundColor:o.background,color:o.foreground,cursor:"pointer",outline:"none",transition:"border-color 0.15s ease"},onFocus:n=>{n.target.style.borderColor=o.accent,n.target.style.outline=`2px solid ${o.accent}`,n.target.style.outlineOffset="2px"},onBlur:n=>{n.target.style.borderColor=o.border,n.target.style.outline="none"},children:[e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:20,children:"20"}),e.jsx("option",{value:50,children:"50"}),e.jsx("option",{value:100,children:"100"}),e.jsx("option",{value:200,children:"200"})]})]}),e.jsxs("div",{style:{display:"flex",gap:t.spacing.sm,alignItems:"center"},children:[e.jsx($,{label:U==="list"?"Show Charts":"Show List",onClick:()=>ee(U==="list"?"charts":"list"),variant:U==="charts"?"primary":"ghost"}),e.jsx($,{label:"Metrics Info",onClick:()=>K(!0),variant:"ghost"})]})]}),D&&e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>K(!1),children:e.jsxs("div",{style:{width:"90%",maxWidth:900,maxHeight:"90vh",overflowY:"auto"},onClick:n=>n.stopPropagation(),children:[e.jsx("style",{children:`
                  div[style*="overflowY"]::-webkit-scrollbar {
                    width: 0px;
                    display: none;
                  }
                  div[style*="overflowY"] {
                    -ms-overflow-style: none;
                    scrollbar-width: none;
                  }
                `}),e.jsx(W,{title:"METRICS PLAYBOOK - DATA GOVERNANCE",children:e.jsxs("div",{style:{padding:t.spacing.md,fontFamily:"Consolas",fontSize:12,lineHeight:1.6},children:[e.jsxs("div",{style:{marginBottom:t.spacing.md},children:[e.jsxs("div",{style:{fontSize:13,fontWeight:600,color:o.accent,marginBottom:t.spacing.sm,fontFamily:"Consolas"},children:[p.blockFull," Total Tables"]}),e.jsx("div",{style:{color:o.foreground,marginLeft:t.spacing.md,fontSize:11,fontFamily:"Consolas"},children:"Total number of tables cataloged across all database engines in the unified governance system."})]}),e.jsxs("div",{style:{marginBottom:t.spacing.md},children:[e.jsxs("div",{style:{fontSize:13,fontWeight:600,color:o.accent,marginBottom:t.spacing.sm,fontFamily:"Consolas"},children:[p.blockFull," Total Size"]}),e.jsx("div",{style:{color:o.foreground,marginLeft:t.spacing.md,fontSize:11,fontFamily:"Consolas"},children:"Combined storage size of all tables across all databases. Includes data and index sizes."})]}),e.jsxs("div",{style:{marginBottom:t.spacing.md},children:[e.jsxs("div",{style:{fontSize:13,fontWeight:600,color:o.accent,marginBottom:t.spacing.sm,fontFamily:"Consolas"},children:[p.blockFull," Total Rows"]}),e.jsx("div",{style:{color:o.foreground,marginLeft:t.spacing.md,fontSize:11,fontFamily:"Consolas"},children:"Total number of rows across all tables in the governance catalog."})]}),e.jsxs("div",{style:{marginBottom:t.spacing.md},children:[e.jsxs("div",{style:{fontSize:13,fontWeight:600,color:o.accent,marginBottom:t.spacing.sm,fontFamily:"Consolas"},children:[p.blockFull," Healthy"]}),e.jsx("div",{style:{color:o.foreground,marginLeft:t.spacing.md,fontSize:11,fontFamily:"Consolas"},children:"Tables with HEALTHY status, indicating optimal performance, good data quality, proper governance controls, and compliance."})]}),e.jsxs("div",{style:{marginBottom:t.spacing.md},children:[e.jsxs("div",{style:{fontSize:13,fontWeight:600,color:o.muted,marginBottom:t.spacing.sm,fontFamily:"Consolas"},children:[p.blockFull," Warning"]}),e.jsx("div",{style:{color:o.foreground,marginLeft:t.spacing.md,fontSize:11,fontFamily:"Consolas"},children:"Tables with WARNING status, indicating potential governance issues such as missing metadata, incomplete documentation, or compliance concerns that should be addressed."})]}),e.jsxs("div",{style:{marginBottom:t.spacing.md},children:[e.jsxs("div",{style:{fontSize:13,fontWeight:600,color:o.foreground,marginBottom:t.spacing.sm,fontFamily:"Consolas"},children:[p.blockFull," Critical"]}),e.jsx("div",{style:{color:o.foreground,marginLeft:t.spacing.md,fontSize:11,fontFamily:"Consolas"},children:"Tables with CRITICAL status, indicating serious governance issues requiring immediate attention such as missing data owners, unclassified sensitive data, or compliance violations."})]}),e.jsxs("div",{style:{marginBottom:t.spacing.md},children:[e.jsxs("div",{style:{fontSize:13,fontWeight:600,color:o.accent,marginBottom:t.spacing.sm,fontFamily:"Consolas"},children:[p.blockFull," Unique Engines"]}),e.jsx("div",{style:{color:o.foreground,marginLeft:t.spacing.md,fontSize:11,fontFamily:"Consolas"},children:"Number of distinct database engines (PostgreSQL, MariaDB, MSSQL, MongoDB, Oracle) being monitored in the unified governance catalog."})]}),e.jsxs("div",{style:{marginTop:t.spacing.md,padding:t.spacing.sm,background:o.backgroundSoft,borderRadius:2,border:`1px solid ${o.border}`},children:[e.jsxs("div",{style:{fontSize:11,fontWeight:600,color:o.muted,marginBottom:t.spacing.xs,fontFamily:"Consolas"},children:[p.blockSemi," Note"]}),e.jsx("div",{style:{fontSize:11,color:o.foreground,fontFamily:"Consolas"},children:"These metrics are calculated in real-time from the data_governance_catalog table and reflect the current state of your unified data governance catalog across all database engines."})]}),e.jsx("div",{style:{marginTop:t.spacing.md,textAlign:"right"},children:e.jsx($,{label:"Close",onClick:()=>K(!1),variant:"ghost"})})]})})]})}),U==="charts"&&e.jsx(Pe,{selectedTable:a?{schema_name:a.schema_name,table_name:a.table_name,inferred_source_engine:a.inferred_source_engine}:null}),U==="list"&&e.jsx(e.Fragment,{children:P?e.jsx(be,{children:"Loading tree view..."}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:a?"1fr 500px":"1fr",gap:t.spacing.md,marginTop:t.spacing.md},children:[e.jsx(De,{items:m,onItemClick:ue}),a&&e.jsxs(W,{title:"DETAILS",style:{position:"sticky",top:t.spacing.md,maxHeight:"calc(100vh - 200px)",overflowY:"auto"},children:[e.jsx("style",{children:`
                          div[style*="overflowY"]::-webkit-scrollbar {
                            width: 0px;
                            display: none;
                          }
                          div[style*="overflowY"] {
                            -ms-overflow-style: none;
                            scrollbar-width: none;
                          }
                        `}),e.jsxs("div",{style:{display:"flex",gap:t.spacing.xs,marginBottom:t.spacing.md,borderBottom:`1px solid ${o.border}`,paddingBottom:t.spacing.sm,flexWrap:"wrap"},children:[e.jsx($,{label:"Overview",onClick:()=>u("overview"),variant:s==="overview"?"primary":"ghost"}),e.jsx($,{label:"Ownership",onClick:()=>u("ownership"),variant:s==="ownership"?"primary":"ghost"}),e.jsx($,{label:"Security",onClick:()=>u("security"),variant:s==="security"?"primary":"ghost"}),e.jsx($,{label:"Privacy/GDPR",onClick:()=>u("privacy"),variant:s==="privacy"?"primary":"ghost"}),e.jsx($,{label:"Retention",onClick:()=>u("retention"),variant:s==="retention"?"primary":"ghost"}),e.jsx($,{label:"Legal Hold",onClick:()=>u("legal"),variant:s==="legal"?"primary":"ghost"}),e.jsx($,{label:"Data Quality",onClick:()=>u("quality"),variant:s==="quality"?"primary":"ghost"}),e.jsx($,{label:"Integration",onClick:()=>u("integration"),variant:s==="integration"?"primary":"ghost"}),e.jsx($,{label:"Documentation",onClick:()=>u("documentation"),variant:s==="documentation"?"primary":"ghost"})]}),s==="overview"&&f(a),s==="ownership"&&T(a),s==="security"&&A(a),s==="privacy"&&Z(a),s==="retention"&&Q(a),s==="legal"&&re(a),s==="quality"&&he(a),s==="integration"&&ie(a),s==="documentation"&&le(a)]})]}),L.totalPages>1&&e.jsx("div",{style:{marginTop:t.spacing.lg},children:e.jsxs(ve,{children:[e.jsx(xe,{onClick:()=>G(Math.max(1,i-1)),disabled:i===1,children:"Previous"}),e.jsxs("span",{style:{fontFamily:"Consolas",fontSize:12,color:o.foreground},children:["Page ",L.currentPage," of ",L.totalPages," (",L.total," total)"]}),e.jsx(xe,{onClick:()=>G(Math.min(L.totalPages,i+1)),disabled:i===L.totalPages,children:"Next"})]})})]})})]})]})};export{Je as default};
